(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function b2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var If={exports:{}},Fl={};var Ay;function A2(){if(Ay)return Fl;Ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var Sy;function S2(){return Sy||(Sy=1,If.exports=A2()),If.exports}var T=S2(),Lf={exports:{}},wt={};var xy;function x2(){if(xy)return wt;xy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function Y(M){return M===null||typeof M!="object"?null:(M=j&&M[j]||M["@@iterator"],typeof M=="function"?M:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,$={};function vt(M,F,et){this.props=M,this.context=F,this.refs=$,this.updater=et||nt}vt.prototype.isReactComponent={},vt.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},vt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function bt(){}bt.prototype=vt.prototype;function dt(M,F,et){this.props=M,this.context=F,this.refs=$,this.updater=et||nt}var Ot=dt.prototype=new bt;Ot.constructor=dt,it(Ot,vt.prototype),Ot.isPureReactComponent=!0;var ee=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(M,F,et){var rt=et.ref;return{$$typeof:a,type:M,key:F,ref:rt!==void 0?rt:null,props:et}}function I(M,F){return N(M.type,F,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function O(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return F[et]})}var x=/\/+/g;function Vt(M,F){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):F.toString(36)}function pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(st,st):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,F,et,rt,Et){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var mt=!1;if(M===null)mt=!0;else switch(Ct){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(M.$$typeof){case a:case e:mt=!0;break;case A:return mt=M._init,G(mt(M._payload),F,et,rt,Et)}}if(mt)return Et=Et(M),mt=rt===""?"."+Vt(M,0):rt,ee(Et)?(et="",mt!=null&&(et=mt.replace(x,"$&/")+"/"),G(Et,F,et,"",function(ii){return ii})):Et!=null&&(V(Et)&&(Et=I(Et,et+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(x,"$&/")+"/")+mt)),F.push(Et)),1;mt=0;var oe=rt===""?".":rt+":";if(ee(M))for(var Jt=0;Jt<M.length;Jt++)rt=M[Jt],Ct=oe+Vt(rt,Jt),mt+=G(rt,F,et,Ct,Et);else if(Jt=Y(M),typeof Jt=="function")for(M=Jt.call(M),Jt=0;!(rt=M.next()).done;)rt=rt.value,Ct=oe+Vt(rt,Jt++),mt+=G(rt,F,et,Ct,Et);else if(Ct==="object"){if(typeof M.then=="function")return G(pe(M),F,et,rt,Et);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return mt}function tt(M,F,et){if(M==null)return M;var rt=[],Et=0;return G(M,rt,"","",function(Ct){return F.call(et,Ct,Et++)}),rt}function yt(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Yt={map:tt,forEach:function(M,F,et){tt(M,function(){F.apply(this,arguments)},et)},count:function(M){var F=0;return tt(M,function(){F++}),F},toArray:function(M){return tt(M,function(F){return F})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return wt.Activity=w,wt.Children=Yt,wt.Component=vt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=dt,wt.StrictMode=r,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},wt.cache=function(M){return function(){return M.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(M,F,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=it({},M.props),Et=M.key;if(F!=null)for(Ct in F.key!==void 0&&(Et=""+F.key),F)!S.call(F,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&F.ref===void 0||(rt[Ct]=F[Ct]);var Ct=arguments.length-2;if(Ct===1)rt.children=et;else if(1<Ct){for(var mt=Array(Ct),oe=0;oe<Ct;oe++)mt[oe]=arguments[oe+2];rt.children=mt}return N(M.type,Et,rt)},wt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},wt.createElement=function(M,F,et){var rt,Et={},Ct=null;if(F!=null)for(rt in F.key!==void 0&&(Ct=""+F.key),F)S.call(F,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=F[rt]);var mt=arguments.length-2;if(mt===1)Et.children=et;else if(1<mt){for(var oe=Array(mt),Jt=0;Jt<mt;Jt++)oe[Jt]=arguments[Jt+2];Et.children=oe}if(M&&M.defaultProps)for(rt in mt=M.defaultProps,mt)Et[rt]===void 0&&(Et[rt]=mt[rt]);return N(M,Ct,Et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(M){return{$$typeof:_,render:M}},wt.isValidElement=V,wt.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:yt}},wt.memo=function(M,F){return{$$typeof:y,type:M,compare:F===void 0?null:F}},wt.startTransition=function(M){var F=R.T,et={};R.T=et;try{var rt=M(),Et=R.S;Et!==null&&Et(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(st,kt)}catch(Ct){kt(Ct)}finally{F!==null&&et.types!==null&&(F.types=et.types),R.T=F}},wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wt.use=function(M){return R.H.use(M)},wt.useActionState=function(M,F,et){return R.H.useActionState(M,F,et)},wt.useCallback=function(M,F){return R.H.useCallback(M,F)},wt.useContext=function(M){return R.H.useContext(M)},wt.useDebugValue=function(){},wt.useDeferredValue=function(M,F){return R.H.useDeferredValue(M,F)},wt.useEffect=function(M,F){return R.H.useEffect(M,F)},wt.useEffectEvent=function(M){return R.H.useEffectEvent(M)},wt.useId=function(){return R.H.useId()},wt.useImperativeHandle=function(M,F,et){return R.H.useImperativeHandle(M,F,et)},wt.useInsertionEffect=function(M,F){return R.H.useInsertionEffect(M,F)},wt.useLayoutEffect=function(M,F){return R.H.useLayoutEffect(M,F)},wt.useMemo=function(M,F){return R.H.useMemo(M,F)},wt.useOptimistic=function(M,F){return R.H.useOptimistic(M,F)},wt.useReducer=function(M,F,et){return R.H.useReducer(M,F,et)},wt.useRef=function(M){return R.H.useRef(M)},wt.useState=function(M){return R.H.useState(M)},wt.useSyncExternalStore=function(M,F,et){return R.H.useSyncExternalStore(M,F,et)},wt.useTransition=function(){return R.H.useTransition()},wt.version="19.2.3",wt}var wy;function Sd(){return wy||(wy=1,Lf.exports=x2()),Lf.exports}var pt=Sd();const w2=b2(pt);var Of={exports:{}},Yl={},jf={exports:{}},zf={};var Ry;function R2(){return Ry||(Ry=1,(function(a){function e(G,tt){var yt=G.length;G.push(tt);t:for(;0<yt;){var kt=yt-1>>>1,Yt=G[kt];if(0<o(Yt,tt))G[kt]=tt,G[yt]=Yt,yt=kt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var tt=G[0],yt=G.pop();if(yt!==tt){G[0]=yt;t:for(var kt=0,Yt=G.length,M=Yt>>>1;kt<M;){var F=2*(kt+1)-1,et=G[F],rt=F+1,Et=G[rt];if(0>o(et,yt))rt<Yt&&0>o(Et,et)?(G[kt]=Et,G[rt]=yt,kt=rt):(G[kt]=et,G[F]=yt,kt=F);else if(rt<Yt&&0>o(Et,yt))G[kt]=Et,G[rt]=yt,kt=rt;else break t}}return tt}function o(G,tt){var yt=G.sortIndex-tt.sortIndex;return yt!==0?yt:G.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();a.unstable_now=function(){return d.now()-_}}var v=[],y=[],A=1,w=null,j=3,Y=!1,nt=!1,it=!1,$=!1,vt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Ot(G){for(var tt=i(y);tt!==null;){if(tt.callback===null)r(y);else if(tt.startTime<=G)r(y),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(y)}}function ee(G){if(it=!1,Ot(G),!nt)if(i(v)!==null)nt=!0,st||(st=!0,O());else{var tt=i(y);tt!==null&&pe(ee,tt.startTime-G)}}var st=!1,R=-1,S=5,N=-1;function I(){return $?!0:!(a.unstable_now()-N<S)}function V(){if($=!1,st){var G=a.unstable_now();N=G;var tt=!0;try{t:{nt=!1,it&&(it=!1,bt(R),R=-1),Y=!0;var yt=j;try{e:{for(Ot(G),w=i(v);w!==null&&!(w.expirationTime>G&&I());){var kt=w.callback;if(typeof kt=="function"){w.callback=null,j=w.priorityLevel;var Yt=kt(w.expirationTime<=G);if(G=a.unstable_now(),typeof Yt=="function"){w.callback=Yt,Ot(G),tt=!0;break e}w===i(v)&&r(v),Ot(G)}else r(v);w=i(v)}if(w!==null)tt=!0;else{var M=i(y);M!==null&&pe(ee,M.startTime-G),tt=!1}}break t}finally{w=null,j=yt,Y=!1}tt=void 0}}finally{tt?O():st=!1}}}var O;if(typeof dt=="function")O=function(){dt(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Vt=x.port2;x.port1.onmessage=V,O=function(){Vt.postMessage(null)}}else O=function(){vt(V,0)};function pe(G,tt){R=vt(function(){G(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(G){switch(j){case 1:case 2:case 3:var tt=3;break;default:tt=j}var yt=j;j=tt;try{return G()}finally{j=yt}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var yt=j;j=G;try{return tt()}finally{j=yt}},a.unstable_scheduleCallback=function(G,tt,yt){var kt=a.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?kt+yt:kt):yt=kt,G){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=yt+Yt,G={id:A++,callback:tt,priorityLevel:G,startTime:yt,expirationTime:Yt,sortIndex:-1},yt>kt?(G.sortIndex=yt,e(y,G),i(v)===null&&G===i(y)&&(it?(bt(R),R=-1):it=!0,pe(ee,yt-kt))):(G.sortIndex=Yt,e(v,G),nt||Y||(nt=!0,st||(st=!0,O()))),G},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(G){var tt=j;return function(){var yt=j;j=tt;try{return G.apply(this,arguments)}finally{j=yt}}}})(zf)),zf}var Cy;function C2(){return Cy||(Cy=1,jf.exports=R2()),jf.exports}var Uf={exports:{}},tn={};var Ny;function N2(){if(Ny)return tn;Ny=1;var a=Sd();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(v,y,null,A)},tn.flushSync=function(v){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=A,r.d.f()}},tn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},tn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},tn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,w=_(A,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:Y}):A==="script"&&r.d.X(v,{crossOrigin:w,integrity:j,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=_(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},tn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=_(A,y.crossOrigin);r.d.L(v,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=_(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},tn.requestFormReset=function(v){r.d.r(v)},tn.unstable_batchedUpdates=function(v,y){return v(y)},tn.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var Dy;function D2(){if(Dy)return Uf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Uf.exports=N2(),Uf.exports}var My;function M2(){if(My)return Yl;My=1;var a=C2(),e=Sd(),i=D2();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),vt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case it:return"Fragment";case vt:return"Profiler";case $:return"StrictMode";case ee:return"Suspense";case st:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case nt:return"Portal";case dt:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case Ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Vt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Vt(t(n))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},kt=[],Yt=-1;function M(t){return{current:t}}function F(t){0>Yt||(t.current=kt[Yt],kt[Yt]=null,Yt--)}function et(t,n){Yt++,kt[Yt]=t.current,t.current=n}var rt=M(null),Et=M(null),Ct=M(null),mt=M(null);function oe(t,n){switch(et(Ct,n),et(Et,t),et(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zp(n),t=Fp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(rt),et(rt,t)}function Jt(){F(rt),F(Et),F(Ct)}function ii(t){t.memoizedState!==null&&et(mt,t);var n=rt.current,s=Fp(n,t.type);n!==s&&(et(Et,t),et(rt,s))}function _n(t){Et.current===t&&(F(rt),F(Et)),mt.current===t&&(F(mt),ql._currentValue=yt)}var ne,Vi;function ln(t){if(ne===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ne=n&&n[1]||"",Vi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+t+Vi}var Ys=!1;function Ii(t,n){if(!t||Ys)return"";Ys=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var P=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){P=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){P=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ys=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ln(s):""}function Xs(t,n){switch(t.tag){case 26:case 27:case 5:return ln(t.type);case 16:return ln("Lazy");case 13:return t.child!==n&&n!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Ii(t.type,!1);case 11:return Ii(t.type.render,!1);case 1:return Ii(t.type,!0);case 31:return ln("Activity");default:return""}}function Ks(t){try{var n="",s=null;do n+=Xs(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,_e=a.unstable_scheduleCallback,si=a.unstable_cancelCallback,ja=a.unstable_shouldYield,Js=a.unstable_requestPaint,Pe=a.unstable_now,ai=a.unstable_getCurrentPriorityLevel,$s=a.unstable_ImmediatePriority,Ws=a.unstable_UserBlockingPriority,ri=a.unstable_NormalPriority,Fr=a.unstable_LowPriority,za=a.unstable_IdlePriority,Ua=a.log,Ba=a.unstable_setDisableYieldValue,vn=null,Oe=null;function on(t){if(typeof Ua=="function"&&Ba(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(vn,t)}catch{}}var k=Math.clz32?Math.clz32:ct,at=Math.log,lt=Math.LN2;function ct(t){return t>>>=0,t===0?32:31-(at(t)/lt|0)|0}var At=256,je=262144,Xt=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function un(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(g&=E,g!==0?c=Dn(g):s||(s=E&~t,s!==0&&(c=Dn(s))))):(E=l&~f,E!==0?c=Dn(E):g!==0?c=Dn(g):s||(s=l&~t,s!==0&&(c=Dn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function En(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Li(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var t=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ta(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-k(s),X=1<<Q;E[Q]=0,C[Q]=-1;var P=B[Q];if(P!==null)for(B[Q]=null,Q=0;Q<P.length;Q++){var q=P[Q];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&ea(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ea(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-k(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Yr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-k(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Xr(t,n){var s=n&-n;return s=(s&42)!==0?1:na(s),(s&(t.suspendedLanes|n))!==0?0:s}function na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ao(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function Qn(t,n){var s=tt.p;try{return tt.p=t,n()}finally{tt.p=s}}var Zn=Math.random().toString(36).slice(2),we="__reactFiber$"+Zn,He="__reactProps$"+Zn,oi="__reactContainer$"+Zn,ka="__reactEvents$"+Zn,Uc="__reactListeners$"+Zn,So="__reactHandles$"+Zn,xo="__reactResources$"+Zn,ui="__reactMarker$"+Zn;function Pa(t){delete t[we],delete t[He],delete t[ka],delete t[Uc],delete t[So]}function ci(t){var n=t[we];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ty(t);t!==null;){if(s=t[we])return s;t=ty(t)}return n}t=s,s=t.parentNode}return null}function Mn(t){if(t=t[we]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Tn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hi(t){var n=t[xo];return n||(n=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(t){t[ui]=!0}var Kr=new Set,Jr={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(Jr[t]=n,t=0;t<n.length;t++)Kr.add(n[t])}var $r=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},tl={};function wo(t){return ye.call(tl,t)?!0:ye.call(Wr,t)?!1:$r.test(t)?tl[t]=!0:(Wr[t]=!0,!1)}function Ha(t,n,s){if(wo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function bn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ce(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function as(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function el(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $t(t){if(!t._valueTracker){var n=as(t)?"checked":"value";t._valueTracker=el(t,n,""+t[n])}}function ia(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=as(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sa=/[\n"\\]/g;function cn(t){return t.replace(sa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qa(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qe(n)):t.value!==""+qe(n)&&(t.value=""+qe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?nl(t,g,qe(n)):s!=null?nl(t,g,qe(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+qe(E):t.removeAttribute("name")}function Ro(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(t);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),$t(t)}function nl(t,n,s){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function rs(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Co(t,n,s){if(n!=null&&(n=""+qe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+qe(s):""}function ls(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(pe(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=qe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),$t(t)}function hn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||No.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function sl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&il(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&il(t,f,n[f])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(t){return os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var al=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var us=null,gi=null;function aa(t){var n=Mn(t);if(n&&(t=n.stateNode)){var s=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[He]||null;if(!c)throw Error(r(90));qa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ia(l)}break t;case"textarea":Co(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(t,!!s.multiple,n,!1)}}}var Za=!1;function cs(t,n,s){if(Za)return t(n,s);Za=!0;try{var l=t(n);return l}finally{if(Za=!1,(us!==null||gi!==null)&&(Au(),us&&(n=us,t=gi,gi=us=null,aa(n),t)))for(n=0;n<t.length;n++)aa(t[n])}}function Yn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[He]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(In)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ra=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{ra=!1}var pi=null,rl=null,la=null;function ll(){if(la)return la;var t,n=rl,s=n.length,l,c="value"in pi?pi.value:pi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return la=c.slice(t,1<l?1-l:void 0)}function oa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Xn(){return!1}function Ze(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Xn,this.isPropagationStopped=Xn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Ze(zi),hs=w({},zi,{view:0,detail:0}),ol=Ze(hs),fs,Fa,_i,Ya=w({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(fs=t.screenX-_i.screenX,Fa=t.screenY-_i.screenY):Fa=fs=0,_i=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),ul=Ze(Ya),ua=w({},Ya,{dataTransfer:0}),Mo=Ze(ua),Vo=w({},hs,{relatedTarget:0}),ca=Ze(Vo),cl=w({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=Ze(cl),Xa=w({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lo=Ze(Xa),Oo=w({},zi,{data:0}),vi=Ze(Oo),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function ds(){return Bo}var an=w({},hs,{key:function(t){if(t.key){var n=jo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ko=Ze(an),Po=w({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ze(Po),u=w({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=Ze(u),p=w({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ze(p),z=w({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ze(z),W=w({},zi,{newState:0,oldState:0}),Nt=Ze(W),be=[9,13,27,32],Zt=In&&"CompositionEvent"in window,fe=null;In&&"documentMode"in document&&(fe=document.documentMode);var Ln=In&&"TextEvent"in window&&!fe,Ei=In&&(!Zt||fe&&8<fe&&11>=fe),Kn=" ",Jn=!1;function ha(t,n){switch(t){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function Zv(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(Jn=!0,Kn);case"textInput":return t=n.data,t===Kn&&Jn?null:t;default:return null}}function Fv(t,n){if(Ja)return t==="compositionend"||!Zt&&ha(t,n)?(t=ll(),la=rl=pi=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Yv[t.type]:n==="textarea"}function sm(t,n,s,l){us?gi?gi.push(l):gi=[l]:us=l,n=Du(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var hl=null,fl=null;function Xv(t){kp(t,0)}function Ho(t){var n=Tn(t);if(ia(n))return t}function am(t,n){if(t==="change")return n}var rm=!1;if(In){var Bc;if(In){var kc="oninput"in document;if(!kc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),kc=typeof lm.oninput=="function"}Bc=kc}else Bc=!1;rm=Bc&&(!document.documentMode||9<document.documentMode)}function om(){hl&&(hl.detachEvent("onpropertychange",um),fl=hl=null)}function um(t){if(t.propertyName==="value"&&Ho(fl)){var n=[];sm(n,fl,t,Vn(t)),cs(Xv,n)}}function Kv(t,n,s){t==="focusin"?(om(),hl=n,fl=s,hl.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function Jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(fl)}function $v(t,n){if(t==="click")return Ho(n)}function Wv(t,n){if(t==="input"||t==="change")return Ho(n)}function t1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:t1;function dl(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ye.call(n,c)||!An(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var s=cm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cm(s)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mi(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var e1=In&&"documentMode"in document&&11>=document.documentMode,$a=null,Hc=null,ml=null,qc=!1;function mm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qc||$a==null||$a!==mi(l)||(l=$a,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Du(Hc,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=$a)))}function fa(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Wa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Gc={},gm={};In&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function da(t){if(Gc[t])return Gc[t];if(!Wa[t])return t;var n=Wa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in gm)return Gc[t]=n[s];return t}var pm=da("animationend"),ym=da("animationiteration"),_m=da("animationstart"),n1=da("transitionrun"),i1=da("transitionstart"),s1=da("transitioncancel"),vm=da("transitionend"),Em=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function $n(t,n){Em.set(t,n),fi(n,[t])}var qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],tr=0,Zc=0;function Go(){for(var t=tr,n=Zc=tr=0;n<t;){var s=On[n];On[n++]=null;var l=On[n];On[n++]=null;var c=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Tm(s,c,f)}}function Qo(t,n,s,l){On[tr++]=t,On[tr++]=n,On[tr++]=s,On[tr++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,s,l){return Qo(t,n,s,l),Zo(t)}function ma(t,n){return Qo(t,null,null,n),Zo(t)}function Tm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-k(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Zo(t){if(50<jl)throw jl=0,nf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var er={};function a1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,s,l){return new a1(t,n,s,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,n){var s=t.alternate;return s===null?(s=Sn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function bm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Yc(t)&&(g=1);else if(typeof t=="string")g=c2(t,s,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case N:return t=Sn(31,s,n,c),t.elementType=N,t.lanes=f,t;case it:return ga(s.children,c,f,n);case $:g=8,c|=24;break;case vt:return t=Sn(12,s,n,c|2),t.elementType=vt,t.lanes=f,t;case ee:return t=Sn(13,s,n,c),t.elementType=ee,t.lanes=f,t;case st:return t=Sn(19,s,n,c),t.elementType=st,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case bt:g=9;break t;case Ot:g=11;break t;case R:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Sn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,s,l){return t=Sn(7,t,l,n),t.lanes=s,t}function Xc(t,n,s){return t=Sn(6,t,null,n),t.lanes=s,t}function Am(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Kc(t,n,s){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Sm=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var s=Sm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ks(n)},Sm.set(t,n),n)}return{value:t,source:n,stack:Ks(n)}}var nr=[],ir=0,Yo=null,gl=0,zn=[],Un=0,ms=null,Ti=1,bi="";function ki(t,n){nr[ir++]=gl,nr[ir++]=Yo,Yo=t,gl=n}function xm(t,n,s){zn[Un++]=Ti,zn[Un++]=bi,zn[Un++]=ms,ms=t;var l=Ti;t=bi;var c=32-k(l)-1;l&=~(1<<c),s+=1;var f=32-k(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ti=1<<32-k(n)+c|s<<c|l,bi=f+t}else Ti=1<<f|s<<c|l,bi=t}function Jc(t){t.return!==null&&(ki(t,1),xm(t,1,0))}function $c(t){for(;t===Yo;)Yo=nr[--ir],nr[ir]=null,gl=nr[--ir],nr[ir]=null;for(;t===ms;)ms=zn[--Un],zn[Un]=null,bi=zn[--Un],zn[Un]=null,Ti=zn[--Un],zn[Un]=null}function wm(t,n){zn[Un++]=Ti,zn[Un++]=bi,zn[Un++]=ms,Ti=n.id,bi=n.overflow,ms=t}var Fe=null,ue=null,Pt=!1,gs=null,Bn=!1,Wc=Error(r(519));function ps(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(jn(n,t)),Wc}function Rm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[we]=t,n[He]=l,s){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(s=0;s<Ul.length;s++)Lt(Ul[s],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),Ro(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),ls(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Gp(n.textContent,s)?(l.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),l.onScroll!=null&&Lt("scroll",n),l.onScrollEnd!=null&&Lt("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||ps(t,!0)}function Cm(t){for(Fe=t.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Fe=Fe.return}}function sr(t){if(t!==Fe)return!1;if(!Pt)return Cm(t),Pt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||_f(t.type,t.memoizedProps)),s=!s),s&&ue&&ps(t),Cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ue=Wp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ue=Wp(t)}else n===27?(n=ue,Ds(t.type)?(t=Af,Af=null,ue=t):ue=n):ue=Fe?Pn(t.stateNode.nextSibling):null;return!0}function pa(){ue=Fe=null,Pt=!1}function th(){var t=gs;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),gs=null),t}function pl(t){gs===null?gs=[t]:gs.push(t)}var eh=M(null),ya=null,Pi=null;function ys(t,n,s){et(eh,n._currentValue),n._currentValue=s}function Hi(t){t._currentValue=eh.current,F(eh)}function nh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ih(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),nh(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),nh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ar(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;An(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}c=c.return}t!==null&&ih(n,t,s,l),n.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){ya=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return Nm(ya,t)}function Ko(t,n){return ya===null&&_a(t),Nm(t,n)}function Nm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(t===null)throw Error(r(308));Pi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pi=Pi.next=n;return s}var r1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},l1=a.unstable_scheduleCallback,o1=a.unstable_NormalPriority,Ne={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new r1,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&l1(o1,function(){t.controller.abort()})}var _l=null,ah=0,rr=0,lr=null;function u1(t,n){if(_l===null){var s=_l=[];ah=0,rr=uf(),lr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ah++,n.then(Dm,Dm),n}function Dm(){if(--ah===0&&_l!==null){lr!==null&&(lr.status="fulfilled");var t=_l;_l=null,rr=0,lr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function c1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Mm=G.S;G.S=function(t,n){mp=Pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&u1(t,n),Mm!==null&&Mm(t,n)};var va=M(null);function rh(){var t=va.current;return t!==null?t:le.pooledCache}function Jo(t,n){n===null?et(va,va.current):et(va,n.pool)}function Vm(){var t=rh();return t===null?null:{parent:Ne._currentValue,pool:t}}var or=Error(r(460)),lh=Error(r(474)),$o=Error(r(542)),Wo={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw Ta=n,or}}function Ea(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ta=s,or):s}}var Ta=null;function Om(){if(Ta===null)throw Error(r(459));var t=Ta;return Ta=null,t}function jm(t){if(t===or||t===$o)throw Error(r(483))}var ur=null,vl=0;function tu(t){var n=vl;return vl+=1,ur===null&&(ur=[]),Lm(ur,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function eu(t,n){throw n.$$typeof===j?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){function n(L,D){if(t){var U=L.deletions;U===null?(L.deletions=[D],L.flags|=16):U.push(D)}}function s(L,D){if(!t)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function c(L,D){return L=Bi(L,D),L.index=0,L.sibling=null,L}function f(L,D,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<D?(L.flags|=67108866,D):U):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,U,Z){return D===null||D.tag!==6?(D=Xc(U,L.mode,Z),D.return=L,D):(D=c(D,U),D.return=L,D)}function C(L,D,U,Z){var gt=U.type;return gt===it?Q(L,D,U.props.children,Z,U.key):D!==null&&(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&Ea(gt)===D.type)?(D=c(D,U.props),El(D,U),D.return=L,D):(D=Fo(U.type,U.key,U.props,null,L.mode,Z),El(D,U),D.return=L,D)}function B(L,D,U,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Kc(U,L.mode,Z),D.return=L,D):(D=c(D,U.children||[]),D.return=L,D)}function Q(L,D,U,Z,gt){return D===null||D.tag!==7?(D=ga(U,L.mode,Z,gt),D.return=L,D):(D=c(D,U),D.return=L,D)}function X(L,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xc(""+D,L.mode,U),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return U=Fo(D.type,D.key,D.props,null,L.mode,U),El(U,D),U.return=L,U;case nt:return D=Kc(D,L.mode,U),D.return=L,D;case S:return D=Ea(D),X(L,D,U)}if(pe(D)||O(D))return D=ga(D,L.mode,U,null),D.return=L,D;if(typeof D.then=="function")return X(L,tu(D),U);if(D.$$typeof===dt)return X(L,Ko(L,D),U);eu(L,D)}return null}function P(L,D,U,Z){var gt=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return gt!==null?null:E(L,D,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return U.key===gt?C(L,D,U,Z):null;case nt:return U.key===gt?B(L,D,U,Z):null;case S:return U=Ea(U),P(L,D,U,Z)}if(pe(U)||O(U))return gt!==null?null:Q(L,D,U,Z,null);if(typeof U.then=="function")return P(L,D,tu(U),Z);if(U.$$typeof===dt)return P(L,D,Ko(L,U),Z);eu(L,U)}return null}function q(L,D,U,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(U)||null,E(D,L,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Y:return L=L.get(Z.key===null?U:Z.key)||null,C(D,L,Z,gt);case nt:return L=L.get(Z.key===null?U:Z.key)||null,B(D,L,Z,gt);case S:return Z=Ea(Z),q(L,D,U,Z,gt)}if(pe(Z)||O(Z))return L=L.get(U)||null,Q(D,L,Z,gt,null);if(typeof Z.then=="function")return q(L,D,U,tu(Z),gt);if(Z.$$typeof===dt)return q(L,D,U,Ko(D,Z),gt);eu(D,Z)}return null}function ut(L,D,U,Z){for(var gt=null,Gt=null,ht=D,Mt=D=0,zt=null;ht!==null&&Mt<U.length;Mt++){ht.index>Mt?(zt=ht,ht=null):zt=ht.sibling;var Qt=P(L,ht,U[Mt],Z);if(Qt===null){ht===null&&(ht=zt);break}t&&ht&&Qt.alternate===null&&n(L,ht),D=f(Qt,D,Mt),Gt===null?gt=Qt:Gt.sibling=Qt,Gt=Qt,ht=zt}if(Mt===U.length)return s(L,ht),Pt&&ki(L,Mt),gt;if(ht===null){for(;Mt<U.length;Mt++)ht=X(L,U[Mt],Z),ht!==null&&(D=f(ht,D,Mt),Gt===null?gt=ht:Gt.sibling=ht,Gt=ht);return Pt&&ki(L,Mt),gt}for(ht=l(ht);Mt<U.length;Mt++)zt=q(ht,L,Mt,U[Mt],Z),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?Mt:zt.key),D=f(zt,D,Mt),Gt===null?gt=zt:Gt.sibling=zt,Gt=zt);return t&&ht.forEach(function(Os){return n(L,Os)}),Pt&&ki(L,Mt),gt}function Tt(L,D,U,Z){if(U==null)throw Error(r(151));for(var gt=null,Gt=null,ht=D,Mt=D=0,zt=null,Qt=U.next();ht!==null&&!Qt.done;Mt++,Qt=U.next()){ht.index>Mt?(zt=ht,ht=null):zt=ht.sibling;var Os=P(L,ht,Qt.value,Z);if(Os===null){ht===null&&(ht=zt);break}t&&ht&&Os.alternate===null&&n(L,ht),D=f(Os,D,Mt),Gt===null?gt=Os:Gt.sibling=Os,Gt=Os,ht=zt}if(Qt.done)return s(L,ht),Pt&&ki(L,Mt),gt;if(ht===null){for(;!Qt.done;Mt++,Qt=U.next())Qt=X(L,Qt.value,Z),Qt!==null&&(D=f(Qt,D,Mt),Gt===null?gt=Qt:Gt.sibling=Qt,Gt=Qt);return Pt&&ki(L,Mt),gt}for(ht=l(ht);!Qt.done;Mt++,Qt=U.next())Qt=q(ht,L,Mt,Qt.value,Z),Qt!==null&&(t&&Qt.alternate!==null&&ht.delete(Qt.key===null?Mt:Qt.key),D=f(Qt,D,Mt),Gt===null?gt=Qt:Gt.sibling=Qt,Gt=Qt);return t&&ht.forEach(function(T2){return n(L,T2)}),Pt&&ki(L,Mt),gt}function re(L,D,U,Z){if(typeof U=="object"&&U!==null&&U.type===it&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:t:{for(var gt=U.key;D!==null;){if(D.key===gt){if(gt=U.type,gt===it){if(D.tag===7){s(L,D.sibling),Z=c(D,U.props.children),Z.return=L,L=Z;break t}}else if(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&Ea(gt)===D.type){s(L,D.sibling),Z=c(D,U.props),El(Z,U),Z.return=L,L=Z;break t}s(L,D);break}else n(L,D);D=D.sibling}U.type===it?(Z=ga(U.props.children,L.mode,Z,U.key),Z.return=L,L=Z):(Z=Fo(U.type,U.key,U.props,null,L.mode,Z),El(Z,U),Z.return=L,L=Z)}return g(L);case nt:t:{for(gt=U.key;D!==null;){if(D.key===gt)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){s(L,D.sibling),Z=c(D,U.children||[]),Z.return=L,L=Z;break t}else{s(L,D);break}else n(L,D);D=D.sibling}Z=Kc(U,L.mode,Z),Z.return=L,L=Z}return g(L);case S:return U=Ea(U),re(L,D,U,Z)}if(pe(U))return ut(L,D,U,Z);if(O(U)){if(gt=O(U),typeof gt!="function")throw Error(r(150));return U=gt.call(U),Tt(L,D,U,Z)}if(typeof U.then=="function")return re(L,D,tu(U),Z);if(U.$$typeof===dt)return re(L,D,Ko(L,U),Z);eu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(s(L,D.sibling),Z=c(D,U),Z.return=L,L=Z):(s(L,D),Z=Xc(U,L.mode,Z),Z.return=L,L=Z),g(L)):s(L,D)}return function(L,D,U,Z){try{vl=0;var gt=re(L,D,U,Z);return ur=null,gt}catch(ht){if(ht===or||ht===$o)throw ht;var Gt=Sn(29,ht,null,L.mode);return Gt.lanes=Z,Gt.return=L,Gt}}}var ba=zm(!0),Um=zm(!1),_s=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Zo(t),Tm(t,null,s),n}return Qo(t,l,n,s),Zo(t)}function Tl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Yr(t,s)}}function ch(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var hh=!1;function bl(){if(hh){var t=lr;if(t!==null)throw t}}function Al(t,n,s,l){hh=!1;var c=t.updateQueue;_s=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?f=B:g.next=B,g=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=C))}if(f!==null){var X=c.baseState;g=0,Q=B=C=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(jt&P)===P:(l&P)===P){P!==0&&P===rr&&(hh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=t,Tt=E;P=n;var re=s;switch(Tt.tag){case 1:if(ut=Tt.payload,typeof ut=="function"){X=ut.call(re,X,P);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Tt.payload,P=typeof ut=="function"?ut.call(re,X,P):ut,P==null)break t;X=w({},X,P);break t;case 2:_s=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=q,C=X):Q=Q.next=q,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Q===null&&(C=X),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),xs|=g,t.lanes=g,t.memoizedState=X}}function Bm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function km(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Bm(s[t],n)}var cr=M(null),nu=M(0);function Pm(t,n){t=Ji,et(nu,t),et(cr,n),Ji=t|n.baseLanes}function fh(){et(nu,Ji),et(cr,cr.current)}function dh(){Ji=nu.current,F(cr),F(nu)}var xn=M(null),kn=null;function Ts(t){var n=t.alternate;et(Ae,Ae.current&1),et(xn,t),kn===null&&(n===null||cr.current!==null||n.memoizedState!==null)&&(kn=t)}function mh(t){et(Ae,Ae.current),et(xn,t),kn===null&&(kn=t)}function Hm(t){t.tag===22?(et(Ae,Ae.current),et(xn,t),kn===null&&(kn=t)):bs()}function bs(){et(Ae,Ae.current),et(xn,xn.current)}function wn(t){F(xn),kn===t&&(kn=null),F(Ae)}var Ae=M(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Tf(s)||bf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,Dt=null,se=null,De=null,su=!1,hr=!1,Aa=!1,au=0,Sl=0,fr=null,h1=0;function ve(){throw Error(r(321))}function gh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!An(t[s],n[s]))return!1;return!0}function ph(t,n,s,l,c,f){return qi=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?xg:Mh,Aa=!1,f=s(l,c),Aa=!1,hr&&(f=Gm(n,s,l,c)),qm(t),f}function qm(t){G.H=Rl;var n=se!==null&&se.next!==null;if(qi=0,De=se=Dt=null,su=!1,Sl=0,fr=null,n)throw Error(r(300));t===null||Me||(t=t.dependencies,t!==null&&Xo(t)&&(Me=!0))}function Gm(t,n,s,l){Dt=t;var c=0;do{if(hr&&(fr=null),Sl=0,hr=!1,25<=c)throw Error(r(301));if(c+=1,De=se=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=wg,f=n(s,l)}while(hr);return f}function f1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?xl(n):n,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(Dt.flags|=1024),n}function yh(){var t=au!==0;return au=0,t}function _h(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vh(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}qi=0,De=se=Dt=null,hr=!1,Sl=au=0,fr=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Dt.memoizedState=De=t:De=De.next=t,De}function Se(){if(se===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var n=De===null?Dt.memoizedState:De.next;if(n!==null)De=n,se=t;else{if(t===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},De===null?Dt.memoizedState=De=t:De=De.next=t}return De}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var n=Sl;return Sl+=1,fr===null&&(fr=[]),t=Lm(fr,t,n),n=Dt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?xg:Mh),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===dt)return Ye(t)}throw Error(r(438,String(t)))}function Eh(t){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ru(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function Gi(t,n){return typeof n=="function"?n(t):n}function ou(t){var n=Se();return Th(n,se,t)}function Th(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,C=null,B=n,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(jt&X)===X:(qi&X)===X){var P=B.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===rr&&(Q=!0);else if((qi&P)===P){B=B.next,P===rr&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,Dt.lanes|=P,xs|=P;X=B.action,Aa&&s(f,X),f=B.hasEagerState?B.eagerState:s(f,X)}else P={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=P,g=f):C=C.next=P,Dt.lanes|=X,xs|=X;B=B.next}while(B!==null&&B!==n);if(C===null?g=f:C.next=E,!An(f,t.memoizedState)&&(Me=!0,Q&&(s=lr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bh(t){var n=Se(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);An(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Qm(t,n,s){var l=Dt,c=Se(),f=Pt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!An((se||c).memoizedState,s);if(g&&(c.memoizedState=s,Me=!0),c=c.queue,xh(Ym.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,dr(9,{destroy:void 0},Fm.bind(null,l,c,s,n),null),le===null)throw Error(r(349));f||(qi&127)!==0||Zm(l,n,s)}return s}function Zm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=ru(),Dt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Fm(t,n,s,l){n.value=s,n.getSnapshot=l,Xm(n)&&Km(t)}function Ym(t,n,s){return s(function(){Xm(n)&&Km(t)})}function Xm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!An(t,s)}catch{return!0}}function Km(t){var n=ma(t,2);n!==null&&pn(n,t,2)}function Ah(t){var n=rn();if(typeof t=="function"){var s=t;if(t=s(),Aa){on(!0);try{s()}finally{on(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},n}function Jm(t,n,s,l){return t.baseState=s,Th(t,se,typeof l=="function"?l:Gi)}function d1(t,n,s,l,c){if(hu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,$m(n,f)):(f.next=s.next,n.pending=s.next=f)}}function $m(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(c,l),C=G.S;C!==null&&C(g,E),Wm(t,n,E)}catch(B){Sh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(c,l),Wm(t,n,f)}catch(B){Sh(t,n,B)}}function Wm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){tg(t,n,l)},function(l){return Sh(t,n,l)}):tg(t,n,s)}function tg(t,n,s){n.status="fulfilled",n.value=s,eg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,$m(t,s)))}function Sh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,eg(n),n=n.next;while(n!==l)}t.action=null}function eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ng(t,n){return n}function ig(t,n){if(Pt){var s=le.formState;if(s!==null){t:{var l=Dt;if(Pt){if(ue){e:{for(var c=ue,f=Bn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=Pn(c.nextSibling),l=c.data==="F!";break t}}ps(l)}l=!1}l&&(n=s[0])}}return s=rn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},s.queue=l,s=bg.bind(null,Dt,l),l.dispatch=s,l=Ah(!1),f=Dh.bind(null,Dt,!1,l.queue),l=rn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=d1.bind(null,Dt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function sg(t){var n=Se();return ag(n,se,t)}function ag(t,n,s){if(n=Th(t,n,ng)[0],t=ou(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(g){throw g===or?$o:g}else l=n;n=Se();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,dr(9,{destroy:void 0},m1.bind(null,c,s),null)),[l,f,t]}function m1(t,n){t.action=n}function rg(t){var n=Se(),s=se;if(s!==null)return ag(n,s,t);Se(),n=n.memoizedState,s=Se();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function dr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=ru(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function lg(){return Se().memoizedState}function uu(t,n,s,l){var c=rn();Dt.flags|=t,c.memoizedState=dr(1|n,{destroy:void 0},s,l===void 0?null:l)}function cu(t,n,s,l){var c=Se();l=l===void 0?null:l;var f=c.memoizedState.inst;se!==null&&l!==null&&gh(l,se.memoizedState.deps)?c.memoizedState=dr(n,f,s,l):(Dt.flags|=t,c.memoizedState=dr(1|n,f,s,l))}function og(t,n){uu(8390656,8,t,n)}function xh(t,n){cu(2048,8,t,n)}function g1(t){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=ru(),Dt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function ug(t){var n=Se().memoizedState;return g1({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function cg(t,n){return cu(4,2,t,n)}function hg(t,n){return cu(4,4,t,n)}function fg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function dg(t,n,s){s=s!=null?s.concat([t]):null,cu(4,4,fg.bind(null,n,t),s)}function wh(){}function mg(t,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&gh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function gg(t,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&gh(n,l[1]))return l[0];if(l=t(),Aa){on(!0);try{t()}finally{on(!1)}}return s.memoizedState=[l,n],l}function Rh(t,n,s){return s===void 0||(qi&1073741824)!==0&&(jt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=pp(),Dt.lanes|=t,xs|=t,s)}function pg(t,n,s,l){return An(s,n)?s:cr.current!==null?(t=Rh(t,s,l),An(t,n)||(Me=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(jt&261930)===0?(Me=!0,t.memoizedState=s):(t=pp(),Dt.lanes|=t,xs|=t,n)}function yg(t,n,s,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Dh(t,!1,n,s);try{var C=c(),B=G.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=c1(C,l);wl(t,n,Q,Nn(t))}else wl(t,n,l,Nn(t))}catch(X){wl(t,n,{then:function(){},status:"rejected",reason:X},Nn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function p1(){}function Ch(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=_g(t).queue;yg(t,c,n,yt,s===null?p1:function(){return vg(t),s(l)})}function _g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:yt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=_g(t);n.next===null&&(n=t.alternate.memoizedState),wl(t,n.next.queue,{},Nn())}function Nh(){return Ye(ql)}function Eg(){return Se().memoizedState}function Tg(){return Se().memoizedState}function y1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();t=vs(s);var l=Es(n,t,s);l!==null&&(pn(l,n,s),Tl(l,n,s)),n={cache:sh()},t.payload=n;return}n=n.return}}function _1(t,n,s){var l=Nn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hu(t)?Ag(n,s):(s=Fc(t,n,s,l),s!==null&&(pn(s,t,l),Sg(s,n,l)))}function bg(t,n,s){var l=Nn();wl(t,n,s,l)}function wl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(hu(t))Ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,An(E,g))return Qo(t,n,c,0),le===null&&Go(),!1}catch{}if(s=Fc(t,n,c,l),s!==null)return pn(s,t,l),Sg(s,n,l),!0}return!1}function Dh(t,n,s,l){if(l={lane:2,revertLane:uf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(r(479))}else n=Fc(t,s,l,2),n!==null&&pn(n,t,2)}function hu(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function Ag(t,n){hr=su=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Sg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Yr(t,s)}}var Rl={readContext:Ye,use:lu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Rl.useEffectEvent=ve;var xg={readContext:Ye,use:lu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:og,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,uu(4194308,4,fg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return uu(4194308,4,t,n)},useInsertionEffect:function(t,n){uu(4,2,t,n)},useMemo:function(t,n){var s=rn();n=n===void 0?null:n;var l=t();if(Aa){on(!0);try{t()}finally{on(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=rn();if(s!==void 0){var c=s(n);if(Aa){on(!0);try{s(n)}finally{on(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=_1.bind(null,Dt,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,s=bg.bind(null,Dt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:wh,useDeferredValue:function(t,n){var s=rn();return Rh(s,t,n)},useTransition:function(){var t=Ah(!1);return t=yg.bind(null,Dt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Dt,c=rn();if(Pt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),le===null)throw Error(r(349));(jt&127)!==0||Zm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,og(Ym.bind(null,l,f,t),[t]),l.flags|=2048,dr(9,{destroy:void 0},Fm.bind(null,l,f,s,n),null),s},useId:function(){var t=rn(),n=le.identifierPrefix;if(Pt){var s=bi,l=Ti;s=(l&~(1<<32-k(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=h1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nh,useFormState:ig,useActionState:ig,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Dh.bind(null,Dt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return rn().memoizedState=y1.bind(null,Dt)},useEffectEvent:function(t){var n=rn(),s={impl:t};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Mh={readContext:Ye,use:lu,useCallback:mg,useContext:Ye,useEffect:xh,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:ou,useRef:lg,useState:function(){return ou(Gi)},useDebugValue:wh,useDeferredValue:function(t,n){var s=Se();return pg(s,se.memoizedState,t,n)},useTransition:function(){var t=ou(Gi)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Qm,useId:Eg,useHostTransitionStatus:Nh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var s=Se();return Jm(s,se,t,n)},useMemoCache:Eh,useCacheRefresh:Tg};Mh.useEffectEvent=ug;var wg={readContext:Ye,use:lu,useCallback:mg,useContext:Ye,useEffect:xh,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:bh,useRef:lg,useState:function(){return bh(Gi)},useDebugValue:wh,useDeferredValue:function(t,n){var s=Se();return se===null?Rh(s,t,n):pg(s,se.memoizedState,t,n)},useTransition:function(){var t=bh(Gi)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:xl(t),n]},useSyncExternalStore:Qm,useId:Eg,useHostTransitionStatus:Nh,useFormState:rg,useActionState:rg,useOptimistic:function(t,n){var s=Se();return se!==null?Jm(s,se,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:Tg};wg.useEffectEvent=ug;function Vh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ih={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Nn(),c=vs(l);c.payload=n,s!=null&&(c.callback=s),n=Es(t,c,l),n!==null&&(pn(n,t,l),Tl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Nn(),c=vs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Es(t,c,l),n!==null&&(pn(n,t,l),Tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Nn(),l=vs(s);l.tag=2,n!=null&&(l.callback=n),n=Es(t,l,s),n!==null&&(pn(n,t,s),Tl(n,t,s))}};function Rg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!dl(s,l)||!dl(c,f):!0}function Cg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function Sa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Ng(t){qo(t)}function Dg(t){console.error(t)}function Mg(t){qo(t)}function fu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lh(t,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){fu(t,n)},s}function Ig(t){return t=vs(t),t.tag=3,t}function Lg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Vg(n,s,l),typeof c!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function v1(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ar(n,s,c,!0),s=xn.current,s!==null){switch(s.tag){case 31:case 13:return kn===null?Su():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Wo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),rf(t,l,c)),!1;case 22:return s.flags|=65536,l===Wo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),rf(t,l,c)),!1}throw Error(r(435,s.tag))}return rf(t,l,c),Su(),!1}if(Pt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Wc&&(t=Error(r(422),{cause:l}),pl(jn(t,s)))):(l!==Wc&&(n=Error(r(423),{cause:l}),pl(jn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=jn(l,s),c=Lh(t.stateNode,l,c),ch(t,c),Ee!==4&&(Ee=2)),!1;var f=Error(r(520),{cause:l});if(f=jn(f,s),Ol===null?Ol=[f]:Ol.push(f),Ee!==4&&(Ee=2),n===null)return!0;l=jn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Lh(s.stateNode,l,t),ch(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ig(c),Lg(c,t,s,l),ch(s,c),!1}s=s.return}while(s!==null);return!1}var Oh=Error(r(461)),Me=!1;function Xe(t,n,s,l){n.child=t===null?Um(n,null,s,l):ba(n,t.child,s,l)}function Og(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return _a(n),l=ph(t,n,s,g,f,c),E=yh(),t!==null&&!Me?(_h(t,n,c),Qi(t,n,c)):(Pt&&E&&Jc(n),n.flags|=1,Xe(t,n,l,c),n.child)}function jg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,c)):(t=Fo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:dl,s(g,l)&&t.ref===n.ref)return Qi(t,n,c)}return n.flags|=1,t=Bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(dl(f,l)&&t.ref===n.ref)if(Me=!1,n.pendingProps=l=f,qh(t,c))(t.flags&131072)!==0&&(Me=!0);else return n.lanes=t.lanes,Qi(t,n,c)}return jh(t,n,s,l,c)}function Ug(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Bg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(n,f!==null?f.cachePool:null),f!==null?Pm(n,f):fh(),Hm(n);else return l=n.lanes=536870912,Bg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Jo(n,f.cachePool),Pm(n,f),bs(),n.memoizedState=null):(t!==null&&Jo(n,null),fh(),bs());return Xe(t,n,c,s),n.child}function Cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bg(t,n,s,l,c){var f=rh();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Jo(n,null),fh(),Hm(n),t!==null&&ar(t,n,l,!0),n.childLanes=c,null}function du(t,n){return n=gu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function kg(t,n,s){return ba(n,t.child,null,s),t=du(n,n.pendingProps),t.flags|=2,wn(n),n.memoizedState=null,t}function E1(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pt){if(l.mode==="hidden")return t=du(n,l),n.lanes=536870912,Cl(null,t);if(mh(n),(t=ue)?(t=$p(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Am(t),s.return=n,n.child=s,Fe=n,ue=null)):t=null,t===null)throw ps(n);return n.lanes=536870912,null}return du(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mh(n),c)if(n.flags&256)n.flags&=-257,n=kg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Me||ar(t,n,s,!1),c=(s&t.childLanes)!==0,Me||c){if(l=le,l!==null&&(g=Xr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ma(t,g),pn(l,t,g),Oh;Su(),n=kg(t,n,s)}else t=f.treeContext,ue=Pn(g.nextSibling),Fe=n,Pt=!0,gs=null,Bn=!1,t!==null&&wm(n,t),n=du(n,l),n.flags|=4096;return n}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function jh(t,n,s,l,c){return _a(n),s=ph(t,n,s,l,void 0,c),l=yh(),t!==null&&!Me?(_h(t,n,c),Qi(t,n,c)):(Pt&&l&&Jc(n),n.flags|=1,Xe(t,n,s,c),n.child)}function Pg(t,n,s,l,c,f){return _a(n),n.updateQueue=null,s=Gm(n,l,s,c),qm(t),l=yh(),t!==null&&!Me?(_h(t,n,f),Qi(t,n,f)):(Pt&&l&&Jc(n),n.flags|=1,Xe(t,n,s,f),n.child)}function Hg(t,n,s,l,c){if(_a(n),n.stateNode===null){var f=er,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},oh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):er,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Vh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ih.enqueueReplaceState(f,f.state,null),Al(n,l,f,c),bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Sa(s,E);f.props=C;var B=f.context,Q=s.contextType;g=er,typeof Q=="object"&&Q!==null&&(g=Ye(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Cg(n,f,l,g),_s=!1;var P=n.memoizedState;f.state=P,Al(n,l,f,c),bl(),B=n.memoizedState,E||P!==B||_s?(typeof X=="function"&&(Vh(n,s,X,l),B=n.memoizedState),(C=_s||Rg(n,s,C,l,P,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),g=n.memoizedProps,Q=Sa(s,g),f.props=Q,X=n.pendingProps,P=f.context,B=s.contextType,C=er,typeof B=="object"&&B!==null&&(C=Ye(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||P!==C)&&Cg(n,f,l,C),_s=!1,P=n.memoizedState,f.state=P,Al(n,l,f,c),bl();var q=n.memoizedState;g!==X||P!==q||_s||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof E=="function"&&(Vh(n,s,E,l),q=n.memoizedState),(Q=_s||Rg(n,s,Q,l,P,q,C)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ba(n,t.child,null,c),n.child=ba(n,null,s,c)):Xe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Qi(t,n,c),t}function qg(t,n,s,l){return pa(),n.flags|=256,Xe(t,n,s,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:Vm()}}function Bh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Cn),t}function Gg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Ts(n):bs(),(t=ue)?(t=$p(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=Am(t),s.return=n,n.child=s,Fe=n,ue=null)):t=null,t===null)throw ps(n);return bf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(bs(),c=n.mode,E=gu({mode:"hidden",children:E},c),l=ga(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Uh(s),l.childLanes=Bh(t,g,s),n.memoizedState=zh,Cl(null,l)):(Ts(n),kh(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Ph(t,n,s)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),E=l.fallback,c=n.mode,l=gu({mode:"visible",children:l.children},c),E=ga(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ba(n,t.child,null,s),l=n.child,l.memoizedState=Uh(s),l.childLanes=Bh(t,g,s),n.memoizedState=zh,n=Cl(null,l));else if(Ts(n),bf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,pl({value:l,source:null,stack:null}),n=Ph(t,n,s)}else if(Me||ar(t,n,s,!1),g=(s&t.childLanes)!==0,Me||g){if(g=le,g!==null&&(l=Xr(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,ma(t,l),pn(g,t,l),Oh;Tf(E)||Su(),n=Ph(t,n,s)}else Tf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ue=Pn(E.nextSibling),Fe=n,Pt=!0,gs=null,Bn=!1,t!==null&&wm(n,t),n=kh(n,l.children),n.flags|=4096);return n}return c?(bs(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=Bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=Bi(B,E):(E=ga(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Cl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Uh(s):(c=E.cachePool,c!==null?(C=Ne._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Vm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Bh(t,g,s),n.memoizedState=zh,Cl(t.child,l)):(Ts(n),s=t.child,t=s.sibling,s=Bi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function kh(t,n){return n=gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gu(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Ph(t,n,s){return ba(n,t.child,null,s),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nh(t.return,n,s)}function Hh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Zg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(Ae,g),Xe(t,n,l,s),l=Pt?gl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qg(t,s,n);else if(t.tag===19)Qg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&iu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Hh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Hh(n,!0,s,null,f,l);break;case"together":Hh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ar(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Bi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Bi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function T1(t,n,s){switch(n.tag){case 3:oe(n,n.stateNode.containerInfo),ys(n,Ne,t.memoizedState.cache),pa();break;case 27:case 5:ii(n);break;case 4:oe(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gg(t,n,s):(Ts(n),t=Qi(t,n,s),t!==null?t.sibling:null);Ts(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ar(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Zg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Ug(t,n,s,n.pendingProps);case 24:ys(n,Ne,t.memoizedState.cache)}return Qi(t,n,s)}function Fg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Me=!0;else{if(!qh(t,s)&&(n.flags&128)===0)return Me=!1,T1(t,n,s);Me=(t.flags&131072)!==0}else Me=!1,Pt&&(n.flags&1048576)!==0&&xm(n,gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ea(n.elementType),n.type=t,typeof t=="function")Yc(t)?(l=Sa(t,l),n.tag=1,n=Hg(null,n,t,l,s)):(n.tag=0,n=jh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Ot){n.tag=11,n=Og(null,n,t,l,s);break t}else if(c===R){n.tag=14,n=jg(null,n,t,l,s);break t}}throw n=Vt(t)||t,Error(r(306,n,""))}}return n;case 0:return jh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Sa(l,n.pendingProps),Hg(t,n,l,c,s);case 3:t:{if(oe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),Al(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ys(n,Ne,l),l!==f.cache&&ih(n,[Ne],s,!0),bl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(t,n,l,s);break t}else if(l!==c){c=jn(Error(r(424)),n),pl(c),n=qg(t,n,l,s);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ue=Pn(t.firstChild),Fe=n,Pt=!0,gs=null,Bn=!0,s=Um(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(pa(),l===c){n=Qi(t,n,s);break t}Xe(t,n,l,s)}n=n.child}return n;case 26:return mu(t,n),t===null?(s=sy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,t=n.pendingProps,l=Mu(Ct.current).createElement(s),l[we]=n,l[He]=t,Ke(l,s,t),Re(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ii(n),t===null&&Pt&&(l=n.stateNode=ey(n.type,n.pendingProps,Ct.current),Fe=n,Bn=!0,c=ue,Ds(n.type)?(Af=c,ue=Pn(l.firstChild)):ue=c),Xe(t,n,n.pendingProps.children,s),mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ue)&&(l=J1(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Fe=n,ue=Pn(l.firstChild),Bn=!1,c=!0):c=!1),c||ps(n)),ii(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,_f(c,f)?l=null:g!==null&&_f(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ph(t,n,f1,null,null,s),ql._currentValue=c),mu(t,n),Xe(t,n,l,s),n.child;case 6:return t===null&&Pt&&((t=s=ue)&&(s=$1(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Fe=n,ue=null,t=!0):t=!1),t||ps(n)),null;case 13:return Gg(t,n,s);case 4:return oe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ba(n,null,l,s):Xe(t,n,l,s),n.child;case 11:return Og(t,n,n.type,n.pendingProps,s);case 7:return Xe(t,n,n.pendingProps,s),n.child;case 8:return Xe(t,n,n.pendingProps.children,s),n.child;case 12:return Xe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ys(n,n.type,l.value),Xe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_a(n),c=Ye(c),l=l(c),n.flags|=1,Xe(t,n,l,s),n.child;case 14:return jg(t,n,n.type,n.pendingProps,s);case 15:return zg(t,n,n.type,n.pendingProps,s);case 19:return Zg(t,n,s);case 31:return E1(t,n,s);case 22:return Ug(t,n,s,n.pendingProps);case 24:return _a(n),l=Ye(Ne),t===null?(c=rh(),c===null&&(c=le,f=sh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},oh(n),ys(n,Ne,c)):((t.lanes&s)!==0&&(uh(t,n),Al(n,null,null,s),bl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ys(n,Ne,l)):(l=f.cache,ys(n,Ne,l),l!==c.cache&&ih(n,[Ne],s,!0))),Xe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Zi(t){t.flags|=4}function Gh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ep())t.flags|=8192;else throw Ta=Wo,lh}else t.flags&=-16777217}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n))if(Ep())t.flags|=8192;else throw Ta=Wo,lh}function pu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bo():536870912,t.lanes|=n,yr|=n)}function Nl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ce(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function b1(t,n,s){var l=n.pendingProps;switch($c(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hi(Ne),Jt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(sr(n)?Zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,th())),ce(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Zi(n),f!==null?(ce(n),Yg(n,f)):(ce(n),Gh(n,c,null,l,s))):f?f!==t.memoizedState?(Zi(n),ce(n),Yg(n,f)):(ce(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(n),ce(n),Gh(n,c,t,l,s)),null;case 27:if(_n(n),s=Ct.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ce(n),null}t=rt.current,sr(n)?Rm(n):(t=ey(c,l,s),n.stateNode=t,Zi(n))}return ce(n),null;case 5:if(_n(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ce(n),null}if(f=rt.current,sr(n))Rm(n);else{var g=Mu(Ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[we]=n,f[He]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Zi(n)}}return ce(n),Gh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ct.current,sr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Fe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Gp(t.nodeValue,s)),t||ps(n,!0)}else t=Mu(t).createTextNode(l),t[we]=n,n.stateNode=t}return ce(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=sr(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[we]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),t=!1}else s=th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ce(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=sr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[we]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),c=!1}else c=th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),pu(n,n.updateQueue),ce(n),null);case 4:return Jt(),t===null&&df(n.stateNode.containerInfo),ce(n),null;case 10:return Hi(n.type),ce(n),null;case 19:if(F(Ae),l=n.memoizedState,l===null)return ce(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Nl(l,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=iu(t),f!==null){for(n.flags|=128,Nl(l,!1),t=f.updateQueue,n.updateQueue=t,pu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)bm(s,t),s=s.sibling;return et(Ae,Ae.current&1|2),Pt&&ki(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Pe()>Tu&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304)}else{if(!c)if(t=iu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,pu(n,t),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pt)return ce(n),null}else 2*Pe()-l.renderingStartTime>Tu&&s!==536870912&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Pe(),t.sibling=null,s=Ae.current,et(Ae,c?s&1|2:s&1),Pt&&ki(n,l.treeForkCount),t):(ce(n),null);case 22:case 23:return wn(n),dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&pu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&F(va),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Hi(Ne),ce(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function A1(t,n){switch($c(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(Ne),Jt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _n(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(r(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(Ae),null;case 4:return Jt(),null;case 10:return Hi(n.type),null;case 22:case 23:return wn(n),dh(),t!==null&&F(va),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(Ne),null;case 25:return null;default:return null}}function Xg(t,n){switch($c(n),n.tag){case 3:Hi(Ne),Jt();break;case 26:case 27:case 5:_n(n);break;case 4:Jt();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:F(Ae);break;case 10:Hi(n.type);break;case 22:case 23:wn(n),dh(),t!==null&&F(va);break;case 24:Hi(Ne)}}function Dl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){te(n,n.return,E)}}function As(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=s,B=E;try{B()}catch(Q){te(c,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){te(n,n.return,Q)}}function Kg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{km(n,s)}catch(l){te(t,t.return,l)}}}function Jg(t,n,s){s.props=Sa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){te(t,n,l)}}function Ml(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){te(t,n,c)}}function Ai(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){te(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){te(t,n,c)}else s.current=null}function $g(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){te(t,t.return,c)}}function Qh(t,n,s){try{var l=t.stateNode;Q1(l,t.type,s,n),l[He]=n}catch(c){te(t,t.return,c)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ds(t.type)||t.tag===4}function Zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Ds(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function yu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ds(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(yu(t,n,s),t=t.sibling;t!==null;)yu(t,n,s),t=t.sibling}function tp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ke(n,l,s),n[we]=t,n[He]=s}catch(f){te(t,t.return,f)}}var Fi=!1,Ve=!1,Yh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function S1(t,n){if(t=t.containerInfo,pf=Uu,t=dm(t),Pc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,B=0,Q=0,X=t,P=null;e:for(;;){for(var q;X!==s||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(C=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)P=X,X=q;for(;;){if(X===t)break e;if(P===s&&++B===c&&(E=g),P===f&&++Q===l&&(C=g),(q=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(yf={focusedElem:t,selectionRange:s},Uu=!1,Ge=n;Ge!==null;)if(n=Ge,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ge=t;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ut=Sa(s.type,c);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){te(s,s.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ef(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ge=t;break}Ge=n.return}}function np(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(t,s),l&4&&Dl(5,s);break;case 1:if(Xi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){te(s,s.return,g)}else{var c=Sa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){te(s,s.return,g)}}l&64&&Kg(s),l&512&&Ml(s,s.return);break;case 3:if(Xi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{km(t,n)}catch(g){te(s,s.return,g)}}break;case 27:n===null&&l&4&&tp(s);case 26:case 5:Xi(t,s),n===null&&l&4&&$g(s),l&512&&Ml(s,s.return);break;case 12:Xi(t,s);break;case 31:Xi(t,s),l&4&&ap(t,s);break;case 13:Xi(t,s),l&4&&rp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=I1.bind(null,s),W1(t,s))));break;case 22:if(l=s.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Ve,c=Fi;var f=Ve;Fi=l,(Ve=n)&&!f?Ki(t,s,(s.subtreeFlags&8772)!==0):Xi(t,s),Fi=c,Ve=f}break;case 30:break;default:Xi(t,s)}}function ip(t){var n=t.alternate;n!==null&&(t.alternate=null,ip(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,fn=!1;function Yi(t,n,s){for(s=s.child;s!==null;)sp(t,n,s),s=s.sibling}function sp(t,n,s){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(vn,s)}catch{}switch(s.tag){case 26:Ve||Ai(s,n),Yi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Ai(s,n);var l=de,c=fn;Ds(s.type)&&(de=s.stateNode,fn=!1),Yi(t,n,s),kl(s.stateNode),de=l,fn=c;break;case 5:Ve||Ai(s,n);case 6:if(l=de,c=fn,de=null,Yi(t,n,s),de=l,fn=c,de!==null)if(fn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){te(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){te(s,n,f)}break;case 18:de!==null&&(fn?(t=de,Kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),xr(t)):Kp(de,s.stateNode));break;case 4:l=de,c=fn,de=s.stateNode.containerInfo,fn=!0,Yi(t,n,s),de=l,fn=c;break;case 0:case 11:case 14:case 15:As(2,s,n),Ve||As(4,s,n),Yi(t,n,s);break;case 1:Ve||(Ai(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jg(s,n,l)),Yi(t,n,s);break;case 21:Yi(t,n,s);break;case 22:Ve=(l=Ve)||s.memoizedState!==null,Yi(t,n,s),Ve=l;break;default:Yi(t,n,s)}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xr(t)}catch(s){te(n,n.return,s)}}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xr(t)}catch(s){te(n,n.return,s)}}function x1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(r(435,t.tag))}}function _u(t,n){var s=x1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=L1.bind(null,t,l);l.then(c,c)}})}function dn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){de=E.stateNode,fn=!1;break t}break;case 5:de=E.stateNode,fn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(de===null)throw Error(r(160));sp(f,g,c),de=null,fn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Wn=null;function lp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(As(3,t,t.return),Dl(3,t),As(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(Ve||s===null||Ai(s,s.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Wn;if(dn(n,t),mn(t),l&512&&(Ve||s===null||Ai(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ui]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ke(f,l,s),f[we]=t,Re(f),l=f;break t;case"link":var g=ly("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ke(f,l,s),c.head.appendChild(f);break;case"meta":if(g=ly("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ke(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[we]=t,Re(f),l=f}t.stateNode=l}else oy(c,t.type,t.stateNode);else t.stateNode=ry(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?oy(c,t.type,t.stateNode):ry(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qh(t,t.memoizedProps,s.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(Ve||s===null||Ai(s,s.return)),s!==null&&l&4&&Qh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(Ve||s===null||Ai(s,s.return)),t.flags&32){c=t.stateNode;try{hn(c,"")}catch(ut){te(t,t.return,ut)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Qh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ut){te(t,t.return,ut)}}break;case 3:if(Lu=null,c=Wn,Wn=Vu(n.containerInfo),dn(n,t),Wn=c,mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{xr(n.containerInfo)}catch(ut){te(t,t.return,ut)}Yh&&(Yh=!1,op(t));break;case 4:l=Wn,Wn=Vu(t.stateNode.containerInfo),dn(n,t),mn(t),Wn=l;break;case 12:dn(n,t),mn(t);break;case 31:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Eu=Pe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 22:c=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,B=Fi,Q=Ve;if(Fi=B||c,Ve=Q||C,dn(n,t),Ve=Q,Fi=B,mn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||C||Fi||Ve||xa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ut){te(C,C.return,ut)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ut){te(C,C.return,ut)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;c?Jp(q,!0):Jp(C.stateNode,!1)}catch(ut){te(C,C.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_u(t,s))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Wg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Zh(t);yu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(hn(g,""),s.flags&=-33);var E=Zh(t);yu(t,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,B=Zh(t);Fh(t,B,C);break;default:throw Error(r(161))}}catch(Q){te(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)np(t,n.alternate,n),n=n.sibling}function xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),xa(n);break;case 1:Ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jg(n,n.return,s),xa(n);break;case 27:kl(n.stateNode);case 26:case 5:Ai(n,n.return),xa(n);break;case 22:n.memoizedState===null&&xa(n);break;case 30:xa(n);break;default:xa(n)}t=t.sibling}}function Ki(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,s),Dl(4,f);break;case 1:if(Ki(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){te(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Bm(C[c],E)}catch(B){te(l,l.return,B)}}s&&g&64&&Kg(f),Ml(f,f.return);break;case 27:tp(f);case 26:case 5:Ki(c,f,s),s&&l===null&&g&4&&$g(f),Ml(f,f.return);break;case 12:Ki(c,f,s);break;case 31:Ki(c,f,s),s&&g&4&&ap(c,f);break;case 13:Ki(c,f,s),s&&g&4&&rp(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,s),Ml(f,f.return);break;case 30:break;default:Ki(c,f,s)}n=n.sibling}}function Xh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&yl(s))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t))}function ti(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,s,l),n=n.sibling}function up(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,s,l),c&2048&&Dl(9,n);break;case 1:ti(t,n,s,l);break;case 3:ti(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t)));break;case 12:if(c&2048){ti(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){te(n,n.return,C)}}else ti(t,n,s,l);break;case 31:ti(t,n,s,l);break;case 13:ti(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,s,l):Vl(t,n):f._visibility&2?ti(t,n,s,l):(f._visibility|=2,mr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Xh(g,n);break;case 24:ti(t,n,s,l),c&2048&&Kh(n.alternate,n);break;default:ti(t,n,s,l)}}function mr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,C=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:mr(f,g,E,C,c),Dl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?mr(f,g,E,C,c):Vl(f,g):(Q._visibility|=2,mr(f,g,E,C,c)),c&&B&2048&&Xh(g.alternate,g);break;case 24:mr(f,g,E,C,c),c&&B&2048&&Kh(g.alternate,g);break;default:mr(f,g,E,C,c)}n=n.sibling}}function Vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Vl(s,l),c&2048&&Xh(l.alternate,l);break;case 24:Vl(s,l),c&2048&&Kh(l.alternate,l);break;default:Vl(s,l)}n=n.sibling}}var Il=8192;function gr(t,n,s){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)cp(t,n,s),t=t.sibling}function cp(t,n,s){switch(t.tag){case 26:gr(t,n,s),t.flags&Il&&t.memoizedState!==null&&h2(s,Wn,t.memoizedState,t.memoizedProps);break;case 5:gr(t,n,s);break;case 3:case 4:var l=Wn;Wn=Vu(t.stateNode.containerInfo),gr(t,n,s),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,gr(t,n,s),Il=l):gr(t,n,s));break;default:gr(t,n,s)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&As(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):Ll(t);break;default:Ll(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ge=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),vu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function dp(t,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ge=l;else t:for(s=t;Ge!==null;){l=Ge;var c=l.sibling,f=l.return;if(ip(l),l===s){Ge=null;break t}if(c!==null){c.return=f,Ge=c;break t}Ge=f}}}var w1={getCacheForType:function(t){var n=Ye(Ne),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ye(Ne).controller.signal}},R1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,le=null,It=null,jt=0,Wt=0,Rn=null,Ss=!1,pr=!1,Jh=!1,Ji=0,Ee=0,xs=0,wa=0,$h=0,Cn=0,yr=0,Ol=null,gn=null,Wh=!1,Eu=0,mp=0,Tu=1/0,bu=null,ws=null,ze=0,Rs=null,_r=null,$i=0,tf=0,ef=null,gp=null,jl=0,nf=null;function Nn(){return(Ft&2)!==0&&jt!==0?jt&-jt:G.T!==null?uf():Ao()}function pp(){if(Cn===0)if((jt&536870912)===0||Pt){var t=je;je<<=1,(je&3932160)===0&&(je=262144),Cn=t}else Cn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Cn}function pn(t,n,s){(t===le&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)&&(vr(t,0),Cs(t,jt,Cn,!1)),ta(t,s),((Ft&2)===0||t!==le)&&(t===le&&((Ft&2)===0&&(wa|=s),Ee===4&&Cs(t,jt,Cn,!1)),Si(t))}function yp(t,n,s){if((Ft&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||En(t,n),c=l?D1(t,n):af(t,n,!0),f=l;do{if(c===0){pr&&!l&&Cs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!C1(s)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Ol;var C=E.current.memoizedState.isDehydrated;if(C&&(vr(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Jh&&!C){E.errorRecoveryDisabledLanes|=f,wa|=f,c=4;break t}f=gn,gn=c,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){vr(t,0),Cs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(l,n,Cn,!Ss);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Eu+300-Pe(),10<c)){if(Cs(l,n,Cn,!Ss),un(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=Yp(_p.bind(null,l,s,gn,bu,Wh,n,Cn,wa,yr,Ss,f,"Throttled",-0,0),c);break t}_p(l,s,gn,bu,Wh,n,Cn,wa,yr,Ss,f,null,-0,0)}}break}while(!0);Si(t)}function _p(t,n,s,l,c,f,g,E,C,B,Q,X,P,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},cp(n,f,X);var ut=(f&62914560)===f?Eu-Pe():(f&4194048)===f?mp-Pe():0;if(ut=f2(X,ut),ut!==null){$i=f,t.cancelPendingCommit=ut(wp.bind(null,t,n,f,s,l,c,g,E,C,Q,X,null,P,q)),Cs(t,f,g,!B);return}}wp(t,n,f,s,l,c,g,E,C)}function C1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!An(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(t,n,s,l){n&=~$h,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-k(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&ea(t,s,n)}function Au(){return(Ft&6)===0?(zl(0),!1):!0}function sf(){if(It!==null){if(Wt===0)var t=It.return;else t=It,Pi=ya=null,vh(t),ur=null,vl=0,t=It;for(;t!==null;)Xg(t.alternate,t),t=t.return;It=null}}function vr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Y1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),$i=0,sf(),le=t,It=s=Bi(t.current,null),jt=n,Wt=0,Rn=null,Ss=!1,pr=En(t,n),Jh=!1,yr=Cn=$h=wa=xs=Ee=0,gn=Ol=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-k(l),f=1<<c;n|=t[c],l&=~f}return Ji=n,Go(),s}function vp(t,n){Dt=null,G.H=Rl,n===or||n===$o?(n=Om(),Wt=3):n===lh?(n=Om(),Wt=4):Wt=n===Oh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,It===null&&(Ee=1,fu(t,jn(n,t.current)))}function Ep(){var t=xn.current;return t===null?!0:(jt&4194048)===jt?kn===null:(jt&62914560)===jt||(jt&536870912)!==0?t===kn:!1}function Tp(){var t=G.H;return G.H=Rl,t===null?Rl:t}function bp(){var t=G.A;return G.A=w1,t}function Su(){Ee=4,Ss||(jt&4194048)!==jt&&xn.current!==null||(pr=!0),(xs&134217727)===0&&(wa&134217727)===0||le===null||Cs(le,jt,Cn,!1)}function af(t,n,s){var l=Ft;Ft|=2;var c=Tp(),f=bp();(le!==t||jt!==n)&&(bu=null,vr(t,n)),n=!1;var g=Ee;t:do try{if(Wt!==0&&It!==null){var E=It,C=Rn;switch(Wt){case 8:sf(),g=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var B=Wt;if(Wt=0,Rn=null,Er(t,E,C,B),s&&pr){g=0;break t}break;default:B=Wt,Wt=0,Rn=null,Er(t,E,C,B)}}N1(),g=Ee;break}catch(Q){vp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Pi=ya=null,Ft=l,G.H=c,G.A=f,It===null&&(le=null,jt=0,Go()),g}function N1(){for(;It!==null;)Ap(It)}function D1(t,n){var s=Ft;Ft|=2;var l=Tp(),c=bp();le!==t||jt!==n?(bu=null,Tu=Pe()+500,vr(t,n)):pr=En(t,n);t:do try{if(Wt!==0&&It!==null){n=It;var f=Rn;e:switch(Wt){case 1:Wt=0,Rn=null,Er(t,n,f,1);break;case 2:case 9:if(Im(f)){Wt=0,Rn=null,Sp(n);break}n=function(){Wt!==2&&Wt!==9||le!==t||(Wt=7),Si(t)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Im(f)?(Wt=0,Rn=null,Sp(n)):(Wt=0,Rn=null,Er(t,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?uy(g):E.stateNode.complete){Wt=0,Rn=null;var C=E.sibling;if(C!==null)It=C;else{var B=E.return;B!==null?(It=B,xu(B)):It=null}break e}}Wt=0,Rn=null,Er(t,n,f,5);break;case 6:Wt=0,Rn=null,Er(t,n,f,6);break;case 8:sf(),Ee=6;break t;default:throw Error(r(462))}}M1();break}catch(Q){vp(t,Q)}while(!0);return Pi=ya=null,G.H=l,G.A=c,Ft=s,It!==null?0:(le=null,jt=0,Go(),Ee)}function M1(){for(;It!==null&&!ja();)Ap(It)}function Ap(t){var n=Fg(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?xu(t):It=n}function Sp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Pg(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Pg(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:vh(n);default:Xg(s,n),n=It=bm(n,Ji),n=Fg(s,n,Ji)}t.memoizedProps=t.pendingProps,n===null?xu(t):It=n}function Er(t,n,s,l){Pi=ya=null,vh(n),ur=null,vl=0;var c=n.return;try{if(v1(t,c,n,s,jt)){Ee=1,fu(t,jn(s,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;Ee=1,fu(t,jn(s,t.current)),It=null;return}n.flags&32768?(Pt||l===1?t=!0:pr||(jt&536870912)!==0?t=!1:(Ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,t)):xu(n)}function xu(t){var n=t;do{if((n.flags&32768)!==0){xp(n,Ss);return}t=n.return;var s=b1(n.alternate,n,Ji);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);Ee===0&&(Ee=5)}function xp(t,n){do{var s=A1(t.alternate,t);if(s!==null){s.flags&=32767,It=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=s}while(t!==null);Ee=6,It=null}function wp(t,n,s,l,c,f,g,E,C){t.cancelPendingCommit=null;do wu();while(ze!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zc,zc(t,s,f,g,E,C),t===le&&(It=le=null,jt=0),_r=n,Rs=t,$i=s,tf=f,ef=c,gp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,O1(ri,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=tt.p,tt.p=2,g=Ft,Ft|=4;try{S1(t,n,s)}finally{Ft=g,tt.p=c,G.T=l}}ze=1,Rp(),Cp(),Np()}}function Rp(){if(ze===1){ze=0;var t=Rs,n=_r,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=tt.p;tt.p=2;var c=Ft;Ft|=4;try{lp(n,t);var f=yf,g=dm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(C!==null&&Pc(E)){var B=C.start,Q=C.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var q=P.getSelection(),ut=E.textContent.length,Tt=Math.min(C.start,ut),re=C.end===void 0?Tt:Math.min(C.end,ut);!q.extend&&Tt>re&&(g=re,re=Tt,Tt=g);var L=hm(E,Tt),D=hm(E,re);if(L&&D&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=X.createRange();U.setStart(L.node,L.offset),q.removeAllRanges(),Tt>re?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Z=X[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Uu=!!pf,yf=pf=null}finally{Ft=c,tt.p=l,G.T=s}}t.current=n,ze=2}}function Cp(){if(ze===2){ze=0;var t=Rs,n=_r,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=tt.p;tt.p=2;var c=Ft;Ft|=4;try{np(t,n.alternate,n)}finally{Ft=c,tt.p=l,G.T=s}}ze=3}}function Np(){if(ze===4||ze===3){ze=0,Js();var t=Rs,n=_r,s=$i,l=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,_r=Rs=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ws=null),Oi(s),n=n.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=tt.p,tt.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=c}}($i&3)!==0&&wu(),Si(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===nf?jl++:(jl=0,nf=t):jl=0,zl(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yl(n)))}function wu(){return Rp(),Cp(),Np(),Mp()}function Mp(){if(ze!==5)return!1;var t=Rs,n=tf;tf=0;var s=Oi($i),l=G.T,c=tt.p;try{tt.p=32>s?32:s,G.T=null,s=ef,ef=null;var f=Rs,g=$i;if(ze=0,_r=Rs=null,$i=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,fp(f.current),up(f,f.current,g,s),Ft=E,zl(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(vn,f)}catch{}return!0}finally{tt.p=c,G.T=l,Dp(t,n)}}function Vp(t,n,s){n=jn(s,n),n=Lh(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(ta(t,2),Si(t))}function te(t,n,s){if(t.tag===3)Vp(t,t,s);else for(;n!==null;){if(n.tag===3){Vp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ws===null||!ws.has(l))){t=jn(s,t),s=Ig(2),l=Es(n,s,2),l!==null&&(Lg(s,l,n,t),ta(l,2),Si(l));break}}n=n.return}}function rf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new R1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Jh=!0,c.add(s),t=V1.bind(null,t,n,s),n.then(t,t))}function V1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,le===t&&(jt&s)===s&&(Ee===4||Ee===3&&(jt&62914560)===jt&&300>Pe()-Eu?(Ft&2)===0&&vr(t,0):$h|=s,yr===jt&&(yr=0)),Si(t)}function Ip(t,n){n===0&&(n=bo()),t=ma(t,n),t!==null&&(ta(t,n),Si(t))}function I1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ip(t,s)}function L1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ip(t,s)}function O1(t,n){return _e(t,n)}var Ru=null,Tr=null,lf=!1,Cu=!1,of=!1,Ns=0;function Si(t){t!==Tr&&t.next===null&&(Tr===null?Ru=Tr=t:Tr=Tr.next=t),Cu=!0,lf||(lf=!0,z1())}function zl(t,n){if(!of&&Cu){of=!0;do for(var s=!1,l=Ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-k(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,zp(l,f))}else f=jt,f=un(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||En(l,f)||(s=!0,zp(l,f));l=l.next}while(s);of=!1}}function j1(){Lp()}function Lp(){Cu=lf=!1;var t=0;Ns!==0&&F1()&&(t=Ns);for(var n=Pe(),s=null,l=Ru;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,s===null?Ru=c:s.next=c,c===null&&(Tr=s)):(s=l,(t!==0||(f&3)!==0)&&(Cu=!0)),l=c}ze!==0&&ze!==5||zl(t),Ns!==0&&(Ns=0)}function Op(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-k(f),E=1<<g,C=c[g];C===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Li(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=le,s=jt,s=un(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&si(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||En(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&si(l),Oi(s)){case 2:case 8:s=Ws;break;case 32:s=ri;break;case 268435456:s=za;break;default:s=ri}return l=jp.bind(null,t),s=_e(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&si(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(wu()&&t.callbackNode!==s)return null;var l=jt;return l=un(t,t===le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yp(t,l,n),Op(t,Pe()),t.callbackNode!=null&&t.callbackNode===s?jp.bind(null,t):null)}function zp(t,n){if(wu())return null;yp(t,n,!0)}function z1(){X1(function(){(Ft&6)!==0?_e($s,j1):Lp()})}function uf(){if(Ns===0){var t=rr;t===0&&(t=At,At<<=1,(At&261888)===0&&(At=256)),Ns=t}return Ns}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qa(""+t)}function Bp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function U1(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Up((c[He]||null).action),g=l.submitter;g&&(n=(n=g[He]||null)?Up(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new yi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var C=g?Bp(c,g):new FormData(c);Ch(s,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Bp(c,g):new FormData(c),Ch(s,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var cf=0;cf<Qc.length;cf++){var hf=Qc[cf],B1=hf.toLowerCase(),k1=hf[0].toUpperCase()+hf.slice(1);$n(B1,"on"+k1)}$n(pm,"onAnimationEnd"),$n(ym,"onAnimationIteration"),$n(_m,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(n1,"onTransitionRun"),$n(i1,"onTransitionStart"),$n(s1,"onTransitionCancel"),$n(vm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function kp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){qo(Q)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){qo(Q)}c.currentTarget=null,f=C}}}}function Lt(t,n){var s=n[ka];s===void 0&&(s=n[ka]=new Set);var l=t+"__bubble";s.has(l)||(Pp(n,t,2,!1),s.add(l))}function ff(t,n,s){var l=0;n&&(l|=4),Pp(s,t,l,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function df(t){if(!t[Nu]){t[Nu]=!0,Kr.forEach(function(s){s!=="selectionchange"&&(P1.has(s)||ff(s,!1,t),ff(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,ff("selectionchange",!1,n))}}function Pp(t,n,s,l){switch(py(n)){case 2:var c=g2;break;case 8:c=p2;break;default:c=Cf}s=c.bind(null,n,s,t),c=void 0,!ra||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function mf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ci(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}cs(function(){var B=f,Q=Vn(s),X=[];t:{var P=Em.get(t);if(P!==void 0){var q=yi,ut=t;switch(t){case"keypress":if(oa(s)===0)break t;case"keydown":case"keyup":q=ko;break;case"focusin":ut="focus",q=ca;break;case"focusout":ut="blur",q=ca;break;case"beforeblur":case"afterblur":q=ca;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case pm:case ym:case _m:q=Io;break;case vm:q=b;break;case"scroll":case"scrollend":q=ol;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=Nt}var Tt=(n&4)!==0,re=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?P!==null?P+"Capture":null:P;Tt=[];for(var D=B,U;D!==null;){var Z=D;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||L===null||(Z=Yn(D,L),Z!=null&&Tt.push(Bl(D,Z,U))),re)break;D=D.return}0<Tt.length&&(P=new q(P,ut,null,s,Q),X.push({event:P,listeners:Tt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&s!==al&&(ut=s.relatedTarget||s.fromElement)&&(ci(ut)||ut[oi]))break t;if((q||P)&&(P=Q.window===Q?Q:(P=Q.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ut=s.relatedTarget||s.toElement,q=B,ut=ut?ci(ut):null,ut!==null&&(re=h(ut),Tt=ut.tag,ut!==re||Tt!==5&&Tt!==27&&Tt!==6)&&(ut=null)):(q=null,ut=B),q!==ut)){if(Tt=ul,Z="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Ui,Z="onPointerLeave",L="onPointerEnter",D="pointer"),re=q==null?P:Tn(q),U=ut==null?P:Tn(ut),P=new Tt(Z,D+"leave",q,s,Q),P.target=re,P.relatedTarget=U,Z=null,ci(Q)===B&&(Tt=new Tt(L,D+"enter",ut,s,Q),Tt.target=U,Tt.relatedTarget=re,Z=Tt),re=Z,q&&ut)e:{for(Tt=H1,L=q,D=ut,U=0,Z=L;Z;Z=Tt(Z))U++;Z=0;for(var gt=D;gt;gt=Tt(gt))Z++;for(;0<U-Z;)L=Tt(L),U--;for(;0<Z-U;)D=Tt(D),Z--;for(;U--;){if(L===D||D!==null&&L===D.alternate){Tt=L;break e}L=Tt(L),D=Tt(D)}Tt=null}else Tt=null;q!==null&&Hp(X,P,q,Tt,!1),ut!==null&&re!==null&&Hp(X,re,ut,Tt,!0)}}t:{if(P=B?Tn(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Gt=am;else if(im(P))if(rm)Gt=Wv;else{Gt=Jv;var ht=Kv}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Ga(B.elementType)&&(Gt=am):Gt=$v;if(Gt&&(Gt=Gt(t,B))){sm(X,Gt,s,Q);break t}ht&&ht(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&nl(P,"number",P.value)}switch(ht=B?Tn(B):window,t){case"focusin":(im(ht)||ht.contentEditable==="true")&&($a=ht,Hc=B,ml=null);break;case"focusout":ml=Hc=$a=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,mm(X,s,Q);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":mm(X,s,Q)}var Mt;if(Zt)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Ja?ha(t,s)&&(zt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(zt="onCompositionStart");zt&&(Ei&&s.locale!=="ko"&&(Ja||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ja&&(Mt=ll()):(pi=Q,rl="value"in pi?pi.value:pi.textContent,Ja=!0)),ht=Du(B,zt),0<ht.length&&(zt=new vi(zt,t,null,s,Q),X.push({event:zt,listeners:ht}),Mt?zt.data=Mt:(Mt=Ka(s),Mt!==null&&(zt.data=Mt)))),(Mt=Ln?Zv(t,s):Fv(t,s))&&(zt=Du(B,"onBeforeInput"),0<zt.length&&(ht=new vi("onBeforeInput","beforeinput",null,s,Q),X.push({event:ht,listeners:zt}),ht.data=Mt)),U1(X,t,B,s,Q)}kp(X,n)})}function Bl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Du(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Yn(t,s),c!=null&&l.unshift(Bl(t,c,f)),c=Yn(t,n),c!=null&&l.push(Bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function H1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=Yn(s,f),B!=null&&g.unshift(Bl(s,B,C))):c||(B=Yn(s,f),B!=null&&g.push(Bl(s,B,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var q1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(q1,`
`).replace(G1,"")}function Gp(t,n){return n=qp(n),qp(t)===n}function ae(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,s,l);break;case"style":sl(t,l,f);break;case"data":if(n!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(t,n,"name",c.name,c,null),ae(t,n,"formEncType",c.formEncType,c,null),ae(t,n,"formMethod",c.formMethod,c,null),ae(t,n,"formTarget",c.formTarget,c,null)):(ae(t,n,"encType",c.encType,c,null),ae(t,n,"method",c.method,c,null),ae(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),Ha(t,"popover",l);break;case"xlinkActuate":Ce(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Do.get(s)||s,Ha(t,s,l))}}function gf(t,n,s,l,c,f){switch(s){case"style":sl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[He]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ha(t,s,l)}}}function Ke(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,f,g,s,null)}}c&&ae(t,n,"srcSet",s.srcSet,s,null),l&&ae(t,n,"src",s.src,s,null);return;case"input":Lt("invalid",t);var E=f=g=c=null,C=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ae(t,n,l,Q,s,null)}}Ro(t,f,E,C,B,g,c,!1);return;case"select":Lt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ae(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?rs(t,!!l,n,!1):s!=null&&rs(t,!!l,s,!0);return;case"textarea":Lt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ae(t,n,g,E,s,null)}ls(t,l,c,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ae(t,n,C,l,s,null));return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Lt(Ul[l],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ae(t,n,B,l,s,null)}return;default:if(Ga(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&gf(t,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ae(t,n,E,l,s,null))}function Q1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,B=null,Q=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(q)||ae(t,n,q,null,l,X)}}for(var P in l){var q=l[P];if(X=s[P],l.hasOwnProperty(P)&&(q!=null||X!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&ae(t,n,P,q,l,X)}}qa(t,g,E,C,B,Q,f,c);return;case"select":q=g=E=P=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||ae(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=s[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ae(t,n,c,f,l,C)}n=E,s=g,l=q,P!=null?rs(t,!!s,P,!1):!!l!=!!s&&(n!=null?rs(t,!!s,n,!0):rs(t,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ae(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ae(t,n,g,c,l,f)}Co(t,P,q);return;case"option":for(var ut in s)P=s[ut],s.hasOwnProperty(ut)&&P!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?t.selected=!1:ae(t,n,ut,null,l,P));for(C in l)P=l[C],q=s[C],l.hasOwnProperty(C)&&P!==q&&(P!=null||q!=null)&&(C==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":ae(t,n,C,P,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)P=s[Tt],s.hasOwnProperty(Tt)&&P!=null&&!l.hasOwnProperty(Tt)&&ae(t,n,Tt,null,l,P);for(B in l)if(P=l[B],q=s[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:ae(t,n,B,P,l,q)}return;default:if(Ga(n)){for(var re in s)P=s[re],s.hasOwnProperty(re)&&P!==void 0&&!l.hasOwnProperty(re)&&gf(t,n,re,void 0,l,P);for(Q in l)P=l[Q],q=s[Q],!l.hasOwnProperty(Q)||P===q||P===void 0&&q===void 0||gf(t,n,Q,P,l,q);return}}for(var L in s)P=s[L],s.hasOwnProperty(L)&&P!=null&&!l.hasOwnProperty(L)&&ae(t,n,L,null,l,P);for(X in l)P=l[X],q=s[X],!l.hasOwnProperty(X)||P===q||P==null&&q==null||ae(t,n,X,P,l,q)}function Qp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Qp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var C=s[l],B=C.startTime;if(B>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&Qp(X)&&(C=C.responseEnd,g+=Q*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pf=null,yf=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _f(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vf=null;function F1(){var t=window.event;return t&&t.type==="popstate"?t===vf?!1:(vf=t,!0):(vf=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(K1)}:Yp;function K1(t){setTimeout(function(){throw t})}function Ds(t){return t==="head"}function Kp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),xr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")kl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,kl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&kl(t.ownerDocument.body);s=c}while(s);xr(n)}function Jp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ef(s),Pa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function J1(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function $1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function $p(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pn(t.nextSibling),t===null))return null;return t}function Tf(t){return t.data==="$?"||t.data==="$~"}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function W1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Af=null;function Wp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function ty(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ey(t,n,s){switch(n=Mu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pa(t)}var Hn=new Map,ny=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=tt.d;tt.d={f:t2,r:e2,D:n2,C:i2,L:s2,m:a2,X:l2,S:r2,M:o2};function t2(){var t=Wi.f(),n=Au();return t||n}function e2(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):Wi.r(t)}var br=typeof document>"u"?null:document;function iy(t,n,s){var l=br;if(l&&typeof n=="string"&&n){var c=cn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ny.has(c)||(ny.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ke(n,"link",t),Re(n),l.head.appendChild(n)))}}function n2(t){Wi.D(t),iy("dns-prefetch",t,null)}function i2(t,n){Wi.C(t,n),iy("preconnect",t,n)}function s2(t,n,s){Wi.L(t,n,s);var l=br;if(l&&t&&n){var c='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+cn(s.imageSizes)+'"]')):c+='[href="'+cn(t)+'"]';var f=c;switch(n){case"style":f=Ar(t);break;case"script":f=Sr(t)}Hn.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Hn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Pl(f))||n==="script"&&l.querySelector(Hl(f))||(n=l.createElement("link"),Ke(n,"link",t),Re(n),l.head.appendChild(n)))}}function a2(t,n){Wi.m(t,n);var s=br;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sr(t)}if(!Hn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Hn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Hl(f)))return}l=s.createElement("link"),Ke(l,"link",t),Re(l),s.head.appendChild(l)}}}function r2(t,n,s){Wi.S(t,n,s);var l=br;if(l&&t){var c=hi(l).hoistableStyles,f=Ar(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Pl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Hn.get(f))&&Sf(t,s);var C=g=l.createElement("link");Re(C),Ke(C,"link",t),C._p=new Promise(function(B,Q){C.onload=B,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function l2(t,n){Wi.X(t,n);var s=br;if(s&&t){var l=hi(s).hoistableScripts,c=Sr(t),f=l.get(c);f||(f=s.querySelector(Hl(c)),f||(t=w({src:t,async:!0},n),(n=Hn.get(c))&&xf(t,n),f=s.createElement("script"),Re(f),Ke(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function o2(t,n){Wi.M(t,n);var s=br;if(s&&t){var l=hi(s).hoistableScripts,c=Sr(t),f=l.get(c);f||(f=s.querySelector(Hl(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Hn.get(c))&&xf(t,n),f=s.createElement("script"),Re(f),Ke(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sy(t,n,s,l){var c=(c=Ct.current)?Vu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ar(s.href),s=hi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ar(s.href);var f=hi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Pl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),f||u2(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sr(s),s=hi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ar(t){return'href="'+cn(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function u2(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ke(n,"link",s),Re(n),t.head.appendChild(n))}function Sr(t){return'[src="'+cn(t)+'"]'}function Hl(t){return"script[async]"+t}function ry(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+cn(s.href)+'"]');if(l)return n.instance=l,Re(l),l;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Re(l),Ke(l,"style",c),Iu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ar(s.href);var f=t.querySelector(Pl(c));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;l=ay(s),(c=Hn.get(c))&&Sf(l,c),f=(t.ownerDocument||t).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ke(f,"link",l),n.state.loading|=4,Iu(f,s.precedence,t),n.instance=f;case"script":return f=Sr(s.src),(c=t.querySelector(Hl(f)))?(n.instance=c,Re(c),c):(l=s,(c=Hn.get(f))&&(l=w({},s),xf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Re(c),Ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,s.precedence,t));return n.instance}function Iu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function ly(t,n,s){if(Lu===null){var l=new Map,c=Lu=new Map;c.set(s,l)}else c=Lu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ui]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function oy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function c2(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function h2(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ar(l.href),f=n.querySelector(Pl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ou.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,l=ay(l),(c=Hn.get(c))&&Sf(l,c),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ke(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ou.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var wf=0;function f2(t,n){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wf===0&&(wf=62500*Z1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,n.forEach(d2,t),ju=null,Ou.call(t))}function d2(t,n){if(!(n.state.loading&4)){var s=ju.get(t);if(s)var l=s.get(null);else{s=new Map,ju.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:dt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function m2(t,n,s,l,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cy(t,n,s,l,c,f,g,E,C,B,Q,X){return t=new m2(t,n,s,g,C,B,Q,X,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=sh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},oh(f),t}function hy(t){return t?(t=er,t):er}function fy(t,n,s,l,c,f){c=hy(c),l.context===null?l.context=c:l.pendingContext=c,l=vs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Es(t,l,n),s!==null&&(pn(s,t,n),Tl(s,t,n))}function dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Rf(t,n){dy(t,n),(t=t.alternate)&&dy(t,n)}function my(t){if(t.tag===13||t.tag===31){var n=ma(t,67108864);n!==null&&pn(n,t,67108864),Rf(t,67108864)}}function gy(t){if(t.tag===13||t.tag===31){var n=Nn();n=na(n);var s=ma(t,n);s!==null&&pn(s,t,n),Rf(t,n)}}var Uu=!0;function g2(t,n,s,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=2,Cf(t,n,s,l)}finally{tt.p=f,G.T=c}}function p2(t,n,s,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=8,Cf(t,n,s,l)}finally{tt.p=f,G.T=c}}function Cf(t,n,s,l){if(Uu){var c=Nf(l);if(c===null)mf(t,n,l,Bu,s),yy(t,l);else if(_2(c,t,n,s,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<y2.indexOf(t)){for(;c!==null;){var f=Mn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Dn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-k(g);E.entanglements[1]|=C,g&=~C}Si(f),(Ft&6)===0&&(Tu=Pe()+500,zl(0))}}break;case 31:case 13:E=ma(f,2),E!==null&&pn(E,f,2),Au(),Rf(f,2)}if(f=Nf(l),f===null&&mf(t,n,l,Bu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else mf(t,n,l,null,s)}}function Nf(t){return t=Vn(t),Df(t)}var Bu=null;function Df(t){if(Bu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=_(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case $s:return 2;case Ws:return 8;case ri:case Fr:return 32;case za:return 268435456;default:return 32}default:return 32}}var Mf=!1,Ms=null,Vs=null,Is=null,Gl=new Map,Ql=new Map,Ls=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Zl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Mn(n),n!==null&&my(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _2(t,n,s,l,c){switch(n){case"focusin":return Ms=Zl(Ms,t,n,s,l,c),!0;case"dragenter":return Vs=Zl(Vs,t,n,s,l,c),!0;case"mouseover":return Is=Zl(Is,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Gl.set(f,Zl(Gl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ql.set(f,Zl(Ql.get(f)||null,t,n,s,l,c)),!0}return!1}function _y(t){var n=ci(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Qn(t.priority,function(){gy(s)});return}}else if(n===31){if(n=_(s),n!==null){t.blockedOn=n,Qn(t.priority,function(){gy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Nf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);al=l,s.target.dispatchEvent(l),al=null}else return n=Mn(s),n!==null&&my(n),t.blockedOn=s,!1;n.shift()}return!0}function vy(t,n,s){ku(t)&&s.delete(n)}function v2(){Mf=!1,Ms!==null&&ku(Ms)&&(Ms=null),Vs!==null&&ku(Vs)&&(Vs=null),Is!==null&&ku(Is)&&(Is=null),Gl.forEach(vy),Ql.forEach(vy)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,v2)))}var Hu=null;function Ey(t){Hu!==t&&(Hu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||s)===null)continue;break}var f=Mn(s);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function xr(t){function n(C){return Pu(C,t)}Ms!==null&&Pu(Ms,t),Vs!==null&&Pu(Vs,t),Is!==null&&Pu(Is,t),Gl.forEach(n),Ql.forEach(n);for(var s=0;s<Ls.length;s++){var l=Ls[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ls.length&&(s=Ls[0],s.blockedOn===null);)_y(s),s.blockedOn===null&&Ls.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[He]||null;if(typeof f=="function")g||Ey(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[He]||null)E=g.formAction;else if(Df(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ey(s)}}}function Ty(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Vf(t){this._internalRoot=t}qu.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Nn();fy(s,l,t,n,null,null)},qu.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;fy(t.current,2,null,t,null,null),Au(),n[oi]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ao();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ls.length&&n!==0&&n<Ls[s].priority;s++);Ls.splice(s,0,t),s===0&&_y(t)}};var by=e.version;if(by!=="19.2.3")throw Error(r(527,by,"19.2.3"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var E2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{vn=Gu.inject(E2),Oe=Gu}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Ng,f=Dg,g=Mg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=cy(t,1,!1,null,null,s,l,null,c,f,g,Ty),t[oi]=n.current,df(t),new Vf(n)},Yl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ng,g=Dg,E=Mg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=cy(t,1,!0,n,s??null,l,c,C,f,g,E,Ty),n.context=hy(null),s=n.current,l=Nn(),l=na(l),c=vs(l),c.callback=null,Es(s,c,l),s=l,n.current.lanes=s,ta(n,s),Si(n),t[oi]=n.current,df(t),new qu(n)},Yl.version="19.2.3",Yl}var Vy;function V2(){if(Vy)return Of.exports;Vy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Of.exports=M2(),Of.exports}var I2=V2();const Iy=[{id:"z01",name:"Zone 01",d:"M662 329L663.5 280.5L703 273L696.5 333L662 329Z"},{id:"z02",name:"Zone 02",d:"M428 700.5L444.5 706.5L461.5 702L467.5 624H432.5L428 700.5Z"},{id:"z03",name:"Zone 03",d:"M462 702L518.5 671.5L523 622L468 623.5L462 702Z"},{id:"z04",name:"Zone 04",d:"M553 642L555 620L523 622L518 671L553 642Z"},{id:"z05",name:"Zone 05",d:"M525 609H556.5L585 313L555 278L525 609Z"},{id:"z06",name:"Zone 06",d:"M497 321L502 269L555 277.5L550.5 326L497 321Z"},{id:"z07",name:"Zone 07",d:"M492.5 372L497 321L551 326.5L545.5 375.5L492.5 372Z"},{id:"z08",name:"Zone 08",d:"M487 420.5L492.5 371.5L546 376L541.5 426L487 420.5Z"},{id:"z09",name:"Zone 09",d:"M469 613.5H433L468 254L478.5 255L477.5 261.5L502 269L469 613.5Z"},{id:"z10",name:"Zone 10",d:"M274 411L325 405.5L338.5 220L258.5 232.5L285 289L267 397V405.5L274 411Z"},{id:"z11",name:"Zone 11",d:"M377.5 477L431 493L449 246.5L366.5 221.5L338.5 220L321.5 460.5L367 454L377.5 477Z"},{id:"z12",name:"Zone 12",d:"M592 612L553 642L562 552.5L596 558L592 612Z"},{id:"z13",name:"Zone 13",d:"M592.5 612L626 610L632.5 576L636.5 528L600 519L592.5 612Z"},{id:"z14",name:"Zone 14",d:"M703 572L641.5 574.5L651 479.5H709L703 572Z"},{id:"z15",name:"Zone 15",d:"M703.5 571.5H735.5L741 480H709.5L703.5 571.5Z"},{id:"z16",name:"Zone 16",d:"M829 571.5H735L741 479.5H749.5L830.5 543.5L829 571.5Z"},{id:"z17",name:"Zone 17",d:"M831 534.5V543L749.5 479.5H762L831 534.5Z"},{id:"z18",name:"Zone 18",d:"M835.5 481.5L832 534.5L762.5 479.5L835.5 481.5Z"},{id:"z19",name:"Zone 19",d:"M705 607.5V572H763V604.5L705 607.5Z"},{id:"z20",name:"Zone 20",d:"M858.5 572H829.5L835 480.5H864.5L858.5 572Z"},{id:"z21",name:"Zone 21",d:"M943.5 602H897H863.5L865 565.5L859.5 559L865 481H893.5L888.5 572.5L943.5 571V602Z"},{id:"z22",name:"Zone 22",d:"M947.5 480.5L942.5 571.5H888.5L894 480.5H947.5Z"},{id:"z23",name:"Zone 23",d:"M674 477.5H652L656.5 403.5H680.5L674 477.5Z"},{id:"z24",name:"Zone 24",d:"M766 408L680.5 404L674 477.5L761.5 476.5L766 408Z"},{id:"z25",name:"Zone 25",d:"M786.5 476H761.5L765.5 408.5H793L786.5 476Z"},{id:"z26",name:"Zone 26",d:"M815 476H786.5L793 408.5L819.5 410.5L815 476Z"},{id:"z27",name:"Zone 27",d:"M919 471.5L815 476L819.5 410.5L871 413.25L922.5 416L919 471.5Z"},{id:"z28",name:"Zone 28",d:"M876.5 350L873.5 413L835 411.5L839 347.5L876.5 350Z"},{id:"z29",name:"Zone 29",d:"M784.5 341.5L839 347.5L835 411.5L781 408L784.5 341.5Z"},{id:"z30",name:"Zone 30",d:"M732.5 335.5L784.5 341L781 408L727 405.5L732.5 335.5Z"},{id:"z31",name:"Zone 31",d:"M696.5 332.5L732.5 335.5L727 406L691.5 404.5L696.5 332.5Z"},{id:"z32",name:"Zone 32",d:"M662 329L696 333L692 404.5L656.5 402.5L662 329Z"},{id:"z33",name:"Zone 33",d:"M752.5 277L747 337L696 332L703 273H728L752.5 277Z"},{id:"z34",name:"Zone 34",d:"M647 495L643 502.5V488L647 483V495Z"},{id:"z35",name:"Zone 35",d:"M569.5 280.5L657 287L652.418 377.5L569.5 280.5Z"},{id:"z36",name:"Zone 36",d:"M647 484.5L652.418 377.5M652.418 377.5L657 287L569.5 280.5L652.418 377.5Z"},{id:"z37",name:"Zone 37",d:"M563 164L617 170.5L612.5 256L561 247L563 164Z"},{id:"z38",name:"Zone 38",d:"M471 117L468.5 153.5L407 146L461 130.5L471 117Z"},{id:"z39",name:"Zone 39",d:"M544.5 161.5L468.5 153.5V174L485.5 177.5L543.5 245.5L544.5 161.5Z"},{id:"z40",name:"Zone 40",d:"M445.5 166.5V150.5L468.5 153.5L467.5 174L445.5 166.5Z"},{id:"z41",name:"Zone 41",d:"M406 144.5L445.5 150.5V167L383.5 149L406 144.5Z"},{id:"z42",name:"Zone 42",d:"M616.5 170.5L613 263.5L559.5 256V272L637 278.5L641.5 172.5L616.5 170.5Z"},{id:"z43",name:"Zone 43",d:"M466 232V182.5L480 186L523.5 241L466 232Z"},{id:"z44",name:"Zone 44",d:"M444.5 176L466.5 183V233L442 229L444.5 176Z"},{id:"z45",name:"Zone 45",d:"M442 229L376 219L365.455 209.5L320.5 169L342 144.5L383 157.1L444.5 176L442 229Z"},{id:"z46",name:"Zone 46",d:"M365.455 209.5L376 219L442 229L444.5 176L383 157.1M365.455 209.5L320.5 169L342 144.5L383 157.1M365.455 209.5V203L328 167.5L346 148.5L383 157.1"},{id:"z47",name:"Zone 47",d:"M530.5 268.5L487 251L425.5 235.881L493 244.5L533 251L543 258L542 268.5H530.5Z"},{id:"z48",name:"Zone 48",d:"M367 221.5L425.5 235.881M425.5 235.881L487 251L530.5 268.5H542L543 258L533 251L493 244.5L425.5 235.881Z"},{id:"z49",name:"Zone 49",d:"M864 602.5L626 610L633 574.5H641.5L703 571.5H859.5V559.5L865.5 566L864 602.5Z"},{id:"z50",name:"Zone 50",d:"M662 329L663 281L703 273L696.5 333"},{id:"z51",name:"Zone 51",d:"M555.5 278.5L650 387H651.5L652 376.5L559.5 271.5L542 268L543 257.5V245L486 177.5L468 174L384 149.5L341.5 144.5L480.5 186.5L523 241L376 219L364 208.5L358 214L338.5 220L367.5 221L468 254L477.5 254.5V262L502.5 269L555.5 278.5Z"},{id:"z52",name:"Zone 52",d:"M559.5 256L561 247L613 256V263.5L559.5 256Z"},{id:"z53",name:"Zone 53",d:"M563 164L544.5 161.5L543 258L542 268L559.5 271.5V255.5L561 246.5L563 164Z"},{id:"z54",name:"Zone 54",d:"M321.5 461L274.5 411.5L325.5 405.5L321.5 461Z"},{id:"z55",name:"Zone 55",d:"M419 670L428 700.5L432.5 624L433 613.5L468 254.5L449 248L419 670Z"},{id:"z56",name:"Zone 56",d:"M470.5 704.5L444.5 707L461.5 701.5L517.5 672L553 641.5V647.5L519.5 674L470.5 704.5Z"},{id:"z57",name:"Zone 57",d:"M432.5 624L433 613.5H469L525 609H556.5L555 620L523 622L432.5 624Z"},{id:"z58",name:"Zone 58",d:"M600 519L596.5 558.5L562 552.5L585 313L650.5 388L646.5 484L643 488V501.5L636 528L600 519Z"},{id:"z59",name:"Zone 59",d:"M530.5 268.5H542L543 258L533 251L494.5 244.5L432 237L487 251L530.5 268.5Z"},{id:"z60",name:"Zone 60",d:"M657 287L663 281L662 329L656.5 402L652 477.5L651 479.5L641.5 574H633L636.5 527.5L642.5 503.5L647 494.5V484.5L657 287Z"},{id:"z61",name:"Zone 61",d:"M680.5 404L674 477.5L761.5 475.5L766 407.5L680.5 404Z"},{id:"z62",name:"Zone 62",d:"M786.5 475.5L793 408.5L819.5 410.5L815 475.5H786.5Z"},{id:"z63",name:"Zone 63",d:"M616 284V277L559.5 272L568 280.5L616 284Z"},{id:"z64",name:"Zone 64",d:"M469 613.5L525.5 609L541.5 426L487.5 420.5L469 613.5Z"},{id:"z65",name:"Zone 65",d:"M705 571.5V607.5L763 605.5V571.5H705Z"}],Ly="/Sokil/assets/eng-D_G9BtFg.png",Oy=[{id:"z00",name:"Zone 00",d:"M354.5 563L317 588L291 538.5L259.5 508.5L279.5 451L291 446L434 451L430.5 563H366H354.5Z"},{id:"l01",name:"Line 01",d:"M369 559.5L485.5 562L517.5 543.5L535.5 361.5"},{id:"l02",name:"Line 02",d:"M371 567L672 571.5L971.5 565.5"},{id:"l03",name:"Line 03",d:"M370 560L390 558M403 558L417.5 555.5M430 554.5L446 552.5M459 551L474 549.5M486 548.5L502.5 546.5M517 546H530.5M543 546.5L558 547M570.5 548L585.5 548.5M598.5 549.5L614.5 550.5M626 550.5L642.5 552M654.5 552L671 553.5M682.5 553.5L700 554.5M710.5 553.5H727.5M737 553.5H755.5M766.5 553.5H784M794 552.5H810.5M814.5 541L821 526M827 516L831.5 513H841.5M853 516L869 518M881 520L897.5 523M908.5 524.5L925 527M930 519L932.5 503.5M934.5 492L937 476M939.5 463.5L941.5 448"},{id:"l04",name:"Line 04",d:"M381.5 544L394 498L405.5 452.5L412 427"}],L2=()=>{};var jy={};const W0=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},O2=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],_=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},t_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,_=d?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,A=h>>2,w=(h&3)<<4|_>>4;let j=(_&15)<<2|y>>6,Y=y&63;v||(Y=64,d||(j=64)),r.push(i[A],i[w],i[j],i[Y])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(W0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):O2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],_=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const w=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||_==null||y==null||w==null)throw new j2;const j=h<<2|_>>4;if(r.push(j),y!==64){const Y=_<<4&240|y>>2;if(r.push(Y),w!==64){const nt=y<<6&192|w;r.push(nt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class j2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(a){const e=W0(a);return t_.encodeByteArray(e,!0)},lc=function(a){return z2(a).replace(/\./g,"")},U2=function(a){try{return t_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k2=()=>B2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof jy>"u")return;const a=jy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},H2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&U2(a[1]);return e&&JSON.parse(e)},xd=()=>{try{return L2()||k2()||P2()||H2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},q2=a=>xd()?.emulatorHosts?.[a],G2=a=>{const e=q2(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},e_=()=>xd()?.config;class Q2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function wd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z2(a){return(await fetch(a,{credentials:"include"})).ok}function F2(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[lc(JSON.stringify(i)),lc(JSON.stringify(d)),""].join(".")}const to={};function Y2(){const a={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?a.emulator.push(e):a.prod.push(e);return a}function X2(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let zy=!1;function K2(a,e){if(typeof window>"u"||typeof document>"u"||!wd(window.location.host)||to[a]===e||to[a]||zy)return;to[a]=e;function i(j){return`__firebase__banner__${j}`}const r="__firebase__banner",h=Y2().prod.length>0;function d(){const j=document.getElementById(r);j&&j.remove()}function _(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function v(j,Y){j.setAttribute("width","24"),j.setAttribute("id",Y),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function y(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{zy=!0,d()},j}function A(j,Y){j.setAttribute("id",Y),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function w(){const j=X2(r),Y=i("text"),nt=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),$=document.getElementById(it)||document.createElement("a"),vt=i("preprendIcon"),bt=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const dt=j.element;_(dt),A($,it);const Ot=y();v(bt,vt),dt.append(bt,nt,$,Ot),document.body.appendChild(dt)}h?(nt.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function J2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $2(){const a=xd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W2(){return!$2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tE(){try{return typeof indexedDB=="object"}catch{return!1}}function eE(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const nE="FirebaseError";class Hr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=nE,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n_.prototype.create)}}class n_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?iE(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,_,r)}}function iE(a,e){return a.replace(sE,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const sE=/\{\$([^}]+)}/g;function oc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Uy(h)&&Uy(d)){if(!oc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Uy(a){return a!==null&&typeof a=="object"}function ao(a){return a&&a._delegate?a._delegate:a}class ro{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ra="[DEFAULT]";class aE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Q2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lE(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rE(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rE(a){return a===Ra?void 0:a}function lE(a){return a.instantiationMode==="EAGER"}class oE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qt||(qt={}));const uE={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},cE=qt.INFO,hE={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},fE=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=hE[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i_{constructor(e){this.name=e,this._logLevel=cE,this._logHandler=fE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const dE=(a,e)=>e.some(i=>a instanceof i);let By,ky;function mE(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gE(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s_=new WeakMap,Wf=new WeakMap,a_=new WeakMap,Bf=new WeakMap,Rd=new WeakMap;function pE(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(zs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&s_.set(i,a)}).catch(()=>{}),Rd.set(e,a),e}function yE(a){if(Wf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Wf.set(a,e)}let td={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Wf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||a_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function _E(a){td=a(td)}function vE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(kf(this),e,...i);return a_.set(r,e.sort?e.sort():[e]),zs(r)}:gE().includes(a)?function(...e){return a.apply(kf(this),e),zs(s_.get(this))}:function(...e){return zs(a.apply(kf(this),e))}}function EE(a){return typeof a=="function"?vE(a):(a instanceof IDBTransaction&&yE(a),dE(a,mE())?new Proxy(a,td):a)}function zs(a){if(a instanceof IDBRequest)return pE(a);if(Bf.has(a))return Bf.get(a);const e=EE(a);return e!==a&&(Bf.set(a,e),Rd.set(e,a)),e}const kf=a=>Rd.get(a);function TE(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),_=zs(d);return r&&d.addEventListener("upgradeneeded",v=>{r(zs(d.result),v.oldVersion,v.newVersion,zs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),_}const bE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],Pf=new Map;function Py(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=AE.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||bE.includes(i)))return;const h=async function(d,..._){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(_.shift())),(await Promise.all([y[i](..._),o&&v.done]))[0]};return Pf.set(e,h),h}_E(a=>({...a,get:(e,i,r)=>Py(e,i)||a.get(e,i,r),has:(e,i)=>!!Py(e,i)||a.has(e,i)}));class SE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xE(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function xE(a){return a.getComponent()?.type==="VERSION"}const ed="@firebase/app",Hy="0.14.6";const ns=new i_("@firebase/app"),wE="@firebase/app-compat",RE="@firebase/analytics-compat",CE="@firebase/analytics",NE="@firebase/app-check-compat",DE="@firebase/app-check",ME="@firebase/auth",VE="@firebase/auth-compat",IE="@firebase/database",LE="@firebase/data-connect",OE="@firebase/database-compat",jE="@firebase/functions",zE="@firebase/functions-compat",UE="@firebase/installations",BE="@firebase/installations-compat",kE="@firebase/messaging",PE="@firebase/messaging-compat",HE="@firebase/performance",qE="@firebase/performance-compat",GE="@firebase/remote-config",QE="@firebase/remote-config-compat",ZE="@firebase/storage",FE="@firebase/storage-compat",YE="@firebase/firestore",XE="@firebase/ai",KE="@firebase/firestore-compat",JE="firebase",$E="12.6.0";const nd="[DEFAULT]",WE={[ed]:"fire-core",[wE]:"fire-core-compat",[CE]:"fire-analytics",[RE]:"fire-analytics-compat",[DE]:"fire-app-check",[NE]:"fire-app-check-compat",[ME]:"fire-auth",[VE]:"fire-auth-compat",[IE]:"fire-rtdb",[LE]:"fire-data-connect",[OE]:"fire-rtdb-compat",[jE]:"fire-fn",[zE]:"fire-fn-compat",[UE]:"fire-iid",[BE]:"fire-iid-compat",[kE]:"fire-fcm",[PE]:"fire-fcm-compat",[HE]:"fire-perf",[qE]:"fire-perf-compat",[GE]:"fire-rc",[QE]:"fire-rc-compat",[ZE]:"fire-gcs",[FE]:"fire-gcs-compat",[YE]:"fire-fst",[KE]:"fire-fst-compat",[XE]:"fire-vertex","fire-js":"fire-js",[JE]:"fire-js-all"};const uc=new Map,tT=new Map,id=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function cc(a){const e=a.name;if(id.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,a);for(const i of uc.values())qy(i,a);for(const i of tT.values())qy(i,a);return!0}function eT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function nT(a){return a==null?!1:a.settings!==void 0}const iT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new n_("app","Firebase",iT);class sT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const aT=$E;function r_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:nd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Us.create("bad-app-name",{appName:String(o)});if(i||(i=e_()),!i)throw Us.create("no-options");const h=uc.get(o);if(h){if(oc(i,h.options)&&oc(r,h.config))return h;throw Us.create("duplicate-app",{appName:o})}const d=new oE(o);for(const v of id.values())d.addComponent(v);const _=new sT(i,r,d);return uc.set(o,_),_}function rT(a=nd){const e=uc.get(a);if(!e&&a===nd&&e_())return r_();if(!e)throw Us.create("no-app",{appName:a});return e}function Vr(a,e,i){let r=WE[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}cc(new ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const lT="firebase-heartbeat-database",oT=1,lo="firebase-heartbeat-store";let Hf=null;function l_(){return Hf||(Hf=TE(lT,oT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Us.create("idb-open",{originalErrorMessage:a.message})})),Hf}async function uT(a){try{const i=(await l_()).transaction(lo),r=await i.objectStore(lo).get(o_(a));return await i.done,r}catch(e){if(e instanceof Hr)ns.warn(e.message);else{const i=Us.create("idb-get",{originalErrorMessage:e?.message});ns.warn(i.message)}}}async function Gy(a,e){try{const r=(await l_()).transaction(lo,"readwrite");await r.objectStore(lo).put(e,o_(a)),await r.done}catch(i){if(i instanceof Hr)ns.warn(i.message);else{const r=Us.create("idb-set",{originalErrorMessage:i?.message});ns.warn(r.message)}}}function o_(a){return`${a.name}!${a.options.appId}`}const cT=1024,hT=30;class fT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>hT){const o=gT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qy(),{heartbeatsToSend:i,unsentEntries:r}=dT(this._heartbeatsCache.heartbeats),o=lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ns.warn(e),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function dT(a,e=cT){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Zy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class mT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tE()?eE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zy(a){return lc(JSON.stringify({version:2,heartbeats:a})).length}function gT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function pT(a){cc(new ro("platform-logger",e=>new SE(e),"PRIVATE")),cc(new ro("heartbeat",e=>new fT(e),"PRIVATE")),Vr(ed,Hy,a),Vr(ed,Hy,"esm2020"),Vr("fire-js","")}pT("");var yT="firebase",_T="12.7.0";Vr(yT,_T,"app");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bs,u_;(function(){var a;function e(R,S){function N(){}N.prototype=S.prototype,R.F=S.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(I,V,O){for(var x=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)x[Vt-2]=arguments[Vt];return S.prototype[V].apply(I,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,N){N||(N=0);const I=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)I[V]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(V=0;V<16;++V)I[V]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=R.g[0],N=R.g[1],V=R.g[2];let O=R.g[3],x;x=S+(O^N&(V^O))+I[0]+3614090360&4294967295,S=N+(x<<7&4294967295|x>>>25),x=O+(V^S&(N^V))+I[1]+3905402710&4294967295,O=S+(x<<12&4294967295|x>>>20),x=V+(N^O&(S^N))+I[2]+606105819&4294967295,V=O+(x<<17&4294967295|x>>>15),x=N+(S^V&(O^S))+I[3]+3250441966&4294967295,N=V+(x<<22&4294967295|x>>>10),x=S+(O^N&(V^O))+I[4]+4118548399&4294967295,S=N+(x<<7&4294967295|x>>>25),x=O+(V^S&(N^V))+I[5]+1200080426&4294967295,O=S+(x<<12&4294967295|x>>>20),x=V+(N^O&(S^N))+I[6]+2821735955&4294967295,V=O+(x<<17&4294967295|x>>>15),x=N+(S^V&(O^S))+I[7]+4249261313&4294967295,N=V+(x<<22&4294967295|x>>>10),x=S+(O^N&(V^O))+I[8]+1770035416&4294967295,S=N+(x<<7&4294967295|x>>>25),x=O+(V^S&(N^V))+I[9]+2336552879&4294967295,O=S+(x<<12&4294967295|x>>>20),x=V+(N^O&(S^N))+I[10]+4294925233&4294967295,V=O+(x<<17&4294967295|x>>>15),x=N+(S^V&(O^S))+I[11]+2304563134&4294967295,N=V+(x<<22&4294967295|x>>>10),x=S+(O^N&(V^O))+I[12]+1804603682&4294967295,S=N+(x<<7&4294967295|x>>>25),x=O+(V^S&(N^V))+I[13]+4254626195&4294967295,O=S+(x<<12&4294967295|x>>>20),x=V+(N^O&(S^N))+I[14]+2792965006&4294967295,V=O+(x<<17&4294967295|x>>>15),x=N+(S^V&(O^S))+I[15]+1236535329&4294967295,N=V+(x<<22&4294967295|x>>>10),x=S+(V^O&(N^V))+I[1]+4129170786&4294967295,S=N+(x<<5&4294967295|x>>>27),x=O+(N^V&(S^N))+I[6]+3225465664&4294967295,O=S+(x<<9&4294967295|x>>>23),x=V+(S^N&(O^S))+I[11]+643717713&4294967295,V=O+(x<<14&4294967295|x>>>18),x=N+(O^S&(V^O))+I[0]+3921069994&4294967295,N=V+(x<<20&4294967295|x>>>12),x=S+(V^O&(N^V))+I[5]+3593408605&4294967295,S=N+(x<<5&4294967295|x>>>27),x=O+(N^V&(S^N))+I[10]+38016083&4294967295,O=S+(x<<9&4294967295|x>>>23),x=V+(S^N&(O^S))+I[15]+3634488961&4294967295,V=O+(x<<14&4294967295|x>>>18),x=N+(O^S&(V^O))+I[4]+3889429448&4294967295,N=V+(x<<20&4294967295|x>>>12),x=S+(V^O&(N^V))+I[9]+568446438&4294967295,S=N+(x<<5&4294967295|x>>>27),x=O+(N^V&(S^N))+I[14]+3275163606&4294967295,O=S+(x<<9&4294967295|x>>>23),x=V+(S^N&(O^S))+I[3]+4107603335&4294967295,V=O+(x<<14&4294967295|x>>>18),x=N+(O^S&(V^O))+I[8]+1163531501&4294967295,N=V+(x<<20&4294967295|x>>>12),x=S+(V^O&(N^V))+I[13]+2850285829&4294967295,S=N+(x<<5&4294967295|x>>>27),x=O+(N^V&(S^N))+I[2]+4243563512&4294967295,O=S+(x<<9&4294967295|x>>>23),x=V+(S^N&(O^S))+I[7]+1735328473&4294967295,V=O+(x<<14&4294967295|x>>>18),x=N+(O^S&(V^O))+I[12]+2368359562&4294967295,N=V+(x<<20&4294967295|x>>>12),x=S+(N^V^O)+I[5]+4294588738&4294967295,S=N+(x<<4&4294967295|x>>>28),x=O+(S^N^V)+I[8]+2272392833&4294967295,O=S+(x<<11&4294967295|x>>>21),x=V+(O^S^N)+I[11]+1839030562&4294967295,V=O+(x<<16&4294967295|x>>>16),x=N+(V^O^S)+I[14]+4259657740&4294967295,N=V+(x<<23&4294967295|x>>>9),x=S+(N^V^O)+I[1]+2763975236&4294967295,S=N+(x<<4&4294967295|x>>>28),x=O+(S^N^V)+I[4]+1272893353&4294967295,O=S+(x<<11&4294967295|x>>>21),x=V+(O^S^N)+I[7]+4139469664&4294967295,V=O+(x<<16&4294967295|x>>>16),x=N+(V^O^S)+I[10]+3200236656&4294967295,N=V+(x<<23&4294967295|x>>>9),x=S+(N^V^O)+I[13]+681279174&4294967295,S=N+(x<<4&4294967295|x>>>28),x=O+(S^N^V)+I[0]+3936430074&4294967295,O=S+(x<<11&4294967295|x>>>21),x=V+(O^S^N)+I[3]+3572445317&4294967295,V=O+(x<<16&4294967295|x>>>16),x=N+(V^O^S)+I[6]+76029189&4294967295,N=V+(x<<23&4294967295|x>>>9),x=S+(N^V^O)+I[9]+3654602809&4294967295,S=N+(x<<4&4294967295|x>>>28),x=O+(S^N^V)+I[12]+3873151461&4294967295,O=S+(x<<11&4294967295|x>>>21),x=V+(O^S^N)+I[15]+530742520&4294967295,V=O+(x<<16&4294967295|x>>>16),x=N+(V^O^S)+I[2]+3299628645&4294967295,N=V+(x<<23&4294967295|x>>>9),x=S+(V^(N|~O))+I[0]+4096336452&4294967295,S=N+(x<<6&4294967295|x>>>26),x=O+(N^(S|~V))+I[7]+1126891415&4294967295,O=S+(x<<10&4294967295|x>>>22),x=V+(S^(O|~N))+I[14]+2878612391&4294967295,V=O+(x<<15&4294967295|x>>>17),x=N+(O^(V|~S))+I[5]+4237533241&4294967295,N=V+(x<<21&4294967295|x>>>11),x=S+(V^(N|~O))+I[12]+1700485571&4294967295,S=N+(x<<6&4294967295|x>>>26),x=O+(N^(S|~V))+I[3]+2399980690&4294967295,O=S+(x<<10&4294967295|x>>>22),x=V+(S^(O|~N))+I[10]+4293915773&4294967295,V=O+(x<<15&4294967295|x>>>17),x=N+(O^(V|~S))+I[1]+2240044497&4294967295,N=V+(x<<21&4294967295|x>>>11),x=S+(V^(N|~O))+I[8]+1873313359&4294967295,S=N+(x<<6&4294967295|x>>>26),x=O+(N^(S|~V))+I[15]+4264355552&4294967295,O=S+(x<<10&4294967295|x>>>22),x=V+(S^(O|~N))+I[6]+2734768916&4294967295,V=O+(x<<15&4294967295|x>>>17),x=N+(O^(V|~S))+I[13]+1309151649&4294967295,N=V+(x<<21&4294967295|x>>>11),x=S+(V^(N|~O))+I[4]+4149444226&4294967295,S=N+(x<<6&4294967295|x>>>26),x=O+(N^(S|~V))+I[11]+3174756917&4294967295,O=S+(x<<10&4294967295|x>>>22),x=V+(S^(O|~N))+I[2]+718787259&4294967295,V=O+(x<<15&4294967295|x>>>17),x=N+(O^(V|~S))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+O&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const N=S-this.blockSize,I=this.C;let V=this.h,O=0;for(;O<S;){if(V==0)for(;O<=N;)o(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<S;)if(I[V++]=R.charCodeAt(O++),V==this.blockSize){o(this,I),V=0;break}}else for(;O<S;)if(I[V++]=R[O++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,N=0;N<4;++N)for(let I=0;I<32;I+=8)R[S++]=this.g[N]>>>I&255;return R};function h(R,S){var N=_;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=S(R)}function d(R,S){this.h=S;const N=[];let I=!0;for(let V=R.length-1;V>=0;V--){const O=R[V]|0;I&&O==S||(N[V]=O,I=!1)}this.g=N}var _={};function v(R){return-128<=R&&R<128?h(R,function(S){return new d([S|0],S<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return $(y(-R));const S=[];let N=1;for(let I=0;R>=N;I++)S[I]=R/N|0,N*=4294967296;return new d(S,0)}function A(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return $(A(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let I=w;for(let O=0;O<R.length;O+=8){var V=Math.min(8,R.length-O);const x=parseInt(R.substring(O,O+V),S);V<8?(V=y(Math.pow(S,V)),I=I.j(V).add(y(x))):(I=I.j(N),I=I.add(y(x)))}return I}var w=v(0),j=v(1),Y=v(16777216);a=d.prototype,a.m=function(){if(it(this))return-$(this).m();let R=0,S=1;for(let N=0;N<this.g.length;N++){const I=this.i(N);R+=(I>=0?I:4294967296+I)*S,S*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(nt(this))return"0";if(it(this))return"-"+$(this).toString(R);const S=y(Math.pow(R,6));var N=this;let I="";for(;;){const V=Ot(N,S).g;N=vt(N,V.j(S));let O=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=V,nt(N))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function nt(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function it(R){return R.h==-1}a.l=function(R){return R=vt(this,R),it(R)?-1:nt(R)?0:1};function $(R){const S=R.g.length,N=[];for(let I=0;I<S;I++)N[I]=~R.g[I];return new d(N,~R.h).add(j)}a.abs=function(){return it(this)?$(this):this},a.add=function(R){const S=Math.max(this.g.length,R.g.length),N=[];let I=0;for(let V=0;V<=S;V++){let O=I+(this.i(V)&65535)+(R.i(V)&65535),x=(O>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);I=x>>>16,O&=65535,x&=65535,N[V]=x<<16|O}return new d(N,N[N.length-1]&-2147483648?-1:0)};function vt(R,S){return R.add($(S))}a.j=function(R){if(nt(this)||nt(R))return w;if(it(this))return it(R)?$(this).j($(R)):$($(this).j(R));if(it(R))return $(this.j($(R)));if(this.l(Y)<0&&R.l(Y)<0)return y(this.m()*R.m());const S=this.g.length+R.g.length,N=[];for(var I=0;I<2*S;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<R.g.length;V++){const O=this.i(I)>>>16,x=this.i(I)&65535,Vt=R.i(V)>>>16,pe=R.i(V)&65535;N[2*I+2*V]+=x*pe,bt(N,2*I+2*V),N[2*I+2*V+1]+=O*pe,bt(N,2*I+2*V+1),N[2*I+2*V+1]+=x*Vt,bt(N,2*I+2*V+1),N[2*I+2*V+2]+=O*Vt,bt(N,2*I+2*V+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new d(N,0)};function bt(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function dt(R,S){this.g=R,this.h=S}function Ot(R,S){if(nt(S))throw Error("division by zero");if(nt(R))return new dt(w,w);if(it(R))return S=Ot($(R),S),new dt($(S.g),$(S.h));if(it(S))return S=Ot(R,$(S)),new dt($(S.g),S.h);if(R.g.length>30){if(it(R)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var N=j,I=S;I.l(R)<=0;)N=ee(N),I=ee(I);var V=st(N,1),O=st(I,1);for(I=st(I,2),N=st(N,2);!nt(I);){var x=O.add(I);x.l(R)<=0&&(V=V.add(N),O=x),I=st(I,1),N=st(N,1)}return S=vt(R,V.j(S)),new dt(V,S)}for(V=w;R.l(S)>=0;){for(N=Math.max(1,Math.floor(R.m()/S.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=y(N),x=O.j(S);it(x)||x.l(R)>0;)N-=I,O=y(N),x=O.j(S);nt(O)&&(O=j),V=V.add(O),R=vt(R,x)}return new dt(V,R)}a.B=function(R){return Ot(this,R).h},a.and=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<S;I++)N[I]=this.i(I)&R.i(I);return new d(N,this.h&R.h)},a.or=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<S;I++)N[I]=this.i(I)|R.i(I);return new d(N,this.h|R.h)},a.xor=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let I=0;I<S;I++)N[I]=this.i(I)^R.i(I);return new d(N,this.h^R.h)};function ee(R){const S=R.g.length+1,N=[];for(let I=0;I<S;I++)N[I]=R.i(I)<<1|R.i(I-1)>>>31;return new d(N,R.h)}function st(R,S){const N=S>>5;S%=32;const I=R.g.length-N,V=[];for(let O=0;O<I;O++)V[O]=S>0?R.i(O+N)>>>S|R.i(O+N+1)<<32-S:R.i(O+N);return new d(V,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Bs=d}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c_,Xl,h_,Wu,sd,f_,d_,m_;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var z=u[b];if(!(z in p))break t;p=p[z]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function y(u,m,p){return y=v,y.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(b,z,H){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[z].apply(b,W)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function nt(u,m){for(let b=1;b<arguments.length;b++){const z=arguments[b];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=u.length||0;const H=z.length||0;u.length=p+H;for(let W=0;W<H;W++)u[p+W]=z[W]}else u.push(z)}}class it{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function vt(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,p){const b=dt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var dt=new it(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,st=!1,R=new bt,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(N)}};function N(){for(var u;u=vt();){try{u.h.call(u.g)}catch(p){$(p)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}st=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Vt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Vt,V),Vt.prototype.init=function(u,m){const p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Vt.Z.h.call(this)},Vt.prototype.h=function(){Vt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,p,b,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=z,this.key=++G,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function Yt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function M(u){const m={};for(const p in u)m[p]=u[p];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let p,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(p in b)u[p]=b[p];for(let H=0;H<F.length;H++)p=F[H],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,b,z){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const W=Ct(u,m,b,z);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new tt(m,this.src,H,!!b,z),m.fa=p,u.push(m)),m};function Et(u,m){const p=m.type;if(p in u.g){var b=u.g[p],z=Array.prototype.indexOf.call(b,m,void 0),H;(H=z>=0)&&Array.prototype.splice.call(b,z,1),H&&(yt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ct(u,m,p,b){for(let z=0;z<u.length;++z){const H=u[z];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==b)return z}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),oe={};function Jt(u,m,p,b,z){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Jt(u,m[H],p,b,z);return null}return p=Ks(p),u&&u[pe]?u.J(m,p,_(b)?!!b.capture:!1,z):ii(u,m,p,!1,b,z)}function ii(u,m,p,b,z,H){if(!m)throw Error("Invalid event type");const W=_(z)?!!z.capture:!!z;let Nt=Ii(u);if(Nt||(u[mt]=Nt=new rt(u)),p=Nt.add(m,p,b,W,H),p.proxy)return p;if(b=_n(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)O||(z=W),z===void 0&&(z=!1),u.addEventListener(m.toString(),b,z);else if(u.attachEvent)u.attachEvent(ln(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _n(){function u(p){return m.call(u.src,u.listener,p)}const m=Ys;return u}function ne(u,m,p,b,z){if(Array.isArray(m))for(var H=0;H<m.length;H++)ne(u,m[H],p,b,z);else b=_(b)?!!b.capture:!!b,p=Ks(p),u&&u[pe]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],p=Ct(m,p,b,z),p>-1&&(yt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ii(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,p,b,z)),(p=u>-1?m[u]:null)&&Vi(p))}function Vi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])Et(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(ln(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Ii(m))?(Et(p,u),p.h==0&&(p.src=null,m[mt]=null)):yt(u)}}}function ln(u){return u in oe?oe[u]:oe[u]="on"+u}function Ys(u,m){if(u.da)u=!0;else{m=new Vt(m,this);const p=u.listener,b=u.ha||u.src;u.fa&&Vi(u),u=p.call(b,m)}return u}function Ii(u){return u=u[mt],u instanceof rt?u:null}var Xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ks(u){return typeof u=="function"?u:(u[Xs]||(u[Xs]=function(m){return u.handleEvent(m)}),u[Xs])}function ye(){I.call(this),this.i=new rt(this),this.M=this,this.G=null}w(ye,I),ye.prototype[pe]=!0,ye.prototype.removeEventListener=function(u,m,p,b){ne(this,u,m,p,b)};function _e(u,m){var p,b=u.G;if(b)for(p=[];b;b=b.G)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var z=m;m=new V(b,u),et(m,z)}z=!0;let H,W;if(p)for(W=p.length-1;W>=0;W--)H=m.g=p[W],z=si(H,b,!0,m)&&z;if(H=m.g=u,z=si(H,b,!0,m)&&z,z=si(H,b,!1,m)&&z,p)for(W=0;W<p.length;W++)H=m.g=p[W],z=si(H,b,!1,m)&&z}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let b=0;b<p.length;b++)yt(p[b]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},ye.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function si(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let H=0;H<m.length;++H){const W=m[H];if(W&&!W.da&&W.capture==p){const Nt=W.listener,be=W.ha||W.src;W.fa&&Et(u.i,W),z=Nt.call(be,b)!==!1&&z}}return z&&!b.defaultPrevented}function ja(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Js(u){u.g=ja(()=>{u.g=null,u.i&&(u.i=!1,Js(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pe extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(u){I.call(this),this.h=u,this.g={}}w(ai,I);var $s=[];function Ws(u){kt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Vi(m)},u),u.g={}}ai.prototype.N=function(){ai.Z.N.call(this),Ws(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=d.JSON.stringify,Fr=d.JSON.parse,za=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ua(){}function Ba(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oe(){V.call(this,"d")}w(Oe,V);function on(){V.call(this,"c")}w(on,V);var k={},at=null;function lt(){return at=at||new ye}k.Ia="serverreachability";function ct(u){V.call(this,k.Ia,u)}w(ct,V);function At(u){const m=lt();_e(m,new ct(m))}k.STAT_EVENT="statevent";function je(u,m){V.call(this,k.STAT_EVENT,u),this.stat=m}w(je,V);function Xt(u){const m=lt();_e(m,new je(m,u))}k.Ja="timingevent";function Dn(u,m){V.call(this,k.Ja,u),this.size=m}w(Dn,V);function un(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.ua=function(){this.g=!1};function Li(u,m,p,b,z,H){u.info(function(){if(u.g)if(H){var W="",Nt=H.split("&");for(let Zt=0;Zt<Nt.length;Zt++){var be=Nt[Zt].split("=");if(be.length>1){const fe=be[0];be=be[1];const Ln=fe.split("_");W=Ln.length>=2&&Ln[1]=="type"?W+(fe+"="+be+"&"):W+(fe+"=redacted&")}}}else W=null;else W=H;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+p+`
`+W})}function bo(u,m,p,b,z,H,W){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+p+`
`+H+" "+W})}function li(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zc(u,p)+(b?" "+b:"")})}function ta(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function zc(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var p=H[u];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let W=1;W<b.length;W++)b[W]=""}}}}return ri(H)}catch{return m}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function na(){}w(na,Ua),na.prototype.g=function(){return new XMLHttpRequest},Xr=new na;function Oi(u){return encodeURIComponent(String(u))}function Ao(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Qn(u,m,p,b){this.j=u,this.i=m,this.l=p,this.S=b||1,this.V=new ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var we={},He={};function oi(u,m,p){u.M=1,u.A=ia(Ce(m)),u.u=p,u.R=!0,ka(u,null)}function ka(u,m){u.F=Date.now(),ui(u),u.B=Ce(u.A);var p=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ga(p.i,"t",b),u.C=0,p=u.j.L,u.h=new Zn,u.g=Uo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Pe(y(u.Y,u,u.g),u.P)),m=u.V,p=u.g,b=u.ba;var z="readystatechange";Array.isArray(z)||(z&&($s[0]=z.toString()),z=$s);for(let H=0;H<z.length;H++){const W=Jt(p,z[H],b||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),At(),Li(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=Xn(this.g),be=this.g.ya(),Zt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||Nt!=4||be==7||(be==8||Zt<=0?At(3):At(2)),ci(this);var m=this.g.ca();this.X=m;var p=Uc(this);if(this.o=m==200,bo(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break e}}H=null}if(u=H)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,Xt(12),Tn(this),Mn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<p.length;)if(fe=xo(this,p),fe==He){Nt==4&&(this.m=4,Xt(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==we){this.m=4,Xt(15),li(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,fe,null),hi(this,fe);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||p.length!=0||this.h.h||(this.m=1,Xt(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,p,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),cl(W),W.P=!0,Xt(11))}}else li(this.i,this.l,p,null),hi(this,p);Nt==4&&Tn(this),this.o&&!this.K&&(Nt==4?Lo(this.j,this):(this.o=!1,ui(this)))}else zi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Tn(this),Mn(this)}}}catch{}};function Uc(u){if(!So(u))return u.g.la();const m=Ze(u.g);if(m==="")return"";let p="";const b=m.length,z=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,p+=u.h.i.decode(m[H],{stream:!(z&&H==b-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function So(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xo(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?He:(p=Number(m.substring(p,b)),isNaN(p)?we:(b+=1,b+p>m.length?He:(m=m.slice(b,b+p),u.C=b+p,m)))}Qn.prototype.cancel=function(){this.K=!0,Tn(this)};function ui(u){u.T=Date.now()+u.H,Pa(u,u.H)}function Pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=un(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ta(this.i,this.B),this.M!=2&&(At(),Xt(17)),Tn(this),this.m=2,Mn(this)):Pa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||Lo(u.j,u)}function Tn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ws(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||di(p.h,u))){if(!u.L&&di(p.h,u)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Xa(p),fs(p);else break t;ca(p),Xt(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=un(y(p.Va,p),6e3));fi(p.h)<=1&&p.ta&&(p.ta=void 0)}else vi(p,11)}else if((u.L||p.g==u)&&Xa(p),!x(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let Zt=z[m];const fe=Zt[0];if(!(fe<=p.K))if(p.K=fe,Zt=Zt[1],p.I==2)if(Zt[0]=="c"){p.M=Zt[1],p.ba=Zt[2];const Ln=Zt[3];Ln!=null&&(p.ka=Ln,p.j.info("VER="+p.ka));const Ei=Zt[4];Ei!=null&&(p.za=Ei,p.j.info("SVER="+p.za));const Kn=Zt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Jn=u.g;if(Jn){const ha=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var H=b.h;H.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($r(H,H.h),H.h=null))}if(b.G){const Ka=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(b.wa=Ka,$t(b.J,b.G,Ka))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var W=u;if(b.na=zo(b,b.L?b.ba:null,b.W),W.L){Wr(b.h,W);var Nt=W,be=b.O;be&&(Nt.H=be),Nt.D&&(ci(Nt),ui(Nt)),b.g=W}else Vo(b);p.i.length>0&&_i(p)}else Zt[0]!="stop"&&Zt[0]!="close"||vi(p,7);else p.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?vi(p,7):ol(p):Zt[0]!="noop"&&p.l&&p.l.qa(Zt),p.A=0)}}At(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function Kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $r(u,m){u.g?u.g.add(m):u.h=m}function Wr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Kr.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Y(u.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const b=u[p].indexOf("=");let z,H=null;b>=0?(z=u[p].substring(0,b),H=u[p].substring(b+1)):z=u[p],m(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,el(this,Do(u.i)),this.m=u.m):u&&(m=String(u).match(wo))?(this.l=!1,qe(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),as(this,m[4]),this.h=mi(m[5]||"",!0),el(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sa(m,qa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sa(m,qa,!0),"@"),u.push(Oi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(sa(p,p.charAt(0)=="/"?nl:Ro,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",sa(p,Co)),u.join("")},bn.prototype.resolve=function(u){const m=Ce(this);let p=!!u.j;p?qe(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var b=u.h;if(p)as(m,u.u);else if(p=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=m.h.lastIndexOf("/");z!=-1&&(b=m.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let W=0;W<z.length;){const Nt=z[W++];Nt=="."?b&&W==z.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&W==z.length&&H.push("")):(H.push(Nt),b=!0)}b=H.join("/")}else b=z}return p?m.h=b:p=u.i.toString()!=="",p?el(m,Do(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ce(u){return new bn(u)}function qe(u,m,p){u.j=p?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function el(u,m,p){m instanceof ls?(u.i=m,Qa(u.i,u.l)):(p||(m=sa(m,rs)),u.i=new ls(m,u.l))}function $t(u,m,p){u.i.set(m,p)}function ia(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qa=/[#\/\?@]/g,Ro=/[#\?:]/g,nl=/[#\?]/g,rs=/[#\?@]/g,Co=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ha(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=ls.prototype,a.add=function(u,m){hn(this),this.i=null,u=os(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function No(u,m){hn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function il(u,m){return hn(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){hn(this),this.g.forEach(function(p,b){p.forEach(function(z){u.call(m,z,b,this)},this)},this)};function sl(u,m){hn(u);let p=[];if(typeof m=="string")il(u,m)&&(p=p.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return hn(this),this.i=null,u=os(this,u),il(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=sl(this,u),u.length>0?String(u[0]):m):m};function Ga(u,m,p){No(u,m),p.length>0&&(u.i=null,u.g.set(os(u,m),Y(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const z=Oi(p);p=sl(this,p);for(let H=0;H<p.length;H++){let W=z;p[H]!==""&&(W+="="+Oi(p[H])),u.push(W)}}return this.i=u.join("&")};function Do(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qa(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(p,b){const z=b.toLowerCase();b!=z&&(No(this,b),Ga(this,z,p))},u)),u.j=m}function Fn(u,m){const p=new En;if(d.Image){const b=new Image;b.onload=A(Vn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Vn,p,"TestLoadImage: error",!1,m,b),b.onabort=A(Vn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Vn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function al(u,m){const p=new En,b=new AbortController,z=setTimeout(()=>{b.abort(),Vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(z),H.ok?Vn(p,"TestPingServer: ok",!0,m):Vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Vn(p,"TestPingServer: error",!1,m)})}function Vn(u,m,p,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(p)}catch{}}function us(){this.g=new za}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(gi,Ua),gi.prototype.g=function(){return new aa(this.i,this.h)};function aa(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(aa,ye),a=aa.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):Yn(this),this.readyState==3&&Za(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},a.Na=function(u){this.g&&(this.response=u,cs(this))},a.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return kt(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function ra(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=In(p),typeof u=="string"?p!=null&&Oi(p):$t(u,m,p))}function ie(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ie,ye);var pi=/^https?$/i,rl=["POST","PUT"];a=ie.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=j(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){la(this,H);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)p.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())p.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(rl,m,void 0)>=0)||b||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,W]of p)this.g.setRequestHeader(H,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){la(this,H)}};function la(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ll(u),ji(u)}function ll(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),ji(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),ie.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},a.Xa=function(){oa(this)};function oa(u){if(u.h&&typeof h<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=H===0){let W=String(u.D).match(wo)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),b=!pi.test(W?W.toLowerCase():"")}p=b}if(p)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var z=Xn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",ll(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||_e(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fr(m)}};function Ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var p=Ao(u[b]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[z]||[];m[z]=H,H.push(p)}Yt(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new En,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Kr(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=hs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,b){Xt(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=zo(this,null,this.W),_i(this)};function ol(u){if(Fa(u),u.I==3){var m=u.V++,p=Ce(u.J);if($t(p,"SID",u.M),$t(p,"RID",m),$t(p,"TYPE","terminate"),ua(u,p),m=new Qn(u,u.j,m),m.M=2,m.A=ia(Ce(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Uo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}jo(u)}function fs(u){u.g&&(cl(u),u.g.cancel(),u.g=null)}function Fa(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Jr(u.h)&&!u.m){u.m=!0;var m=u.Ea;ee||S(),st||(ee(),st=!0),R.add(m,u),u.D=0}}function Ya(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=un(y(u.Ea,u,m),Oo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Qn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),et(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Mo(this,z,m),p=Ce(this.J),$t(p,"RID",u),$t(p,"CVER",22),this.G&&$t(p,"X-HTTP-Session-Id",this.G),ua(this,p),H&&(this.R?m="headers="+Oi(In(H))+"&"+m:this.u&&ra(p,this.u,H)),$r(this.h,z),this.Ra&&$t(p,"TYPE","init"),this.S?($t(p,"$req",m),$t(p,"SID","null"),z.U=!0,oi(z,p,null)):oi(z,p,m),this.I=2}}else this.I==3&&(u?ul(this,u):this.i.length==0||Jr(this.h)||ul(this))};function ul(u,m){var p;m?p=m.l:p=u.V++;const b=Ce(u.J);$t(b,"SID",u.M),$t(b,"RID",p),$t(b,"AID",u.K),ua(u,b),u.u&&u.o&&ra(b,u.u,u.o),p=new Qn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$r(u.h,p),oi(p,b,m)}function ua(u,m){u.H&&kt(u.H,function(p,b){$t(m,b,p)}),u.l&&kt({},function(p,b){$t(m,b,p)})}function Mo(u,m,p){p=Math.min(u.i.length,p);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let Nt=-1;for(;;){const be=["count="+p];Nt==-1?p>0?(Nt=z[0].g,be.push("ofs="+Nt)):Nt=0:be.push("ofs="+Nt);let Zt=!0;for(let fe=0;fe<p;fe++){var H=z[fe].g;const Ln=z[fe].map;if(H-=Nt,H<0)Nt=Math.max(0,z[fe].g-100),Zt=!1;else try{H="req"+H+"_"||"";try{var W=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ei,Kn]of W){let Jn=Kn;_(Kn)&&(Jn=ri(Kn)),be.push(H+Ei+"="+encodeURIComponent(Jn))}}catch(Ei){throw be.push(H+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(Ln)}}if(Zt){W=be.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function Vo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ee||S(),st||(ee(),st=!0),R.add(m,u),u.A=0}}function ca(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=un(y(u.Da,u),Oo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=un(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),fs(this),Io(this))};function cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),ua(u,m),u.u&&u.o&&ra(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=ia(Ce(m)),p.u=null,p.R=!0,ka(p,u)}a.Va=function(){this.C!=null&&(this.C=null,fs(this),ca(this),Xt(19))};function Xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Lo(u,m){var p=null;if(u.g==m){Xa(u),cl(u),u.g=null;var b=2}else if(di(u.h,m))p=m.G,Wr(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;b=lt(),_e(b,new Dn(b,p)),_i(u)}else Vo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(b==1&&Ya(u,m)||b==2&&ca(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),z){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Oo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var p=y(u.bb,u),b=u.Ua;const z=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(b,"https"),ia(b),z?Fn(b.toString(),p):al(b.toString(),p)}else Xt(2);u.I=0,u.l&&u.l.pa(m),jo(u),Fa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function jo(u){if(u.I=0,u.ja=[],u.l){const m=tl(u.h);(m.length!=0||u.i.length!=0)&&(nt(u.ja,m),nt(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,p){var b=p instanceof bn?Ce(p):new bn(p);if(b.g!="")m&&(b.g=m+"."+b.g),as(b,b.u);else{var z=d.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const H=new bn(null);b&&qe(H,b),m&&(H.g=m),z&&as(H,z),p&&(H.h=p),b=H}return p=u.G,m=u.wa,p&&m&&$t(b,p,m),$t(b,"VER",u.ka),ua(u,b),b}function Uo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new gi({ab:p})):new ie(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}a=Bo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new an(u,m)};function an(u,m){ye.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}w(an,ye),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ol(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=ri(u),u=p);m.i.push(new Re(m.Ya++,u)),m.I==3&&_i(m)},an.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,an.Z.N.call(this)};function ko(u){Oe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(ko,Oe);function Po(){on.call(this),this.status=1}w(Po,on);function Ui(u){this.g=u}w(Ui,Bo),Ui.prototype.ra=function(){_e(this.g,"a")},Ui.prototype.qa=function(u){_e(this.g,new ko(u))},Ui.prototype.pa=function(u){_e(this.g,new Po)},Ui.prototype.oa=function(){_e(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,m_=function(){return new ds},d_=function(){return lt()},f_=k,sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Wu=ea,Yr.COMPLETE="complete",h_=Yr,Ba.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Xl=Ba,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,c_=ie}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",Xy="4.9.3";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let qr="12.7.0";const Da=new i_("@firebase/firestore");function wr(){return Da.logLevel}function ot(a,...e){if(Da.logLevel<=qt.DEBUG){const i=e.map(Cd);Da.debug(`Firestore (${qr}): ${a}`,...i)}}function is(a,...e){if(Da.logLevel<=qt.ERROR){const i=e.map(Cd);Da.error(`Firestore (${qr}): ${a}`,...i)}}function jr(a,...e){if(Da.logLevel<=qt.WARN){const i=e.map(Cd);Da.warn(`Firestore (${qr}): ${a}`,...i)}}function Cd(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function St(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,g_(a,r,i)}function g_(a,e,i){let r=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw is(r),new Error(r)}function Kt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||g_(e,o,r)}function Rt(a,e){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ks{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class p_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class ET{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class TT{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ks,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},_=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ks)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new p_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class bT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new bT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ST{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const r=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Nd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=xT(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Ut(a,e){return a<e?-1:a>e?1:0}function ad(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return qf(o)===qf(h)?Ut(o,h):qf(o)?1:-1}return Ut(a.length,e.length)}const wT=55296,RT=57343;function qf(a){const e=a.charCodeAt(0);return e>=wT&&e<=RT}function zr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const Jy="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&St(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&St(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=xi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ut(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):ad(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class me extends xi{construct(e,i,r){return new me(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const CT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends xi{construct(e,i,r){return new $e(e,i,r)}static isValidIdentifier(e){return CT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jy}static keyField(){return new $e([Jy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(i)}static emptyPath(){return new $e([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(me.fromString(e))}static fromName(e){return new _t(me.fromString(e).popFirst(5))}static empty(){return new _t(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return me.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new me(e.slice()))}}function NT(a,e,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function DT(a,e,i,r){if(e===!0&&r===!0)throw new ft(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function $y(a){if(!_t.isDocumentKey(a))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function y_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Dd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":St(12329,{type:typeof a})}function Ps(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dd(a);throw new ft(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Le(a,e){const i={typeString:a};return e&&(i.value=e),i}function yo(a,e){if(!y_(a))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}const Wy=-62135596800,t0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(e){return he.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*t0);return new he(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wy)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yo(e,he._jsonSchema))return new he(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Le("string",he._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new he(0,0))}static max(){return new xt(new he(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oo=-1;function MT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(r===1e9?new he(i+1,0):new he(i,r));return new Hs(o,_t.empty(),e)}function VT(a){return new Hs(a.readTime,a.key,oo)}class Hs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Hs(xt.min(),_t.empty(),oo)}static max(){return new Hs(xt.max(),_t.empty(),oo)}}function IT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(a.documentKey,e.documentKey),i!==0?i:Ut(a.largestBatchId,e.largestBatchId))}const LT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gr(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==LT)throw a;ot("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,r)=>{i(e)}))}static reject(e){return new K(((i,r)=>{r(e)}))}static waitFor(e){return new K(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next((o=>o?K.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new K(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let v=0;v<h;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++_,_===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new K(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function jT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qr(a){return a.name==="IndexedDbTransactionError"}class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;const Md=-1;function Sc(a){return a==null}function hc(a){return a===0&&1/a==-1/0}function zT(a){return typeof a=="number"&&Number.isInteger(a)&&!hc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const __="";function UT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=e0(e)),e=BT(a.get(i),e);return e0(e)}function BT(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case __:i+="";break;default:i+=h}}return i}function e0(a){return a+__+""}function n0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Va(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function v_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ge{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new ge(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=h??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Je(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ke(this.comparator);return i.data=e,i}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new ni([])}unionWith(e){let i=new ke($e.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class E_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new E_("Invalid base64 string: "+h):h}})(e);return new We(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new We(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}We.EMPTY_BYTE_STRING=new We("");const kT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(a){if(Kt(!!a,39018),typeof a=="string"){let e=0;const i=kT.exec(a);if(Kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(a.seconds),nanos:xe(a.nanos)}}function xe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Gs(a){return typeof a=="string"?We.fromBase64String(a):We.fromUint8Array(a)}const T_="server_timestamp",b_="__type__",A_="__previous_value__",S_="__local_write_time__";function Vd(a){return(a?.mapValue?.fields||{})[b_]?.stringValue===T_}function xc(a){const e=a.mapValue.fields[A_];return Vd(e)?xc(e):e}function uo(a){const e=qs(a.mapValue.fields[S_].timestampValue);return new he(e.seconds,e.nanos)}class PT{constructor(e,i,r,o,h,d,_,v,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A}}const fc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}const x_="__type__",HT="__max__",Fu={mapValue:{}},w_="__vector__",dc="value";function Qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Vd(a)?4:GT(a)?9007199254740991:qT(a)?10:11:St(28295,{value:a})}function Di(a,e){if(a===e)return!0;const i=Qs(a);if(i!==Qs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uo(a).isEqual(uo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=qs(o.timestampValue),_=qs(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Gs(o.bytesValue).isEqual(Gs(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return xe(o.geoPointValue.latitude)===xe(h.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return xe(o.integerValue)===xe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=xe(o.doubleValue),_=xe(h.doubleValue);return d===_?hc(d)===hc(_):isNaN(d)&&isNaN(_)}return!1})(a,e);case 9:return zr(a.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(n0(d)!==n0(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!Di(d[v],_[v])))return!1;return!0})(a,e);default:return St(52216,{left:a})}}function ho(a,e){return(a.values||[]).find((i=>Di(i,e)))!==void 0}function Ur(a,e){if(a===e)return 0;const i=Qs(a),r=Qs(e);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=xe(h.integerValue||h.doubleValue),v=xe(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(a,e);case 3:return s0(a.timestampValue,e.timestampValue);case 4:return s0(uo(a),uo(e));case 5:return ad(a.stringValue,e.stringValue);case 6:return(function(h,d){const _=Gs(h),v=Gs(d);return _.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),v=d.split("/");for(let y=0;y<_.length&&y<v.length;y++){const A=Ut(_[y],v[y]);if(A!==0)return A}return Ut(_.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=Ut(xe(h.latitude),xe(d.latitude));return _!==0?_:Ut(xe(h.longitude),xe(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return a0(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const _=h.fields||{},v=d.fields||{},y=_[dc]?.arrayValue,A=v[dc]?.arrayValue,w=Ut(y?.values?.length||0,A?.values?.length||0);return w!==0?w:a0(y,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Fu.mapValue&&d===Fu.mapValue)return 0;if(h===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const j=ad(v[w],A[w]);if(j!==0)return j;const Y=Ur(_[v[w]],y[A[w]]);if(Y!==0)return Y}return Ut(v.length,A.length)})(a.mapValue,e.mapValue);default:throw St(23264,{he:i})}}function s0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ut(a,e);const i=qs(a),r=qs(e),o=Ut(i.seconds,r.seconds);return o!==0?o:Ut(i.nanos,r.nanos)}function a0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ur(i[o],r[o]);if(h)return h}return Ut(i.length,r.length)}function Br(a){return rd(a)}function rd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=qs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Gs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return _t.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=rd(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${rd(i.fields[d])}`;return o+"}"})(a.mapValue):St(61005,{value:a})}function tc(a){switch(Qs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xc(a);return e?16+tc(e):16;case 5:return 2*a.stringValue.length;case 6:return Gs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+tc(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Va(r.fields,((h,d)=>{o+=h.length+tc(d)})),o})(a.mapValue);default:throw St(13486,{value:a})}}function ld(a){return!!a&&"integerValue"in a}function Id(a){return!!a&&"arrayValue"in a}function r0(a){return!!a&&"nullValue"in a}function l0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ec(a){return!!a&&"mapValue"in a}function qT(a){return(a?.mapValue?.fields||{})[x_]?.stringValue===w_}function eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Va(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=eo(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return{...a}}function GT(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===HT}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=$e.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=eo(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Va(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new qn(eo(this.value))}}function R_(a){const e=[];return Va(a.fields,((i,r)=>{const o=new $e([i]);if(ec(r)){const h=R_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new ni(e)}class sn{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new sn(e,0,xt.min(),xt.min(),xt.min(),qn.empty(),0)}static newFoundDocument(e,i,r,o){return new sn(e,1,i,xt.min(),r,o,0)}static newNoDocument(e,i){return new sn(e,2,i,xt.min(),xt.min(),qn.empty(),0)}static newUnknownDocument(e,i){return new sn(e,3,i,xt.min(),xt.min(),qn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mc{constructor(e,i){this.position=e,this.inclusive=i}}function o0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=_t.comparator(_t.fromName(d.referenceValue),i.key):r=Ur(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function u0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Di(a.position[i],e.position[i]))return!1;return!0}class gc{constructor(e,i="asc"){this.field=e,this.dir=i}}function QT(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class C_{}class Ue extends C_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new FT(e,i,r):i==="array-contains"?new KT(e,r):i==="in"?new JT(e,r):i==="not-in"?new $T(e,r):i==="array-contains-any"?new WT(e,r):new Ue(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new YT(e,r):new XT(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ur(i,this.value)):i!==null&&Qs(this.value)===Qs(i)&&this.matchesComparison(Ur(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends C_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return N_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N_(a){return a.op==="and"}function D_(a){return ZT(a)&&N_(a)}function ZT(a){for(const e of a.filters)if(e instanceof Mi)return!1;return!0}function od(a){if(a instanceof Ue)return a.field.canonicalString()+a.op.toString()+Br(a.value);if(D_(a))return a.filters.map((e=>od(e))).join(",");{const e=a.filters.map((i=>od(i))).join(",");return`${a.op}(${e})`}}function M_(a,e){return a instanceof Ue?(function(r,o){return o instanceof Ue&&r.op===o.op&&r.field.isEqual(o.field)&&Di(r.value,o.value)})(a,e):a instanceof Mi?(function(r,o){return o instanceof Mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&M_(d,o.filters[_])),!0):!1})(a,e):void St(19439)}function V_(a){return a instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(a):a instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(V_).join(" ,")+"}"})(a):"Filter"}class FT extends Ue{constructor(e,i,r){super(e,i,r),this.key=_t.fromName(r.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class YT extends Ue{constructor(e,i){super(e,"in",i),this.keys=I_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class XT extends Ue{constructor(e,i){super(e,"not-in",i),this.keys=I_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function I_(a,e){return(e.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class KT extends Ue{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&ho(i.arrayValue,this.value)}}class JT extends Ue{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class $T extends Ue{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ho(this.value.arrayValue,i)}}class WT extends Ue{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ho(this.value.arrayValue,r)))}}class tb{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function c0(a,e=null,i=[],r=[],o=null,h=null,d=null){return new tb(a,e,i,r,o,h,d)}function Ld(a){const e=Rt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>od(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Br(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Br(r))).join(",")),e.Te=i}return e.Te}function Od(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!QT(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!M_(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!u0(a.startAt,e.startAt)&&u0(a.endAt,e.endAt)}function ud(a){return _t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class wc{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eb(a,e,i,r,o,h,d,_){return new wc(a,e,i,r,o,h,d,_)}function Rc(a){return new wc(a)}function h0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nb(a){return a.collectionGroup!==null}function no(a){const e=Rt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new ke($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(_=_.add(y.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new gc(h,r))})),i.has($e.keyField().canonicalString())||e.Ie.push(new gc($e.keyField(),r))}return e.Ie}function wi(a){const e=Rt(a);return e.Ee||(e.Ee=ib(e,no(a))),e.Ee}function ib(a,e){if(a.limitType==="F")return c0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new gc(o.field,h)}));const i=a.endAt?new mc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new mc(a.startAt.position,a.startAt.inclusive):null;return c0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function cd(a,e,i){return new wc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return Od(wi(a),wi(e))&&a.limitType===e.limitType}function L_(a){return`${Ld(wi(a))}|lt:${a.limitType}`}function Rr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>V_(o))).join(", ")}]`),Sc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Br(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Br(o))).join(",")),`Target(${r})`})(wi(a))}; limitType=${a.limitType})`}function Nc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):_t.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of no(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,v){const y=o0(d,_,v);return d.inclusive?y<=0:y<0})(r.startAt,no(r),o)||r.endAt&&!(function(d,_,v){const y=o0(d,_,v);return d.inclusive?y>=0:y>0})(r.endAt,no(r),o))})(a,e)}function sb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function O_(a){return(e,i)=>{let r=!1;for(const o of no(a)){const h=ab(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function ab(a,e,i){const r=a.field.isKeyField()?_t.comparator(e.key,i.key):(function(h,d,_){const v=d.data.field(h),y=_.data.field(h);return v!==null&&y!==null?Ur(v,y):St(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:a.dir})}}class Ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return v_(this.inner)}size(){return this.innerSize}}const rb=new ge(_t.comparator);function ss(){return rb}const j_=new ge(_t.comparator);function Kl(...a){let e=j_;for(const i of a)e=e.insert(i.key,i);return e}function z_(a){let e=j_;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ca(){return io()}function U_(){return io()}function io(){return new Ia((a=>a.toString()),((a,e)=>a.isEqual(e)))}const lb=new ge(_t.comparator),ob=new ke(_t.comparator);function Bt(...a){let e=ob;for(const i of a)e=e.add(i);return e}const ub=new ke(Ut);function cb(){return ub}function jd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function B_(a){return{integerValue:""+a}}function hb(a,e){return zT(e)?B_(e):jd(a,e)}class Dc{constructor(){this._=void 0}}function fb(a,e,i){return a instanceof pc?(function(o,h){const d={fields:{[b_]:{stringValue:T_},[S_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Vd(h)&&(h=xc(h)),h&&(d.fields[A_]=h),{mapValue:d}})(i,e):a instanceof fo?P_(a,e):a instanceof mo?H_(a,e):(function(o,h){const d=k_(o,h),_=f0(d)+f0(o.Ae);return ld(d)&&ld(o.Ae)?B_(_):jd(o.serializer,_)})(a,e)}function db(a,e,i){return a instanceof fo?P_(a,e):a instanceof mo?H_(a,e):i}function k_(a,e){return a instanceof yc?(function(r){return ld(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class pc extends Dc{}class fo extends Dc{constructor(e){super(),this.elements=e}}function P_(a,e){const i=q_(e);for(const r of a.elements)i.some((o=>Di(o,r)))||i.push(r);return{arrayValue:{values:i}}}class mo extends Dc{constructor(e){super(),this.elements=e}}function H_(a,e){let i=q_(e);for(const r of a.elements)i=i.filter((o=>!Di(o,r)));return{arrayValue:{values:i}}}class yc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f0(a){return xe(a.integerValue||a.doubleValue)}function q_(a){return Id(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function mb(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof mo&&o instanceof mo?zr(r.elements,o.elements,Di):r instanceof yc&&o instanceof yc?Di(r.Ae,o.Ae):r instanceof pc&&o instanceof pc})(a.transform,e.transform)}class gb{constructor(e,i){this.version=e,this.transformResults=i}}class es{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mc{}function G_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Z_(a.key,es.none()):new _o(a.key,a.data,es.none());{const i=a.data,r=qn.empty();let o=new ke($e.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new La(a.key,r,new ni(o.toArray()),es.none())}}function pb(a,e,i){a instanceof _o?(function(o,h,d){const _=o.value.clone(),v=m0(o.fieldTransforms,h,d.transformResults);_.setAll(v),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):a instanceof La?(function(o,h,d){if(!nc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=m0(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Q_(o)),v.setAll(_),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function so(a,e,i,r){return a instanceof _o?(function(h,d,_,v){if(!nc(h.precondition,d))return _;const y=h.value.clone(),A=g0(h.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,e,i,r):a instanceof La?(function(h,d,_,v){if(!nc(h.precondition,d))return _;const y=g0(h.fieldTransforms,v,d),A=d.data;return A.setAll(Q_(h)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(a,e,i,r):(function(h,d,_){return nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(a,e,i)}function yb(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=k_(r.transform,o||null);h!=null&&(i===null&&(i=qn.empty()),i.set(r.field,h))}return i||null}function d0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zr(r,o,((h,d)=>mb(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class _o extends Mc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class La extends Mc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Q_(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function m0(a,e,i){const r=new Map;Kt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,db(d,_,i[o]))}return r}function g0(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,fb(h,d,e))}return r}class Z_ extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _b extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vb{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&pb(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=so(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=U_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const v=G_(d,_);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(xt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Bt())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,r)=>d0(i,r)))&&zr(this.baseMutations,e.baseMutations,((i,r)=>d0(i,r)))}}class zd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return lb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new zd(e,i,r,o)}}class Eb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tb{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ie,Ht;function bb(a){switch(a){case J.OK:return St(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return St(15467,{code:a})}}function F_(a){if(a===void 0)return is("GRPC error has no .code"),J.UNKNOWN;switch(a){case Ie.OK:return J.OK;case Ie.CANCELLED:return J.CANCELLED;case Ie.UNKNOWN:return J.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return J.INTERNAL;case Ie.UNAVAILABLE:return J.UNAVAILABLE;case Ie.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ie.NOT_FOUND:return J.NOT_FOUND;case Ie.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ie.ABORTED:return J.ABORTED;case Ie.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ie.DATA_LOSS:return J.DATA_LOSS;default:return St(39323,{code:a})}}(Ht=Ie||(Ie={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function Ab(){return new TextEncoder}const Sb=new Bs([4294967295,4294967295],0);function p0(a){const e=Ab().encode(a),i=new u_;return i.update(e),new Uint8Array(i.digest())}function y0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Bs([i,r],0),new Bs([o,h],0)]}class Ud{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Bs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Bs.fromNumber(r)));return o.compare(Sb)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=p0(e),[r,o]=y0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ud(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=p0(e),[r,o]=y0(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,vo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vc(xt.min(),o,new ge(Ut),ss(),Bt())}}class vo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new vo(r,i,Bt(),Bt(),Bt())}}class ic{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Y_{constructor(e,i){this.targetId=e,this.Ce=i}}class X_{constructor(e,i,r=We.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class _0{constructor(){this.ve=0,this.Fe=v0(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bt(),i=Bt(),r=Bt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:St(38017,{changeType:h})}})),new vo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=v0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xb{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Yu(),this.He=Yu(),this.Ye=new ge(Ut)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ud(h))if(r===0){const d=new _t(h.path);this.et(i,d,sn.newNoDocument(d,xt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),v=_?this.ct(_,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=Gs(r).toUint8Array()}catch(v){if(v instanceof E_)return jr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new Ud(d,o,h)}catch(v){return jr(v instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&ud(_.target)){const v=new _t(_.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,sn.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Bt();this.He.forEach(((h,d)=>{let _=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Vc(e,i,this.Ye,this.je,r);return this.je=ss(),this.Je=Yu(),this.He=Yu(),this.Ye=new ge(Ut),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new _0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new ke(Ut),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new ke(Ut),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new ge(_t.comparator)}function v0(){return new ge(_t.comparator)}const wb={asc:"ASCENDING",desc:"DESCENDING"},Rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cb={and:"AND",or:"OR"};class Nb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(a,e){return a.useProto3Json||Sc(e)?e:{value:e}}function _c(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Db(a,e){return _c(a,e.toTimestamp())}function Ri(a){return Kt(!!a,49232),xt.fromTimestamp((function(i){const r=qs(i);return new he(r.seconds,r.nanos)})(a))}function Bd(a,e){return fd(a,e).canonicalString()}function fd(a,e){const i=(function(o){return new me(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function J_(a){const e=me.fromString(a);return Kt(nv(e),10190,{key:e.toString()}),e}function dd(a,e){return Bd(a.databaseId,e.path)}function Gf(a,e){const i=J_(e);if(i.get(1)!==a.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new _t(W_(i))}function $_(a,e){return Bd(a.databaseId,e)}function Mb(a){const e=J_(a);return e.length===4?me.emptyPath():W_(e)}function md(a){return new me(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function W_(a){return Kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function E0(a,e,i){return{name:dd(a,e),fields:i.value.mapValue.fields}}function Vb(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:St(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,A){return y.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),We.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),We.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:F_(y.code);return new ft(A,y.message||"")})(d);i=new X_(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gf(a,r.document.name),h=Ri(r.document.updateTime),d=r.document.createTime?Ri(r.document.createTime):xt.min(),_=new qn({mapValue:{fields:r.document.fields}}),v=sn.newFoundDocument(o,h,d,_),y=r.targetIds||[],A=r.removedTargetIds||[];i=new ic(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gf(a,r.document),h=r.readTime?Ri(r.readTime):xt.min(),d=sn.newNoDocument(o,h),_=r.removedTargetIds||[];i=new ic([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gf(a,r.document),h=r.removedTargetIds||[];i=new ic([],h,o,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new Tb(o,h),_=r.targetId;i=new Y_(_,d)}}return i}function Ib(a,e){let i;if(e instanceof _o)i={update:E0(a,e.key,e.value)};else if(e instanceof Z_)i={delete:dd(a,e.key)};else if(e instanceof La)i={update:E0(a,e.key,e.data),updateMask:Hb(e.fieldMask)};else{if(!(e instanceof _b))return St(16599,{Vt:e.type});i={verify:dd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof yc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw St(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Db(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:St(27497)})(a,e.precondition)),i}function Lb(a,e){return a&&a.length>0?(Kt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?Ri(o.updateTime):Ri(h);return d.isEqual(xt.min())&&(d=Ri(h)),new gb(d,o.transformResults||[])})(i,e)))):[]}function Ob(a,e){return{documents:[$_(a,e.path)]}}function jb(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=$_(a,o);const h=(function(y){if(y.length!==0)return ev(Mi.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((A=>(function(j){return{field:Cr(j.field),direction:Bb(j.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=hd(a,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function zb(a){let e=Mb(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(w){const j=tv(w);return j instanceof Mi&&D_(j)?j.getFilters():[j]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((j=>(function(nt){return new gc(Nr(nt.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(j)))})(i.orderBy));let _=null;i.limit&&(_=(function(w){let j;return j=typeof w=="object"?w.value:w,Sc(j)?null:j})(i.limit));let v=null;i.startAt&&(v=(function(w){const j=!!w.before,Y=w.values||[];return new mc(Y,j)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const j=!w.before,Y=w.values||[];return new mc(Y,j)})(i.endAt)),eb(e,o,d,h,_,"F",v,y)}function Ub(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function tv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Nr(i.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Nr(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Nr(i.unaryFilter.field);return Ue.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Nr(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ue.create(Nr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((r=>tv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(a):St(30097,{filter:a})}function Bb(a){return wb[a]}function kb(a){return Rb[a]}function Pb(a){return Cb[a]}function Cr(a){return{fieldPath:a.canonicalString()}}function Nr(a){return $e.fromServerFormat(a.fieldPath)}function ev(a){return a instanceof Ue?(function(i){if(i.op==="=="){if(l0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NAN"}};if(r0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NAN"}};if(r0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(i.field),op:kb(i.op),value:i.value}}})(a):a instanceof Mi?(function(i){const r=i.getFilters().map((o=>ev(o)));return r.length===1?r[0]:{compositeFilter:{op:Pb(i.op),filters:r}}})(a):St(54877,{filter:a})}function Hb(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function nv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class js{constructor(e,i,r,o,h=xt.min(),d=xt.min(),_=We.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qb{constructor(e){this.yt=e}}function Gb(a){const e=zb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cd(e,e.limit,"L"):e}class Qb{constructor(){this.Cn=new Zb}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Hs.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class Zb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new ke(me.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ke(me.comparator)).toArray()}}const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iv=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(iv,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class kr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kr(0)}static cr(){return new kr(-1)}}const b0="LruGarbageCollector",Fb=1048576;function A0([a,e],[i,r]){const o=Ut(a,i);return o===0?Ut(e,r):o}class Yb{constructor(e){this.Ir=e,this.buffer=new ke(A0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();A0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(b0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qr(i)?ot(b0,"Ignoring IndexedDB error during garbage collection: ",i):await Gr(i)}await this.Vr(3e5)}))}}class Kb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Ac.ce);const r=new Yb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(T0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,_,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,_=Date.now(),this.removeTargets(e,r,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),wr()<=qt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function Jb(a,e){return new Kb(a,e)}class $b{constructor(){this.changes=new Ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class t5{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&so(r.mutation,o,ni.empty(),he.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Bt()){const o=Ca();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Kl();return h.forEach(((_,v)=>{d=d.insert(_,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ca();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Bt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=ss();const d=io(),_=(function(){return io()})();return i.forEach(((v,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof La)?h=h.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),so(A.mutation,y,A.mutation.getFieldMask(),he.now())):d.set(y.key,ni.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>_.set(y,new Wb(A,d.get(y)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=io();let o=new ge(((d,_)=>d-_)),h=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=r.get(v)||ni.empty();A=_.applyToLocalView(y,A),r.set(v,A);const w=(o.get(_.batchId)||Bt()).add(v);o=o.insert(_.batchId,w)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),y=v.key,A=v.value,w=U_();A.forEach((j=>{if(!h.has(j)){const Y=G_(i.get(j),r.get(j));Y!==null&&w.set(j,Y),h=h.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):nb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):K.resolve(Ca());let _=oo,v=h;return d.next((y=>K.forEach(y,((A,w)=>(_<w.largestBatchId&&(_=w.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((j=>{v=v.insert(A,j)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,v,y,Bt()))).next((A=>({batchId:_,changes:z_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next((r=>{let o=Kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,h).next((_=>K.forEach(_,(v=>{const y=(function(w,j){return new wc(j,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((A=>{A.forEach(((w,j)=>{d=d.insert(w,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,sn.newInvalidDocument(A)))}));let _=Kl();return d.forEach(((v,y)=>{const A=h.get(v);A!==void 0&&so(A.mutation,y,ni.empty(),he.now()),Nc(i,y)&&(_=_.insert(v,y))})),_}))}}class e5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Gb(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),K.resolve()}}class n5{constructor(){this.overlays=new ge(_t.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ca();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const o=Ca(),h=i.length+1,d=new _t(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ge(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=h.get(y.largestBatchId);A===null&&(A=Ca(),h=h.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const _=Ca(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>_.set(y,A))),!(_.size()>=o)););return K.resolve(_)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Eb(i,r));let h=this.qr.get(i);h===void 0&&(h=Bt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class i5{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}class kd{constructor(){this.Qr=new ke(Qe.$r),this.Ur=new ke(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Qe(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Qe(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _t(new me([])),r=new Qe(i,e),o=new Qe(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _t(new me([])),r=new Qe(i,e),o=new Qe(i,e+1);let h=Bt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Qe(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _t.comparator(e.key,i.key)||Ut(e.Yr,i.Yr)}static Kr(e,i){return Ut(e.Yr,i.Yr)||_t.comparator(e.key,i.key)}}class s5{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(Qe.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vb(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Zr=this.Zr.add(new Qe(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Md:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const _=this.Xr(d.Yr);h.push(_)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new ke(Ut);return i.forEach((o=>{const h=new Qe(o,0),d=new Qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(_=>{r=r.add(_.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;_t.isDocumentKey(h)||(h=h.child(""));const d=new Qe(new _t(h),0);let _=new ke(Ut);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(_=_.add(v.Yr)),!0)}),d),K.resolve(this.ti(_))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(o=>{const h=new Qe(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Qe(i,0),o=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class a5{constructor(e){this.ri=e,this.docs=(function(){return new ge(_t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(e,i){let r=ss();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():sn.newInvalidDocument(o))})),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=ss();const d=i.path,_=new _t(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||IT(VT(A),r)<=0||(o.has(A.key)||Nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,r,o){St(9500)}ii(e,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new r5(this)}getSize(e){return K.resolve(this.size)}}class r5 extends $b{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class l5{constructor(e){this.persistence=e,this.si=new Ia((i=>Ld(i)),Od),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new kd,this.targetCount=0,this.ai=kr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}class sv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ac(0),this.li=!1,this.li=!0,this.hi=new i5,this.referenceDelegate=e(this),this.Pi=new l5(this),this.indexManager=new Qb,this.remoteDocumentCache=(function(o){return new a5(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qb(i),this.Ii=new e5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new n5,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new s5(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ot("MemoryPersistence","Starting transaction:",e);const o=new o5(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class o5 extends OT{constructor(e){super(),this.currentSequenceNumber=e}}class Pd{constructor(e){this.persistence=e,this.Ri=new kd,this.Vi=null}static mi(e){return new Pd(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const o=_t.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,xt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class vc{constructor(e,i){this.persistence=e,this.pi=new Ia((r=>UT(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Jb(this,i)}static mi(e,i){return new vc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((_=>{_||(r++,h.removeEntry(d,xt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}br(e,i,r){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Bt(),o=Bt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Hd(e,i.fromCache,r,o)}}class u5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class c5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W2()?8:jT(J2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new u5;return this.Ss(e,i,d).next((_=>{if(h.result=_,this.Vs)return this.bs(e,i,d,_.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(wr()<=qt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(wr()<=qt.DEBUG&&ot("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(wr()<=qt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(i))):K.resolve())}ys(e,i){if(h0(i))return K.resolve(null);let r=wi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),r=wi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Bt(...h);return this.ps.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((v=>{const y=this.Ds(i,_);return this.Cs(i,y,d,v.readTime)?this.ys(e,cd(i,null,"F")):this.vs(e,y,i,v)}))))})))))}ws(e,i,r,o){return h0(i)||o.isEqual(xt.min())?K.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?K.resolve(null):(wr()<=qt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rr(i)),this.vs(e,d,i,MT(o,oo)).next((_=>_)))}))}Ds(e,i){let r=new ke(O_(e));return i.forEach(((o,h)=>{Nc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return wr()<=qt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.ps.getDocumentsMatchingQuery(e,i,Hs.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const qd="LocalStore",h5=3e8;class f5{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ge(Ut),this.xs=new Ia((h=>Ld(h)),Od),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function d5(a,e,i,r){return new f5(a,e,i,r)}async function av(a,e){const i=Rt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let v=Bt();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of h){_.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:_})))}))}))}function m5(a,e){const i=Rt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,v,y,A){const w=y.batch,j=w.keys();let Y=K.resolve();return j.forEach((nt=>{Y=Y.next((()=>A.getEntry(v,nt))).next((it=>{const $=y.docVersions.get(nt);Kt($!==null,48541),it.version.compareTo($)<0&&(w.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),A.addEntry(it)))}))})),Y.next((()=>_.mutationQueue.removeMutationBatch(v,w)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let v=Bt();for(let y=0;y<_.mutationResults.length;++y)_.mutationResults[y].transformResults.length>0&&(v=v.add(_.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function rv(a){const e=Rt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function g5(a,e){const i=Rt(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const _=[];e.targetChanges.forEach(((A,w)=>{const j=o.get(w);if(!j)return;_.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,w))));let Y=j.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?Y=Y.withResumeToken(We.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),o=o.insert(w,Y),(function(it,$,vt){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=h5?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0})(j,Y,A)&&_.push(i.Pi.updateTargetData(h,Y))}));let v=ss(),y=Bt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),_.push(p5(h,d,e.documentUpdates).next((A=>{v=A.ks,y=A.qs}))),!r.isEqual(xt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((w=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(A)}return K.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,y))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function p5(a,e,i){let r=Bt(),o=Bt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=ss();return i.forEach(((_,v)=>{const y=h.get(_);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(_)),v.isNoDocument()&&v.version.isEqual(xt.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):ot(qd,"Ignoring outdated watch update for ",_,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function y5(a,e){const i=Rt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Md),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _5(a,e){const i=Rt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new js(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function gd(a,e,i){const r=Rt(a),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Qr(d))throw d;ot(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function S0(a,e,i){const r=Rt(a);let o=xt.min(),h=Bt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const w=Rt(v),j=w.xs.get(A);return j!==void 0?K.resolve(w.Ms.get(j)):w.Pi.getTargetData(y,A)})(r,d,wi(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,_.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:xt.min(),i?h:Bt()))).next((_=>(v5(r,sb(e),_),{documents:_,Qs:h})))))}function v5(a,e,i){let r=a.Os.get(e)||xt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class x0{constructor(){this.activeTargetIds=cb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E5{constructor(){this.Mo=new x0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new x0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T5{Oo(e){}shutdown(){}}const w0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(w0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xu=null;function pd(){return Xu===null?Xu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xu++,"0x"+Xu.toString(16)}const Qf="RestConnection",b5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===fc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=pd(),_=this.zo(e,i.toUriEncodedString());ot(Qf,`Sending RPC '${e}' ${d}:`,_,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:y}=new URL(_),A=wd(y);return this.Jo(e,_,v,r,A).then((w=>(ot(Qf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw jr(Qf,`RPC '${e}' ${d} failed with error: `,w,"url: ",_,"request:",r),w}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=b5[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class S5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class x5 extends A5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=pd();return new Promise(((_,v)=>{const y=new c_;y.setWithCredentials(!0),y.listenOnce(h_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wu.NO_ERROR:const w=y.getResponseJson();ot(en,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),_(w);break;case Wu.TIMEOUT:ot(en,`RPC '${e}' ${d} timed out`),v(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const j=y.getStatus();if(ot(en,`RPC '${e}' ${d} failed with status:`,j,"response text:",y.getResponseText()),j>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const nt=Y?.error;if(nt&&nt.status&&nt.message){const it=(function(vt){const bt=vt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(bt)>=0?bt:J.UNKNOWN})(nt.status);v(new ft(it,nt.message))}else v(new ft(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ft(J.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(en,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot(en,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=pd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=m_(),_=d_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");ot(en,`Creating RPC '${e}' stream ${o}: ${A}`,v);const w=d.createWebChannel(A,v);this.I_(w);let j=!1,Y=!1;const nt=new S5({Yo:$=>{Y?ot(en,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(j||(ot(en,`Opening RPC '${e}' stream ${o} transport.`),w.open(),j=!0),ot(en,`RPC '${e}' stream ${o} sending:`,$),w.send($))},Zo:()=>w.close()}),it=($,vt,bt)=>{$.listen(vt,(dt=>{try{bt(dt)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return it(w,Xl.EventType.OPEN,(()=>{Y||(ot(en,`RPC '${e}' stream ${o} transport opened.`),nt.o_())})),it(w,Xl.EventType.CLOSE,(()=>{Y||(Y=!0,ot(en,`RPC '${e}' stream ${o} transport closed`),nt.a_(),this.E_(w))})),it(w,Xl.EventType.ERROR,($=>{Y||(Y=!0,jr(en,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),nt.a_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),it(w,Xl.EventType.MESSAGE,($=>{if(!Y){const vt=$.data[0];Kt(!!vt,16349);const bt=vt,dt=bt?.error||bt[0]?.error;if(dt){ot(en,`RPC '${e}' stream ${o} received error:`,dt);const Ot=dt.status;let ee=(function(S){const N=Ie[S];if(N!==void 0)return F_(N)})(Ot),st=dt.message;ee===void 0&&(ee=J.INTERNAL,st="Unknown error status: "+Ot+" with message "+dt.message),Y=!0,nt.a_(new ft(ee,st)),w.close()}else ot(en,`RPC '${e}' stream ${o} received:`,vt),nt.u_(vt)}})),it(_,f_.STAT_EVENT,($=>{$.stat===sd.PROXY?ot(en,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===sd.NOPROXY&&ot(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{nt.__()}),0),nt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zf(){return typeof document<"u"?document:null}function Ic(a){return new Nb(a,!0)}class lv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const C0="PersistentStream";class ov{constructor(e,i,r,o,h,d,_,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ft(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w5 extends ov{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Vb(this.serializer,e),r=(function(h){if(!("targetChange"in h))return xt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?xt.min():d.readTime?Ri(d.readTime):xt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=md(this.serializer),i.addTarget=(function(h,d){let _;const v=d.target;if(_=ud(v)?{documents:Ob(h,v)}:{query:jb(h,v).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=K_(h,d.resumeToken);const y=hd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}else if(d.snapshotVersion.compareTo(xt.min())>0){_.readTime=_c(h,d.snapshotVersion.toTimestamp());const y=hd(h,d.expectedCount);y!==null&&(_.expectedCount=y)}return _})(this.serializer,e);const r=Ub(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.q_(i)}}class R5 extends ov{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Lb(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=md(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Ib(this.serializer,r)))};this.q_(i)}}class C5{}class N5 extends C5{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,fd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(J.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.Ho(e,fd(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D5{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class M5{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Oa(this)&&(ot(Ma,"Restarting streams for network reachability change."),await(async function(v){const y=Rt(v);y.Ea.add(4),await Eo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Lc(y)})(this))}))})),this.Ra=new D5(r,o)}}async function Lc(a){if(Oa(a))for(const e of a.da)await e(!0)}async function Eo(a){for(const e of a.da)await e(!1)}function uv(a,e){const i=Rt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Fd(i)?Zd(i):Zr(i).O_()&&Qd(i,e))}function Gd(a,e){const i=Rt(a),r=Zr(i);i.Ia.delete(e),r.O_()&&cv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Oa(i)&&i.Ra.set("Unknown"))}function Qd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zr(a).Y_(e)}function cv(a,e){a.Va.Ue(e),Zr(a).Z_(e)}function Zd(a){a.Va=new xb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Zr(a).start(),a.Ra.ua()}function Fd(a){return Oa(a)&&!Zr(a).x_()&&a.Ia.size>0}function Oa(a){return Rt(a).Ea.size===0}function hv(a){a.Va=void 0}async function V5(a){a.Ra.set("Online")}async function I5(a){a.Ia.forEach(((e,i)=>{Qd(a,e)}))}async function L5(a,e){hv(a),Fd(a)?(a.Ra.ha(e),Zd(a)):a.Ra.set("Unknown")}async function O5(a,e,i){if(a.Ra.set("Online"),e instanceof X_&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.Va.removeTarget(_))})(a,e)}catch(r){ot(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ec(a,r)}else if(e instanceof ic?a.Va.Ze(e):e instanceof Y_?a.Va.st(e):a.Va.tt(e),!i.isEqual(xt.min()))try{const r=await rv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.Va.Tt(d);return _.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(y);A&&h.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),_.targetMismatches.forEach(((v,y)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(We.EMPTY_BYTE_STRING,A.snapshotVersion)),cv(h,v);const w=new js(A.target,v,y,A.sequenceNumber);Qd(h,w)})),h.remoteSyncer.applyRemoteEvent(_)})(a,i)}catch(r){ot(Ma,"Failed to raise snapshot:",r),await Ec(a,r)}}async function Ec(a,e,i){if(!Qr(e))throw e;a.Ea.add(1),await Eo(a),a.Ra.set("Offline"),i||(i=()=>rv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ot(Ma,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Lc(a)}))}function fv(a,e){return e().catch((i=>Ec(a,i,e)))}async function Oc(a){const e=Rt(a),i=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Md;for(;j5(e);)try{const o=await y5(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,z5(e,o)}catch(o){await Ec(e,o)}dv(e)&&mv(e)}function j5(a){return Oa(a)&&a.Ta.length<10}function z5(a,e){a.Ta.push(e);const i=Zs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function dv(a){return Oa(a)&&!Zs(a).x_()&&a.Ta.length>0}function mv(a){Zs(a).start()}async function U5(a){Zs(a).ra()}async function B5(a){const e=Zs(a);for(const i of a.Ta)e.ea(i.mutations)}async function k5(a,e,i){const r=a.Ta.shift(),o=zd.from(r,e,i);await fv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Oc(a)}async function P5(a,e){e&&Zs(a).X_&&await(async function(r,o){if((function(d){return bb(d)&&d!==J.ABORTED})(o.code)){const h=r.Ta.shift();Zs(r).B_(),await fv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(r)}})(a,e),dv(a)&&mv(a)}async function N0(a,e){const i=Rt(a);i.asyncQueue.verifyOperationInProgress(),ot(Ma,"RemoteStore received new credentials");const r=Oa(i);i.Ea.add(3),await Eo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lc(i)}async function H5(a,e){const i=Rt(a);e?(i.Ea.delete(2),await Lc(i)):e||(i.Ea.add(2),await Eo(i),i.Ra.set("Unknown"))}function Zr(a){return a.ma||(a.ma=(function(i,r,o){const h=Rt(i);return h.sa(),new w5(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:V5.bind(null,a),t_:I5.bind(null,a),r_:L5.bind(null,a),H_:O5.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Fd(a)?Zd(a):a.Ra.set("Unknown")):(await a.ma.stop(),hv(a))}))),a.ma}function Zs(a){return a.fa||(a.fa=(function(i,r,o){const h=Rt(i);return h.sa(),new R5(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:U5.bind(null,a),r_:P5.bind(null,a),ta:B5.bind(null,a),na:k5.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Oc(a)):(await a.fa.stop(),a.Ta.length>0&&(ot(Ma,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Yd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new Yd(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(a,e){if(is("AsyncQueue",`${e}: ${a}`),Qr(a))return new ft(J.UNAVAILABLE,`${e}: ${a}`);throw a}class Ir{static emptySet(e){return new Ir(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_t.comparator(i.key,r.key):(i,r)=>_t.comparator(i.key,r.key),this.keyedMap=Kl(),this.sortedSet=new ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ir;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class D0{constructor(){this.ga=new ge(_t.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Pr{constructor(e,i,r,o,h,d,_,v,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new Pr(e,i,Ir.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class q5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G5{constructor(){this.queries=M0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Rt(i),h=o.queries;o.queries=M0(),h.forEach(((d,_)=>{for(const v of _.Sa)v.onError(r)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function M0(){return new Ia((a=>L_(a)),Cc)}async function gv(a,e){const i=Rt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new q5,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=Xd(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Kd(i)}async function pv(a,e){const i=Rt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Q5(a,e){const i=Rt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.Sa)_.Fa(o)&&(r=!0);d.wa=o}}r&&Kd(i)}function Z5(a,e,i){const r=Rt(a),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Kd(a){a.Ca.forEach((e=>{e.next()}))}var yd,V0;(V0=yd||(yd={})).Ma="default",V0.Cache="cache";class yv{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yd.Cache}}class _v{constructor(e){this.key=e}}class vv{constructor(e){this.key=e}}class F5{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=O_(e),this.tu=new Ir(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new D0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,w)=>{const j=o.get(A),Y=Nc(this.query,w)?w:null,nt=!!j&&this.mutatedKeys.has(j.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let $=!1;j&&Y?j.data.isEqual(Y.data)?nt!==it&&(r.track({type:3,doc:Y}),$=!0):this.su(j,Y)||(r.track({type:2,doc:Y}),$=!0,(v&&this.eu(Y,v)>0||y&&this.eu(Y,y)<0)&&(_=!0)):!j&&Y?(r.track({type:0,doc:Y}),$=!0):j&&!Y&&(r.track({type:1,doc:j}),$=!0,(v||y)&&(_=!0)),$&&(Y?(d=d.add(Y),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(Y,nt){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:$})}};return it(Y)-it(nt)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Pr(this.query,e.tu,h,d,e.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new vv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new _v(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Bt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jd="SyncEngine";class Y5{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class X5{constructor(e){this.key=e,this.hu=!1}}class K5{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ia((_=>L_(_)),Cc),this.Iu=new Map,this.Eu=new Set,this.du=new ge(_t.comparator),this.Au=new Map,this.Ru=new kd,this.Vu={},this.mu=new Map,this.fu=kr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J5(a,e,i=!0){const r=xv(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Ev(r,e,i,!0),o}async function $5(a,e){const i=xv(a);await Ev(i,e,!0,!1)}async function Ev(a,e,i,r){const o=await _5(a.localStore,wi(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await W5(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&uv(a.remoteStore,o),_}async function W5(a,e,i,r,o){a.pu=(w,j,Y)=>(async function(it,$,vt,bt){let dt=$.view.ru(vt);dt.Cs&&(dt=await S0(it.localStore,$.query,!1).then((({documents:R})=>$.view.ru(R,dt))));const Ot=bt&&bt.targetChanges.get($.targetId),ee=bt&&bt.targetMismatches.get($.targetId)!=null,st=$.view.applyChanges(dt,it.isPrimaryClient,Ot,ee);return L0(it,$.targetId,st.au),st.snapshot})(a,w,j,Y);const h=await S0(a.localStore,e,!0),d=new F5(e,h.Qs),_=d.ru(h.documents),v=vo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(_,a.isPrimaryClient,v);L0(a,i,y.au);const A=new Y5(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function t4(a,e,i){const r=Rt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Cc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Gd(r.remoteStore,o.targetId),_d(r,o.targetId)})).catch(Gr)):(_d(r,o.targetId),await gd(r.localStore,o.targetId,!0))}async function e4(a,e){const i=Rt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Gd(i.remoteStore,r.targetId))}async function n4(a,e,i){const r=u4(a);try{const o=await(function(d,_){const v=Rt(d),y=he.now(),A=_.reduce(((Y,nt)=>Y.add(nt.key)),Bt());let w,j;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let nt=ss(),it=Bt();return v.Ns.getEntries(Y,A).next(($=>{nt=$,nt.forEach(((vt,bt)=>{bt.isValidDocument()||(it=it.add(vt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,nt))).next(($=>{w=$;const vt=[];for(const bt of _){const dt=yb(bt,w.get(bt.key).overlayedDocument);dt!=null&&vt.push(new La(bt.key,dt,R_(dt.value.mapValue),es.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,y,vt,_)})).next(($=>{j=$;const vt=$.applyToLocalDocumentSet(w,it);return v.documentOverlayCache.saveOverlays(Y,$.batchId,vt)}))})).then((()=>({batchId:j.batchId,changes:z_(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new ge(Ut)),y=y.insert(_,v),d.Vu[d.currentUser.toKey()]=y})(r,o.batchId,i),await To(r,o.changes),await Oc(r.remoteStore)}catch(o){const h=Xd(o,"Failed to persist write");i.reject(h)}}async function Tv(a,e){const i=Rt(a);try{const r=await g5(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await To(i,r,e)}catch(r){await Gr(r)}}function I0(a,e,i){const r=Rt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const v=Rt(d);v.onlineState=_;let y=!1;v.queries.forEach(((A,w)=>{for(const j of w.Sa)j.va(_)&&(y=!0)})),y&&Kd(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i4(a,e,i){const r=Rt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ge(_t.comparator);d=d.insert(h,sn.newNoDocument(h,xt.min()));const _=Bt().add(h),v=new Vc(xt.min(),new Map,new ge(Ut),d,_);await Tv(r,v),r.du=r.du.remove(h),r.Au.delete(e),$d(r)}else await gd(r.localStore,e,!1).then((()=>_d(r,e,i))).catch(Gr)}async function s4(a,e){const i=Rt(a),r=e.batch.batchId;try{const o=await m5(i.localStore,e);Av(i,r,null),bv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await To(i,o)}catch(o){await Gr(o)}}async function a4(a,e,i){const r=Rt(a);try{const o=await(function(d,_){const v=Rt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,_).next((w=>(Kt(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);Av(r,e,i),bv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await To(r,o)}catch(o){await Gr(o)}}function bv(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Av(a,e,i){const r=Rt(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function _d(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||Sv(a,r)}))}function Sv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Gd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),$d(a))}function L0(a,e,i){for(const r of i)r instanceof _v?(a.Ru.addReference(r.key,e),r4(a,r)):r instanceof vv?(ot(Jd,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||Sv(a,r.key)):St(19791,{wu:r})}function r4(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ot(Jd,"New document in limbo: "+i),a.Eu.add(r),$d(a))}function $d(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new _t(me.fromString(e)),r=a.fu.next();a.Au.set(r,new X5(i)),a.du=a.du.insert(i,r),uv(a.remoteStore,new js(wi(Rc(i.path)),r,"TargetPurposeLimboResolution",Ac.ce))}}async function To(a,e,i){const r=Rt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,v)=>{d.push(r.pu(v,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Hd.As(v.targetId,y);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,y){const A=Rt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>K.forEach(y,(j=>K.forEach(j.Es,(Y=>A.persistence.referenceDelegate.addReference(w,j.targetId,Y))).next((()=>K.forEach(j.ds,(Y=>A.persistence.referenceDelegate.removeReference(w,j.targetId,Y)))))))))}catch(w){if(!Qr(w))throw w;ot(qd,"Failed to update sequence numbers: "+w)}for(const w of y){const j=w.targetId;if(!w.fromCache){const Y=A.Ms.get(j),nt=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(nt);A.Ms=A.Ms.insert(j,it)}}})(r.localStore,h))}async function l4(a,e){const i=Rt(a);if(!i.currentUser.isEqual(e)){ot(Jd,"User change. New user:",e.toKey());const r=await av(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new ft(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await To(i,r.Ls)}}function o4(a,e){const i=Rt(a),r=i.Au.get(e);if(r&&r.hu)return Bt().add(r.key);{let o=Bt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function xv(a){const e=Rt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.Pu.H_=Q5.bind(null,e.eventManager),e.Pu.yu=Z5.bind(null,e.eventManager),e}function u4(a){const e=Rt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a4.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return d5(this.persistence,new c5,e.initialUser,this.serializer)}Cu(e){return new sv(Pd.mi,this.serializer)}Du(e){return new E5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class c4 extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Kt(this.persistence.referenceDelegate instanceof vc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Xb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new sv((r=>vc.mi(r,i)),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l4.bind(null,this.syncEngine),await H5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G5})()}createDatastore(e){const i=Ic(e.databaseInfo.databaseId),r=(function(h){return new x5(h)})(e.databaseInfo);return(function(h,d,_,v){return new N5(h,d,_,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new M5(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>I0(this.syncEngine,i,0)),(function(){return R0.v()?new R0:new T5})())}createSyncEngine(e,i){return(function(o,h,d,_,v,y,A){const w=new K5(o,h,d,_,v,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);ot(Ma,"RemoteStore shutting down."),r.Ea.add(5),await Eo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vd.provider={build:()=>new vd};class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Fs="FirestoreClient";class h4{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ot(Fs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(Fs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Xd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ff(a,e){a.asyncQueue.verifyOperationInProgress(),ot(Fs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await av(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function O0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await f4(a);ot(Fs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>N0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>N0(e.remoteStore,o))),a._onlineComponents=e}async function f4(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(Fs,"Using user provided OfflineComponentProvider");try{await Ff(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),await Ff(a,new Tc)}}else ot(Fs,"Using default OfflineComponentProvider"),await Ff(a,new c4(void 0));return a._offlineComponents}async function Rv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(Fs,"Using user provided OnlineComponentProvider"),await O0(a,a._uninitializedComponentsProvider._online)):(ot(Fs,"Using default OnlineComponentProvider"),await O0(a,new vd))),a._onlineComponents}function d4(a){return Rv(a).then((e=>e.syncEngine))}async function Ed(a){const e=await Rv(a),i=e.eventManager;return i.onListen=J5.bind(null,e.syncEngine),i.onUnlisten=t4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$5.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=e4.bind(null,e.syncEngine),i}function m4(a,e,i={}){const r=new ks;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,_,v,y){const A=new wv({next:j=>{A.Nu(),d.enqueueAndForget((()=>pv(h,w)));const Y=j.docs.has(_);!Y&&j.fromCache?y.reject(new ft(J.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&j.fromCache&&v&&v.source==="server"?y.reject(new ft(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(j)},error:j=>y.reject(j)}),w=new yv(Rc(_.path),A,{includeMetadataChanges:!0,qa:!0});return gv(h,w)})(await Ed(a),a.asyncQueue,e,i,r))),r.promise}function Cv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const j0=new Map;const Nv="firestore.googleapis.com",z0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nv,this.ssl=z0}else this.host=e.host,this.ssl=e.ssl??z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fb)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vT;switch(r.type){case"firstParty":return new AT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=j0.get(i);r&&(ot("ComponentProvider","Removing Datastore"),j0.delete(i),r.terminate())})(this),Promise.resolve()}}function g4(a,e,i,r={}){a=Ps(a,Wd);const o=wd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},_=`${e}:${i}`;o&&(Z2(`https://${_}`),K2("Firestore",!0)),h.host!==Nv&&h.host!==_&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:o,emulatorOptions:r};if(!oc(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=nn.MOCK_USER;else{y=F2(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(w)}a._authCredentials=new ET(new p_(y,A))}}class jc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Be{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(yo(i,Be._jsonSchema))return new Be(e,r||null,new _t(me.fromString(i.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Le("string",Be._jsonSchemaVersion),referencePath:Le("string")};class go extends jc{constructor(e,i,r){super(e,i,Rc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new _t(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Dr(a,e,...i){if(a=ao(a),arguments.length===1&&(e=Nd.newId()),NT("doc","path",e),a instanceof Wd){const r=me.fromString(e,...i);return $y(r),new Be(a,null,new _t(r))}{if(!(a instanceof Be||a instanceof go))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(me.fromString(e,...i));return $y(r),new Be(a.firestore,a instanceof go?a.converter:null,new _t(r))}}const B0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lv(this,"async_queue_retry"),this._c=()=>{const r=Zf();r&&ot(B0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qr(e))throw e;ot(B0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",P0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Yd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function P0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function H0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class po extends Wd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new k0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function p4(a,e){const i=typeof a=="object"?a:rT(),r=typeof a=="string"?a:fc,o=eT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=G2("firestore");h&&g4(o,...h)}return o}function tm(a){if(a._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||y4(a),a._firestoreClient}function y4(a){const e=a._freezeSettings(),i=(function(o,h,d,_){return new PT(o,h,d,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Cv(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new h4(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(We.fromBase64String(e))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(We.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yo(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Le("string",Gn._jsonSchemaVersion),bytes:Le("string")};class em{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dv{constructor(e){this._methodName=e}}class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(yo(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Le("string",Ci._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yo(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ni(e.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Le("string",Ni._jsonSchemaVersion),vectorValues:Le("object")};const _4=/^__.*__$/;class v4{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,i,this.fieldTransforms):new _o(e,this.data,i,this.fieldTransforms)}}function Mv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:a})}}class nm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mv(this.Ac)&&_4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class E4{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ic(e)}Cc(e,i,r,o=!1){return new nm({Ac:e,methodName:i,Dc:r,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T4(a){const e=a._freezeSettings(),i=Ic(a._databaseId);return new E4(a._databaseId,!!e.ignoreUndefinedProperties,i)}function b4(a,e,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);Ov("Data must be an object, but it was:",d,r);const _=Iv(r,d);let v,y;if(h.merge)v=new ni(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const w of h.mergeFields){const j=A4(e,w,i);if(!d.contains(j))throw new ft(J.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);x4(A,j)||A.push(j)}v=new ni(A),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new v4(new qn(_),v,y)}function Vv(a,e){if(Lv(a=ao(a)))return Ov("Unsupported field value:",e,a),Iv(a,e);if(a instanceof Dv)return(function(r,o){if(!Mv(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let v=Vv(_,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=ao(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=he.fromDate(r);return{timestampValue:_c(o.serializer,h)}}if(r instanceof he){const h=new he(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(o.serializer,h)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:K_(o.serializer,r._byteString)};if(r instanceof Be){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Bd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ni)return(function(d,_){return{mapValue:{fields:{[x_]:{stringValue:w_},[dc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw _.Sc("VectorValues must only contain numeric values.");return jd(_.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Dd(r)}`)})(a,e)}function Iv(a,e){const i={};return v_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(a,((r,o)=>{const h=Vv(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Lv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof he||a instanceof Ci||a instanceof Gn||a instanceof Be||a instanceof Dv||a instanceof Ni)}function Ov(a,e,i){if(!Lv(i)||!y_(i)){const r=Dd(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function A4(a,e,i){if((e=ao(e))instanceof em)return e._internalPath;if(typeof e=="string")return jv(a,e);throw bc("Field path arguments must be of type string or ",a,!1,void 0,i)}const S4=new RegExp("[~\\*/\\[\\]]");function jv(a,e,i){if(e.search(S4)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new em(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function bc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ft(J.INVALID_ARGUMENT,_+a+v)}function x4(a,e){return a.some((i=>i.isEqual(e)))}class zv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Uv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class w4 extends zv{data(){return super.data()}}function Uv(a,e){return typeof e=="string"?jv(a,e):e instanceof em?e._internalPath:e._delegate._internalPath}function R4(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C4{convertValue(e,i="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Va(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[dc].arrayValue?.values?.map((r=>xe(r.doubleValue)));return new Ni(i)}convertGeoPoint(e){return new Ci(xe(e.latitude),xe(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=qs(e);return new he(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=me.fromString(e);Kt(nv(r),9688,{name:e});const o=new co(r.get(1),r.get(3)),h=new _t(r.popFirst(5));return o.isEqual(i)||is(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function N4(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class $l{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends zv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Le("string",Na._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class sc extends Na{data(e={}){return super.data(e)}}class Lr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new sc(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const v=new sc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new $l(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new sc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new $l(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return _.type!==0&&(y=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),A=d.indexOf(_.doc.key)),{type:D4(_.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D4(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:a})}}function q0(a){a=Ps(a,Be);const e=Ps(a.firestore,po);return m4(tm(e),a._key).then((i=>kv(e,a,i)))}Lr._jsonSchemaVersion="firestore/querySnapshot/1.0",Lr._jsonSchema={type:Le("string",Lr._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class Bv extends C4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,i)}}function ac(a,e,i){a=Ps(a,Be);const r=Ps(a.firestore,po),o=N4(a.converter,e,i);return M4(r,[b4(T4(r),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,es.none())])}function G0(a,...e){a=ao(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||H0(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(H0(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,_;if(a instanceof Be)d=Ps(a.firestore,po),_=Rc(a._key.path),h={next:v=>{e[r]&&e[r](kv(d,a,v))},error:e[r+1],complete:e[r+2]};else{const v=Ps(a,jc);d=Ps(v.firestore,po),_=v._query;const y=new Bv(d);h={next:A=>{e[r]&&e[r](new Lr(d,y,v,A))},error:e[r+1],complete:e[r+2]},R4(a._query)}return(function(y,A,w,j){const Y=new wv(j),nt=new yv(A,Y,w);return y.asyncQueue.enqueueAndForget((async()=>gv(await Ed(y),nt))),()=>{Y.Nu(),y.asyncQueue.enqueueAndForget((async()=>pv(await Ed(y),nt)))}})(tm(d),_,o,h)}function M4(a,e){return(function(r,o){const h=new ks;return r.asyncQueue.enqueueAndForget((async()=>n4(await d4(r),o,h))),h.promise})(tm(a),e)}function kv(a,e,i){const r=i.docs.get(e._key),o=new Bv(a);return new Na(a,o,e._key,r,new $l(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){qr=o})(aT),cc(new ro("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new po(new TT(r.getProvider("auth-internal")),new ST(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(y.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),Vr(Yy,Xy,e),Vr(Yy,Xy,"esm2020")})();const V4={apiKey:"AIzaSyCOVszL-lrgbqR8qQFTwYL6lTRH2RcDO4Y",authDomain:"zabudova-sokil.firebaseapp.com",projectId:"zabudova-sokil",storageBucket:"zabudova-sokil.firebasestorage.app",messagingSenderId:"938144772496",appId:"1:938144772496:web:70acbbf28ccdf779708315",measurementId:"G-TGZTM8K6SZ"},I4=r_(V4),Mr=p4(I4);const L4=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O4=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Q0=a=>{const e=O4(a);return e.charAt(0).toUpperCase()+e.slice(1)},Pv=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),j4=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var z4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U4=pt.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,..._},v)=>pt.createElement("svg",{ref:v,...z4,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:Pv("lucide",o),...!h&&!j4(_)&&{"aria-hidden":"true"},..._},[...d.map(([y,A])=>pt.createElement(y,A)),...Array.isArray(h)?h:[h]]));const Te=(a,e)=>{const i=pt.forwardRef(({className:r,...o},h)=>pt.createElement(U4,{ref:h,iconNode:e,className:Pv(`lucide-${L4(Q0(a))}`,`lucide-${a}`,r),...o}));return i.displayName=Q0(a),i};const B4=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k4=Te("ban",B4);const P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],H4=Te("circle-check",P4);const q4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G4=Te("clock",q4);const Q4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hv=Te("copy",Q4);const Z4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],F4=Te("file-braces",Z4);const Y4=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],X4=Te("hammer",Y4);const K4=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],J4=Te("hard-hat",K4);const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Td=Te("info",$4);const W4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rc=Te("layers",W4);const tA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],eA=Te("log-in",tA);const nA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iA=Te("log-out",nA);const sA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Z0=Te("map-pin",sA);const aA=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],rA=Te("move",aA);const lA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wl=Te("plus",lA);const oA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uA=Te("search",oA);const cA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F0=Te("settings",cA);const hA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fA=Te("shield",hA);const dA=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Y0=Te("table-2",dA);const mA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bd=Te("trash-2",mA);const gA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pA=Te("triangle-alert",gA);const yA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_A=Te("upload",yA);const vA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ad=Te("x",vA),X0="/Sokil/assets/base-l3KZ_pfi.png",K0="/Sokil/assets/project-CT_Wzm9O.png",EA="bap_project_settings_v4_fixed",Yf="bap_admin_session_v4_fixed",J0="bap_eng_v1",qv=(a,e,i)=>Math.max(e,Math.min(i,a));function Xf(a,e){try{return JSON.parse(a)??e}catch{return e}}function TA(a,e){const i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=a,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r)}function Gv(a){const e=(a||"").toLowerCase();return["active",""," ","construction"," "].includes(e)?{label:a,icon:H4,cls:"bg-emerald-50 text-emerald-800 ring-emerald-200"}:["planned","",""].includes(e)?{label:a,icon:G4,cls:"bg-amber-50 text-amber-900 ring-amber-200"}:["blocked","","","hold",""].includes(e)?{label:a,icon:k4,cls:"bg-rose-50 text-rose-900 ring-rose-200"}:{label:a||"",icon:Td,cls:"bg-slate-50 text-slate-800 ring-slate-200"}}const Or={overviewTitle:"",overviewDesc:"   ",navigation:"",navDesc:"  ;   ",selectedZone:" ",selectZonePrompt:"      .",zones:"",inProject:"",active:"",searchPlaceholder:" ",filterOnlyProject:":  ",interactiveMapTitle:"",interactiveMapDesc:"",showContours:"",onlyProjectContours:" ",detailsButton:"",addZone:" ",tableEditor:"",paramTitle:" ",paramEmpty:" .",projectInfoTitle:"  ",noProject:"     .",adminLoginTitle:" ",adminLoginDesc:" .     .",adminPasswordLabel:"",cancel:"",login:"",export:"",import:"",logout:"",navigationHintPan:"  ",navigationHintZoom:"  "},Kf={projectName:"-",projectSubtitle:"  ",adminPassword:"admin999",strings:Or},Jf=Array.isArray(Iy)?Iy.map((a,e)=>({id:a.id,name:a.name??`Zone ${String(e+1).padStart(2,"0")}`,status:"",area:"",type:"",hasProject:!0,shape:"path",d:a.d,params:{},project:{title:"",description:"",metrics:{}}})):[],bA=Array.isArray(Oy)?Oy.map((a,e)=>({id:a.id,name:a.name??(a.kind==="line"?`Line ${a.id}`:`Zone ${a.id}`),status:"",area:"",type:"",hasProject:!0,shape:a.kind==="polygon"?"path":"line",d:a.d,dash:a.dash??null,params:{},project:{title:"",description:"",metrics:{}}})):[];function Ku({children:a,className:e=""}){return T.jsx("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm "+e,children:a})}function Qv(a,e=300){const i=pt.useRef(a);pt.useEffect(()=>{i.current=a},[a]);const r=pt.useRef(null);return pt.useMemo(()=>(...o)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>i.current(...o),e)},[e])}function ei({children:a,onClick:e,className:i="",disabled:r,title:o}){return T.jsx("button",{title:o,onClick:e,disabled:r,className:"px-3 py-2 rounded-xl border text-sm transition flex items-center gap-2 active:scale-[0.99] "+(r?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-white hover:bg-slate-50 border-slate-200 text-slate-800 hover:shadow-sm")+" "+i,children:a})}async function AA(a){const e=Dr(Mr,"settings","main");await ac(e,a,{merge:!0})}function $f({children:a,onClick:e,className:i="",disabled:r,title:o}){return T.jsx("button",{title:o,onClick:e,disabled:r,className:"px-3 py-2 rounded-xl text-sm transition flex items-center gap-2 border active:scale-[0.99] "+(r?"bg-amber-100/40 text-amber-300 border-amber-200 cursor-not-allowed":"bg-amber-500 text-white border-amber-500 hover:bg-amber-600 hover:shadow-sm")+" "+i,children:a})}function Ju({icon:a,text:e,className:i=""}){return T.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs "+i,children:[a?T.jsx(a,{className:"w-4 h-4"}):null,T.jsx("span",{children:e})]})}function $0({title:a,children:e,onClose:i,small:r=!1}){return T.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:i}),T.jsxs("div",{className:"relative w-full rounded-2xl border border-slate-200 bg-white shadow-lg p-5 "+(r?"max-w-md":"max-w-4xl"),children:[T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsx("div",{className:"text-lg font-semibold",children:a}),T.jsx("button",{onClick:i,className:"p-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition",children:T.jsx(Ad,{className:"w-4 h-4"})})]}),T.jsx("div",{className:"mt-4",children:e})]})]})}function ts({label:a,children:e,className:i=""}){return T.jsxs("div",{className:i,children:[T.jsx("div",{className:"text-xs text-slate-600 mb-1",children:a}),e]})}function $u({value:a,onChange:e}){return T.jsx("input",{type:"number",value:Number.isFinite(a)?a:0,onChange:i=>e(qv(parseFloat(i.target.value||"0"),0,100)),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200 text-xs",title:"0..100 (%)"})}function SA({selected:a,mapMode:e,createZone:i,duplicateZone:r,deleteZone:o,updateZone:h,updateZoneParam:d,deleteZoneParam:_,ensureProject:v,removeProject:y,updateProjectMetric:A,deleteProjectMetric:w}){const[j,Y]=pt.useState(""),[nt,it]=pt.useState(""),[$,vt]=pt.useState(""),[bt,dt]=pt.useState("");if(!a)return T.jsxs("div",{className:"text-sm text-slate-600",children:[" ,    .",T.jsx("div",{className:"mt-3 flex gap-2",children:T.jsxs("button",{onClick:()=>i(),className:"px-3 py-2 rounded-xl bg-amber-500 text-white border border-amber-500 hover:bg-amber-600 transition flex items-center gap-2",children:[T.jsx(Wl,{className:"w-4 h-4"})," "]})})]});const Ot=Gv(a.status),ee=Ot.icon;return T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsxs("div",{className:"col-span-12 md:col-span-5",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"font-semibold",children:[": ",a.id]}),T.jsxs("div",{className:`inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full ring-1 ${Ot.cls}`,children:[T.jsx(ee,{className:"w-4 h-4"})," ",Ot.label]})]}),T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx(ts,{label:"",className:"col-span-12",children:T.jsx("input",{value:a.name||"",onChange:st=>h(a.id,{name:st.target.value}),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(ts,{label:"",className:"col-span-6",children:T.jsx("input",{value:a.status||"",onChange:st=>h(a.id,{status:st.target.value}),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(ts,{label:"",className:"col-span-6",children:T.jsx("input",{value:a.area||"",onChange:st=>h(a.id,{area:st.target.value}),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(ts,{label:"",className:"col-span-12",children:T.jsx("input",{value:a.type||"",onChange:st=>h(a.id,{type:st.target.value}),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsxs("div",{className:"col-span-12 flex flex-wrap gap-2",children:[T.jsxs("button",{onClick:()=>h(a.id,{hasProject:!a.hasProject}),className:"px-3 py-2 rounded-xl border text-sm transition flex items-center gap-2 "+(a.hasProject?"bg-amber-500 text-white border-amber-500 hover:bg-amber-600":"bg-white border-slate-200 text-slate-800 hover:bg-slate-50"),title:"   ?",children:[T.jsx(rc,{className:"w-4 h-4"}),"  ?: ",a.hasProject?"":""]}),T.jsxs("button",{onClick:()=>r(a.id),className:"px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition text-sm flex items-center gap-2",children:[T.jsx(Hv,{className:"w-4 h-4"}),""]}),T.jsxs("button",{onClick:()=>o(a.id),className:"px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-sm text-rose-700 flex items-center gap-2",children:[T.jsx(bd,{className:"w-4 h-4"}),""]})]})]})]}),T.jsxs("div",{className:"col-span-12 md:col-span-7",children:[T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[T.jsx("div",{className:"flex items-center justify-between",children:T.jsx("div",{className:"font-semibold text-sm",children:" ( )"})}),T.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(a.params||{}).map(([st,R])=>T.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[T.jsx("div",{className:"col-span-5 text-xs text-slate-600 border border-slate-200 bg-slate-50 rounded-xl px-3 py-2 break-all",children:st}),T.jsx("input",{value:String(R),onChange:S=>d(a.id,st,S.target.value),className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200 break-all"}),T.jsx("button",{onClick:()=>_(a.id,st),className:"col-span-1 px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-rose-700",title:"",children:T.jsx(Ad,{className:"w-4 h-4"})})]},st))}),T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx("input",{value:j,onChange:st=>Y(st.target.value),placeholder:"",className:"col-span-5 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("input",{value:nt,onChange:st=>it(st.target.value),placeholder:"",className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("button",{onClick:()=>{const st=j.trim();st&&(d(a.id,st,nt),Y(""),it(""))},className:"col-span-1 px-3 py-2 rounded-xl bg-amber-500 text-white border border-amber-500 hover:bg-amber-600 transition",title:" ",children:T.jsx(Wl,{className:"w-4 h-4"})})]})]}),T.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-white p-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"font-semibold text-sm",children:" "}),T.jsx("div",{className:"flex gap-2",children:a.project?T.jsxs("button",{onClick:()=>y(a.id),className:"px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-sm text-rose-700 flex items-center gap-2",children:[T.jsx(bd,{className:"w-4 h-4"})," "]}):T.jsxs("button",{onClick:()=>v(a.id),className:"px-3 py-2 rounded-xl bg-amber-500 text-white border border-amber-500 hover:bg-amber-600 transition text-sm flex items-center gap-2",children:[T.jsx(Wl,{className:"w-4 h-4"})," "]})})]}),a.project?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx(ts,{label:" ",className:"col-span-12 md:col-span-6",children:T.jsx("input",{value:a.project.title||"",onChange:st=>h(a.id,{project:{...a.project,title:st.target.value}}),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(ts,{label:" ",className:"col-span-12 md:col-span-6",children:T.jsx("input",{value:a.project.description||"",onChange:st=>h(a.id,{project:{...a.project,description:st.target.value}}),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})})]}),T.jsx("div",{className:"mt-3 text-sm font-semibold",children:""}),T.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(a.project.metrics||{}).map(([st,R])=>T.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[T.jsx("div",{className:"col-span-5 text-xs text-slate-600 border border-slate-200 bg-slate-50 rounded-xl px-3 py-2 break-all",children:st}),T.jsx("input",{value:String(R),onChange:S=>A(a.id,st,S.target.value),className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200 break-all"}),T.jsx("button",{onClick:()=>w(a.id,st),className:"col-span-1 px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-rose-700",title:"",children:T.jsx(Ad,{className:"w-4 h-4"})})]},st))}),T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx("input",{value:$,onChange:st=>vt(st.target.value),placeholder:"",className:"col-span-5 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("input",{value:bt,onChange:st=>dt(st.target.value),placeholder:"",className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("button",{onClick:()=>{const st=$.trim();st&&(A(a.id,st,bt),vt(""),dt(""))},className:"col-span-1 px-3 py-2 rounded-xl bg-amber-500 text-white border border-amber-500 hover:bg-amber-600 transition",title:" ",children:T.jsx(Wl,{className:"w-4 h-4"})})]})]}):T.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["  .        ",T.jsx("b",{children:""}),"."]})]})]})]})}function xA({zones:a,setSelectedId:e,updateZone:i,deleteZone:r,duplicateZone:o}){return T.jsxs("div",{className:"overflow-auto",children:[T.jsx("div",{className:"text-sm text-slate-600 mb-2",children:" :  , rect (% )  hasProject."}),T.jsxs("div",{className:"min-w-[1000px] rounded-xl border border-slate-200 bg-white overflow-hidden",children:[T.jsxs("div",{className:"grid grid-cols-12 bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-700",children:[T.jsx("div",{className:"col-span-1 px-3 py-2",children:"ID"}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-1 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:"rect (x y w h) %"}),T.jsx("div",{className:"col-span-1 px-3 py-2 text-right",children:""})]}),a.map(h=>T.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-100 text-sm",children:[T.jsx("button",{className:"col-span-1 px-3 py-2 text-left font-semibold text-slate-900 hover:underline",onClick:()=>e(h.id),title:" ",children:h.id}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:T.jsx("input",{value:h.name||"",onChange:d=>i(h.id,{name:d.target.value}),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:T.jsx("input",{value:h.status||"",onChange:d=>i(h.id,{status:d.target.value}),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:T.jsx("input",{value:h.type||"",onChange:d=>i(h.id,{type:d.target.value}),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx("div",{className:"col-span-1 px-3 py-2 flex items-center",children:T.jsx("input",{type:"checkbox",checked:!!h.hasProject,onChange:d=>i(h.id,{hasProject:d.target.checked}),className:"w-4 h-4 accent-amber-500"})}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:h.shape==="rect"&&h.rect?T.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[T.jsx($u,{value:h.rect.x??0,onChange:d=>i(h.id,{rect:{...h.rect,x:d},shape:"rect"})}),T.jsx($u,{value:h.rect.y??0,onChange:d=>i(h.id,{rect:{...h.rect,y:d},shape:"rect"})}),T.jsx($u,{value:h.rect.w??0,onChange:d=>i(h.id,{rect:{...h.rect,w:d},shape:"rect"})}),T.jsx($u,{value:h.rect.h??0,onChange:d=>i(h.id,{rect:{...h.rect,h:d},shape:"rect"})})]}):T.jsx("div",{className:"text-xs text-slate-400",children:""})}),T.jsxs("div",{className:"col-span-1 px-3 py-2 flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>o(h.id),className:"p-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 transition",title:"",children:T.jsx(Hv,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>r(h.id),className:"p-2 rounded-lg border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-rose-700",title:"",children:T.jsx(bd,{className:"w-4 h-4"})})]})]},h.id))]})]})}function wA({settings:a,setSettings:e,resetData:i,isAdmin:r}){const[o,h]=pt.useState(()=>a);pt.useEffect(()=>{h(a)},[a]);const d=Qv(y=>{e(y)},300),_=(y,A)=>{h(w=>{const j={...w,[y]:A};return d(j),j})},v=(y,A)=>{h(w=>{const j={...w,strings:{...Or,...w.strings||{},[y]:A}};return d(j),j})};return T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsx("div",{className:"col-span-12 md:col-span-7",children:T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[T.jsx("div",{className:"font-semibold",children:" "}),T.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"   ."}),T.jsxs("div",{className:"mt-4 grid grid-cols-12 gap-2",children:[T.jsx(ts,{label:" ",className:"col-span-12",children:T.jsx("input",{value:o.projectName||"",onChange:y=>_("projectName",y.target.value),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(ts,{label:"",className:"col-span-12",children:T.jsx("input",{value:o.projectSubtitle||"",onChange:y=>_("projectSubtitle",y.target.value),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(ts,{label:" ",className:"col-span-12 md:col-span-6",children:T.jsx("input",{value:o.adminPassword||"",onChange:y=>_("adminPassword",y.target.value),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})})]})]})}),T.jsx("div",{className:"col-span-12 md:col-span-5",children:T.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-4",children:[T.jsx("div",{className:"font-semibold text-rose-800",children:" "}),T.jsx("div",{className:"text-xs text-rose-700 mt-1",children:"   .       ."}),T.jsxs("button",{onClick:i,className:"mt-4 px-3 py-2 rounded-xl border border-rose-200 bg-white hover:bg-rose-100 transition text-rose-800 flex items-center gap-2",children:[T.jsx(pA,{className:"w-4 h-4"})," "]})]})}),T.jsx("div",{className:"col-span-12",children:T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 mt-4",children:[T.jsx("div",{className:"font-semibold",children:" "}),T.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"   .      ."}),T.jsx("div",{className:"mt-3 grid grid-cols-12 gap-2",children:Object.keys(Or).map(y=>T.jsxs(w2.Fragment,{children:[T.jsx("div",{className:"col-span-3 text-xs text-slate-600 flex items-center",children:y}),T.jsx("input",{className:"col-span-9 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200",value:(o.strings||{})[y]??"",onChange:A=>v(y,A.target.value)})]},y))})]})})]})}function RA(){const[a,e]=pt.useState([]),[i,r]=pt.useState(()=>{const k=Xf(localStorage.getItem(EA),null);return k?{...Kf,...k,strings:{...Or,...k.strings||{}}}:Kf}),[o,h]=pt.useState(!1);pt.useEffect(()=>{(async()=>{const k=Dr(Mr,"zones","main");(await q0(k)).exists()||await ac(k,{items:Jf})})()},[]),pt.useEffect(()=>{(async()=>{const k=Dr(Mr,"settings","main");(await q0(k)).exists()||await ac(k,Kf)})()},[]);const d=pt.useRef(!1),_=pt.useRef(!1),v=pt.useRef(!1),y=pt.useRef(!1),A=Qv(k=>{w(k).catch(console.error)},300);pt.useEffect(()=>{o&&A(a)},[a,o,A]),pt.useEffect(()=>{const k=Dr(Mr,"settings","main"),at=G0(k,lt=>{lt.exists()&&(d.current=!0,r(ct=>({...ct,...lt.data(),strings:{...Or,...lt.data().strings||{}}})),_.current=!0,queueMicrotask(()=>{d.current=!1}))});return()=>at()},[]),pt.useEffect(()=>{o&&_.current&&(d.current||AA(i).catch(console.error))},[o,i]);async function w(k,at=!1){if(!at&&!o)return;const lt=Dr(Mr,"zones","main");await ac(lt,{items:k},{merge:!0})}pt.useEffect(()=>{const k=Dr(Mr,"zones","main"),at=G0(k,lt=>{if(!lt.exists())return;const ct=lt.data();Array.isArray(ct.items)&&(v.current=!0,e(ct.items),y.current=!0,queueMicrotask(()=>{v.current=!1}))});return()=>at()},[]);const[j,Y]=pt.useState(!1);pt.useEffect(()=>{let k=0;const at=new Image,lt=new Image,ct=new Image,At=()=>{k++,k===3&&Y(!0)};at.onload=At,lt.onload=At,ct.onload=At,at.onerror=At,lt.onerror=At,ct.onerror=At,at.src=X0,lt.src=K0,ct.src=Ly},[]);const[nt,it]=pt.useState(!1),[$,vt]=pt.useState(""),[bt,dt]=pt.useState("details");pt.useEffect(()=>{Xf(localStorage.getItem(Yf),null)?.isAdmin&&h(!0)},[]);const[Ot,ee]=pt.useState(()=>{const k=Xf(localStorage.getItem(J0),null);return Array.isArray(k)?k:bA});pt.useEffect(()=>{localStorage.setItem(J0,JSON.stringify(Ot))},[Ot]);const[st,R]=pt.useState(null),[S,N]=pt.useState(""),[I,V]=pt.useState(!1),[O,x]=pt.useState(!1),[Vt,pe]=pt.useState("base"),G=Vt==="eng"?{w:1151,h:766}:{w:1280,h:844},[tt,yt]=pt.useState(!0),[kt,Yt]=pt.useState(!0),M=pt.useRef(null),F=pt.useRef(null),[et,rt]=pt.useState(1),[Et,Ct]=pt.useState({x:0,y:0}),mt=pt.useRef({dragging:!1,pid:null,sx:0,sy:0,px:0,py:0,moved:!1}),[oe,Jt]=pt.useState({id:null,x:0,y:0}),ii=pt.useRef(null),_n=Vt==="eng"?Ot:a,ne=pt.useMemo(()=>_n.find(k=>k.id===st)||null,[_n,st]),Vi=pt.useMemo(()=>{const k=S.trim().toLowerCase();let at=_n;return k?at.filter(lt=>`${lt.id} ${lt.name} ${lt.status} ${lt.type} ${lt.area}`.toLowerCase().includes(k)):at},[_n,S,I,o,Vt]),ln=pt.useMemo(()=>{const k=a.length,at=a.filter(ct=>ct.hasProject).length,lt=a.filter(ct=>["active",""," ","construction"," "].includes((ct.status||"").toLowerCase())).length;return{total:k,withProject:at,active:lt}},[a]);function Ys(k){k.preventDefault(),k.stopPropagation();const lt=-k.deltaY>0?1.08:.92;rt(ct=>qv(ct*lt,.6,3.5))}function Ii(k){if(k.button!==0)return;if(k.target?.closest?.("[data-zoneid]")){mt.current.moved=!1;return}const lt=M.current;if(lt){mt.current.dragging=!0,mt.current.pid=k.pointerId,mt.current.sx=k.clientX,mt.current.sy=k.clientY,mt.current.px=Et.x,mt.current.py=Et.y,mt.current.moved=!1;try{lt.setPointerCapture(k.pointerId)}catch{}}}function Xs(k){const at=M.current?.getBoundingClientRect();if(!at||(Jt(At=>({...At,x:k.clientX-at.left,y:k.clientY-at.top})),!mt.current.dragging)||mt.current.pid!==k.pointerId)return;const lt=k.clientX-mt.current.sx,ct=k.clientY-mt.current.sy;(Math.abs(lt)>2||Math.abs(ct)>2)&&(mt.current.moved=!0),Ct({x:mt.current.px+lt,y:mt.current.py+ct})}function Ks(k){mt.current.pid===k.pointerId&&(mt.current.dragging=!1,mt.current.pid=null)}function ye(){mt.current.dragging=!1,mt.current.pid=null,Jt({id:null,x:0,y:0})}function _e(){$===i.adminPassword?(h(!0),localStorage.setItem(Yf,JSON.stringify({isAdmin:!0,at:Date.now()})),it(!1),vt("")):alert("  .")}function si(){h(!1),localStorage.removeItem(Yf),dt("details")}function ja(k,at){e(lt=>lt.map(ct=>ct.id===k?{...ct,...at}:ct))}function Js(){let k=1,at=`ZNEW${k}`;const lt=new Set(a.map(At=>At.id));for(;lt.has(at);)k+=1,at=`ZNEW${k}`;const ct={id:at,name:`  ${at}`,status:"planned",area:"",type:"",hasProject:!0,shape:"path",d:"",params:{},project:{title:"",description:"",metrics:{}}};return e(At=>[...At,ct]),R(at),x(!0),at}function Pe(k){const at=a.find(Xt=>Xt.id===k);if(!at)return;let lt=1,ct=`${at.id}_copy${lt}`;const At=new Set(a.map(Xt=>Xt.id));for(;At.has(ct);)lt+=1,ct=`${at.id}_copy${lt}`;const je={...at,id:ct,name:`${at.name} (copy)`};e(Xt=>[...Xt,je]),R(ct)}function ai(k){confirm(`  ${k}?`)&&(e(at=>at.filter(lt=>lt.id!==k)),st===k&&(R(null),x(!1)))}function $s(k,at,lt){e(ct=>ct.map(At=>{if(At.id!==k)return At;const je={...At.params||{},[at]:lt};return{...At,params:je}}))}function Ws(k,at){e(lt=>lt.map(ct=>{if(ct.id!==k)return ct;const At={...ct.params||{}};return delete At[at],{...ct,params:At}}))}function ri(k){e(at=>at.map(lt=>lt.id!==k||lt.project?lt:{...lt,project:{title:"",description:"",metrics:{}}}))}function Fr(k){e(at=>at.map(lt=>lt.id===k?{...lt,project:null}:lt))}function za(k,at,lt){e(ct=>ct.map(At=>{if(At.id!==k)return At;const je=At.project||{title:"",description:"",metrics:{}},Xt={...je.metrics||{},[at]:lt};return{...At,project:{...je,metrics:Xt}}}))}function Ua(k,at){e(lt=>lt.map(ct=>{if(ct.id!==k)return ct;const At=ct.project||{title:"",description:"",metrics:{}},je={...At.metrics||{}};return delete je[at],{...ct,project:{...At,metrics:je}}}))}function Ba(){TA("build-area.export.json",{settings:i,zones:a})}function vn(){ii.current?.click()}async function Oe(k){const at=k.target.files?.[0];if(k.target.value="",!!at)try{const lt=await at.text(),ct=JSON.parse(lt);if(Array.isArray(ct)){e(ct),alert("  .");return}if(ct&&Array.isArray(ct.zones)){ct.settings&&r(At=>({...At,...ct.settings,strings:{...Or,...ct.settings.strings||{}}})),e(ct.zones),alert(" (settings+zones) .");return}throw new Error("  JSON")}catch(lt){alert(" : "+(lt?.message||""))}}function on(){confirm("   ?    .")&&(e(Jf),w(Jf,!0),R(null),x(!1))}return T.jsxs(T.Fragment,{children:[T.jsx("style",{children:`
        @keyframes orangeGradient {
          0%   { background-position: 0% 50%; }
          50%  { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `}),T.jsxs("div",{className:"min-h-screen text-slate-900",style:{background:"linear-gradient(-45deg, #7a3b1c, #9a4a1f, #c1652a, #e38a3f)",backgroundSize:"400% 400%",animation:"orangeGradient 18s ease infinite",fontFamily:"'Montserrat', sans-serif"},children:[T.jsx("div",{className:"sticky top-0 z-40 border-b bg-white/90 backdrop-blur",children:T.jsxs("div",{className:"px-5 py-4 flex items-center justify-between gap-3",children:[T.jsxs("div",{className:"flex items-center gap-3 min-w-[260px]",children:[T.jsx("div",{className:"w-11 h-11 rounded-2xl bg-slate-900 text-white grid place-items-center shadow-sm",children:T.jsx(J4,{className:"w-5 h-5"})}),T.jsxs("div",{className:"leading-tight",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"font-semibold tracking-tight",style:{fontFamily:"'Oswald', sans-serif"},children:i.projectName}),T.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-slate-100 border border-slate-200 text-slate-700",children:"SOKIL"})]}),T.jsx("div",{className:"text-xs text-slate-600",children:i.projectSubtitle})]})]}),T.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[T.jsxs("div",{className:"flex items-center rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm",children:[T.jsx(uA,{className:"w-4 h-4 text-slate-500 ml-3"}),T.jsx("input",{value:S,onChange:k=>N(k.target.value),placeholder:i.strings.searchPlaceholder,className:"bg-transparent outline-none text-sm placeholder:text-slate-400 w-[220px] px-3 py-2"})]}),T.jsxs(ei,{onClick:()=>pe(k=>k==="base"?"project":k==="project"?"eng":"base"),title:" ",className:Vt!=="base"?"bg-amber-50 border-amber-200":"",children:[T.jsx(rc,{className:"w-4 h-4"}),Vt==="base"?"  ":Vt==="project"?"  ":" . "]}),o?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(ei,{onClick:Ba,title:"  (settings + zones)",children:[T.jsx(F4,{className:"w-4 h-4"}),i.strings.export]}),T.jsxs(ei,{onClick:vn,title:" JSON",children:[T.jsx(_A,{className:"w-4 h-4"}),i.strings.import]}),T.jsxs(ei,{onClick:si,title:"",className:"text-rose-700 border-rose-200 bg-rose-50 hover:bg-rose-100",children:[T.jsx(iA,{className:"w-4 h-4"}),i.strings.logout]})]}):T.jsxs($f,{onClick:()=>it(!0),title:"  ",children:[T.jsx(fA,{className:"w-4 h-4"}),""]}),T.jsx("input",{ref:ii,type:"file",accept:"application/json",onChange:Oe,className:"hidden"})]})]})}),T.jsx("div",{className:"md:hidden px-5 pt-3",children:T.jsxs(ei,{onClick:()=>pe(k=>k==="base"?"project":k==="project"?"eng":"base"),className:"w-full justify-center bg-amber-50 border-amber-200",children:[T.jsx(rc,{className:"w-4 h-4"}),Vt==="base"?"  ":Vt==="project"?"  ":" "]})}),T.jsx("div",{className:"px-5 py-5",children:T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsxs("div",{className:"col-span-12 lg:col-span-3",children:[T.jsxs(Ku,{className:"p-4",children:[T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.overviewTitle}),T.jsx("div",{className:"text-xs text-slate-600 mt-1 whitespace-pre-line",children:i.strings.overviewDesc})]}),T.jsx(Ju,{icon:Z0,text:`: ${et.toFixed(2)}x`,className:"bg-slate-50 border-slate-200 text-slate-700"})]}),T.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.zones}),T.jsx("div",{className:"text-xl font-semibold",children:ln.total})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.inProject}),T.jsx("div",{className:"text-xl font-semibold",children:ln.withProject})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.active}),T.jsx("div",{className:"text-xl font-semibold",children:ln.active})]})]}),T.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-white p-3",children:[T.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[T.jsx(rA,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium",children:i.strings.navigation})]}),T.jsx("div",{className:"mt-2 text-xs text-slate-600 leading-relaxed whitespace-pre-line",children:i.strings.navDesc})]}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.selectedZone}),T.jsxs(ei,{onClick:()=>ne&&x(!0),disabled:!ne||!1,title:" ",children:[T.jsx(Td,{className:"w-4 h-4"}),i.strings.detailsButton]})]}),ne?T.jsxs("div",{className:"mt-2 rounded-xl border border-slate-200 bg-white p-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"font-semibold",children:ne.name}),T.jsx("span",{className:"text-xs px-2 py-1 rounded-full border border-slate-200 bg-slate-50 text-slate-700",children:ne.id})]}),T.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[(()=>{const k=Gv(ne.status),at=k.icon;return T.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full ring-1 ${k.cls}`,children:[T.jsx(at,{className:"w-4 h-4"})," ",k.label]})})(),T.jsx(Ju,{icon:Z0,text:ne.area||"",className:"bg-slate-50 border-slate-200 text-slate-700"}),T.jsx(Ju,{icon:X4,text:ne.type||"",className:"bg-slate-50 border-slate-200 text-slate-700"}),T.jsx(Ju,{icon:rc,text:ne.hasProject?"":"",className:ne.hasProject?"bg-amber-50 border-amber-200 text-amber-900":"bg-slate-50 border-slate-200 text-slate-700"})]})]}):T.jsx("div",{className:"mt-2 text-sm text-slate-600",children:i.strings.selectZonePrompt})]})]}),T.jsx("div",{className:"mt-4",children:T.jsxs(Ku,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.zones}),T.jsx("span",{className:"text-xs text-slate-600",children:Vi.length})]}),T.jsx("div",{className:"mt-2 max-h-[360px] overflow-auto pr-1",children:Vi.map(k=>{const at=st===k.id;return T.jsxs("button",{onClick:()=>{R(k.id),x(!0)},className:"w-full text-left px-3 py-2 rounded-xl transition mb-1 border "+(at?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-200 hover:bg-slate-50"),children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"font-medium",children:[k.id,"  ",k.name]}),T.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full border "+(k.hasProject?"bg-amber-50 border-amber-200 text-amber-900":"bg-slate-50 border-slate-200 text-slate-600"),children:k.hasProject?"":""})]}),T.jsxs("div",{className:"mt-1 text-xs "+(at?"text-white/70":"text-slate-600"),children:[k.type||""," ",T.jsx("span",{className:"opacity-50",children:""})," ",k.status||""]})]},k.id)})}),o?T.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[T.jsxs($f,{onClick:()=>Js(),title:"  ",children:[T.jsx(Wl,{className:"w-4 h-4"}),i.strings.addZone]}),T.jsxs(ei,{onClick:()=>dt("table"),title:" ",children:[T.jsx(Y0,{className:"w-4 h-4"}),i.strings.tableEditor]})]}):null]})})]}),T.jsxs("div",{className:"col-span-12 lg:col-span-9",children:[T.jsxs(Ku,{className:"p-3",children:[T.jsx("div",{className:"flex items-center justify-between px-2 pb-3",children:T.jsxs("div",{children:[T.jsx("div",{className:"font-semibold",children:i.strings.interactiveMapTitle}),T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.interactiveMapDesc})]})}),T.jsxs("div",{ref:M,onWheel:Ys,onPointerDown:Ii,onPointerMove:Xs,onPointerUp:Ks,onPointerLeave:ye,className:"relative w-full overflow-hidden rounded-2xl border border-slate-200 bg-white select-none cursor-grab",style:{touchAction:"none",aspectRatio:Vt==="eng"?"1151/766":"1280/844"},children:[T.jsxs("div",{className:"absolute inset-0",style:{transform:`translate(${Et.x}px, ${Et.y}px) scale(${et})`,transformOrigin:"50% 50%",willChange:"transform"},children:[!j&&T.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center",children:T.jsx("div",{className:"rounded-2xl bg-white/90 border border-slate-200 px-4 py-2 text-sm text-slate-700 shadow-sm",children:" "})}),T.jsxs("svg",{ref:F,className:"absolute inset-0",viewBox:`0 0 ${G.w} ${G.h}`,preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"100%"},children:[Vt==="base"?T.jsx("image",{href:X0,x:"0",y:"0",width:G.w,height:G.h,preserveAspectRatio:"xMidYMid meet",style:{pointerEvents:"none"}}):Vt==="project"?T.jsx("image",{href:K0,x:"0",y:"0",width:G.w,height:G.h,preserveAspectRatio:"xMidYMid meet",style:{pointerEvents:"none"}}):T.jsx("image",{href:Ly,x:"0",y:"0",width:G.w,height:G.h,preserveAspectRatio:"xMidYMid meet",style:{pointerEvents:"none"}}),_n.map(k=>{if(kt&&!k.hasProject&&!o)return null;const at=k.shape==="line";if(!(k.shape==="path")&&!at||!k.d)return null;const ct=st===k.id,At=oe.id===k.id,je=ct?2.4:At?1.8:1.15,Xt=ct?"rgba(255,255,255,0.95)":At?"rgba(255,255,255,0.85)":"rgba(255,255,255,0.55)",Dn=ct?"rgba(255,255,255,0.14)":At?"rgba(255,255,255,0.20)":"rgba(255,255,255,0.06)";return T.jsxs("g",{children:[(()=>{const un=k.shape==="line",En=un?18:1;return T.jsx("path",{"data-zoneid":k.id,d:k.d,fill:un?"none":"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",strokeWidth:En,pointerEvents:tt?un?"stroke":"all":"none",onMouseEnter:()=>Jt(Li=>({...Li,id:k.id})),onMouseLeave:()=>Jt(Li=>Li.id===k.id?{...Li,id:null}:Li),onClick:()=>{mt.current.moved||(R(k.id),x(!0))}})})(),T.jsx("path",{d:k.d,fill:k.shape==="line"?"none":Dn,stroke:Xt,strokeWidth:k.shape==="line"?ct?3.2:At?2.6:2:je,strokeDasharray:k.dash?k.dash:void 0,vectorEffect:"non-scaling-stroke",style:{pointerEvents:"none",strokeOpacity:tt?1:0,fillOpacity:tt?1:0,transition:"fill 0.15s ease, stroke 0.15s ease, stroke-width 0.15s ease",filter:At||ct?"drop-shadow(0 0 10px rgba(255,255,255,0.22))":"none"}})]},k.id)})]})]}),oe.id?T.jsx("div",{className:"absolute z-30 pointer-events-none",style:{left:oe.x+12,top:oe.y+12},children:(()=>{const k=_n.find(at=>at.id===oe.id);return k?T.jsxs("div",{className:"rounded-2xl bg-white border border-slate-200 px-3 py-2 shadow-md",children:[T.jsx("div",{className:"text-sm font-semibold text-slate-900",children:k.name}),T.jsxs("div",{className:"mt-1 text-xs text-slate-600 flex items-center gap-2",children:[T.jsx("span",{children:k.type||""}),T.jsx("span",{className:"opacity-50",children:""}),T.jsx("span",{children:k.status||""}),T.jsx("span",{className:"opacity-50",children:""}),T.jsx("span",{children:k.hasProject?"":""})]})]}):null})()}):null,T.jsxs("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-2 pointer-events-none",children:[T.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-white border border-slate-200 text-slate-700 shadow-sm",children:i.strings.navigationHintPan}),T.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-white border border-slate-200 text-slate-700 shadow-sm",children:i.strings.navigationHintZoom}),Vt==="base"?T.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-amber-50 border border-amber-200 text-amber-900 shadow-sm",children:""}):null]})]})]}),o?T.jsx("div",{className:"mt-4",children:T.jsxs(Ku,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center justify-between gap-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(F0,{className:"w-5 h-5 text-slate-700"}),T.jsxs("div",{children:[T.jsx("div",{className:"font-semibold",children:"-"}),T.jsx("div",{className:"text-xs text-slate-600",children:"   ."})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(ei,{onClick:()=>dt("details"),className:bt==="details"?"bg-slate-50":"",children:[T.jsx(Td,{className:"w-4 h-4"}),""]}),T.jsxs(ei,{onClick:()=>dt("table"),className:bt==="table"?"bg-slate-50":"",children:[T.jsx(Y0,{className:"w-4 h-4"}),""]}),T.jsxs(ei,{onClick:()=>dt("settings"),className:bt==="settings"?"bg-slate-50":"",children:[T.jsx(F0,{className:"w-4 h-4"}),""]})]})]}),T.jsxs("div",{className:"mt-4",children:[bt==="details"?T.jsx(SA,{selected:ne,mapMode:Vt,createZone:Js,duplicateZone:Pe,deleteZone:ai,updateZone:ja,updateZoneParam:$s,deleteZoneParam:Ws,ensureProject:ri,removeProject:Fr,updateProjectMetric:za,deleteProjectMetric:Ua}):null,bt==="table"?T.jsx(xA,{zones:a,setSelectedId:R,updateZone:ja,deleteZone:ai,duplicateZone:Pe}):null,bt==="settings"?T.jsx(wA,{settings:i,setSettings:r,resetData:on,isAdmin:o}):null]})]})}):null]})]})}),O&&ne?T.jsx($0,{onClose:()=>x(!1),title:`${ne.id}  ${ne.name}`,children:T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsxs("div",{className:"col-span-12 md:col-span-5",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.paramTitle}),T.jsx("div",{className:"mt-2 rounded-xl border border-slate-200 bg-slate-50 p-3",children:ne.params&&Object.keys(ne.params).length?T.jsx("div",{className:"space-y-2",children:Object.entries(ne.params).map(([k,at])=>T.jsxs("div",{className:"flex items-center justify-between gap-3",children:[T.jsx("div",{className:"text-xs text-slate-600 break-all",children:k}),T.jsx("div",{className:"text-sm text-slate-900 text-right break-all",children:String(at)})]},k))}):T.jsx("div",{className:"text-sm text-slate-600",children:i.strings.paramEmpty})})]}),T.jsxs("div",{className:"col-span-12 md:col-span-7",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.projectInfoTitle}),T.jsx("div",{className:"mt-2 rounded-xl border border-slate-200 bg-white p-3",children:ne.project?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-base font-semibold",children:ne.project.title||""}),T.jsx("div",{className:"mt-1 text-sm text-slate-600 leading-relaxed",children:ne.project.description||""}),T.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:Object.entries(ne.project.metrics||{}).map(([k,at])=>T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600 break-all",children:k}),T.jsx("div",{className:"text-sm font-semibold mt-1",children:String(at)})]},k))})]}):T.jsx("div",{className:"text-sm text-slate-600",children:i.strings.noProject})})]})]})}):null,nt?T.jsxs($0,{onClose:()=>it(!1),title:i.strings.adminLoginTitle,small:!0,children:[T.jsx("div",{className:"text-sm text-slate-600",children:i.strings.adminLoginDesc}),T.jsxs("div",{className:"mt-4",children:[T.jsx("label",{className:"text-xs text-slate-600",children:i.strings.adminPasswordLabel}),T.jsx("input",{type:"password",value:$,onChange:k=>vt(k.target.value),onKeyDown:k=>k.key==="Enter"&&_e(),className:"mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200",placeholder:""})]}),T.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[T.jsx(ei,{onClick:()=>it(!1),children:i.strings.cancel}),T.jsxs($f,{onClick:_e,title:"",children:[T.jsx(eA,{className:"w-4 h-4"}),i.strings.login]})]})]}):null]})]})}I2.createRoot(document.getElementById("root")).render(T.jsx(pt.StrictMode,{children:T.jsx(RA,{})}));

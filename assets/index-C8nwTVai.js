(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function x2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zf={exports:{}},Yl={};var wy;function w2(){if(wy)return Yl;wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:f}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var Ry;function R2(){return Ry||(Ry=1,zf.exports=w2()),zf.exports}var T=R2(),Uf={exports:{}},St={};var Cy;function C2(){if(Cy)return St;Cy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,tt={};function vt(I,Y,nt){this.props=I,this.context=Y,this.refs=tt,this.updater=nt||$}vt.prototype.isReactComponent={},vt.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},vt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Tt(){}Tt.prototype=vt.prototype;function gt(I,Y,nt){this.props=I,this.context=Y,this.refs=tt,this.updater=nt||$}var Bt=gt.prototype=new Tt;Bt.constructor=gt,st(Bt,vt.prototype),Bt.isPureReactComponent=!0;var Ft=Array.isArray;function At(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(I,Y,nt){var rt=nt.ref;return{$$typeof:r,type:I,key:Y,ref:rt!==void 0?rt:null,props:nt}}function M(I,Y){return x(I.type,Y,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function j(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function re(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):Y.toString(36)}function we(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(At,At):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Q(I,Y,nt,rt,_t){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var Dt=!1;if(I===null)Dt=!0;else switch(wt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(I.$$typeof){case r:case e:Dt=!0;break;case S:return Dt=I._init,Q(Dt(I._payload),Y,nt,rt,_t)}}if(Dt)return _t=_t(I),Dt=rt===""?"."+re(I,0):rt,Ft(_t)?(nt="",Dt!=null&&(nt=Dt.replace(R,"$&/")+"/"),Q(_t,Y,nt,"",function(Vi){return Vi})):_t!=null&&(D(_t)&&(_t=M(_t,nt+(_t.key==null||I&&I.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Dt)),Y.push(_t)),1;Dt=0;var Ee=rt===""?".":rt+":";if(Ft(I))for(var Xt=0;Xt<I.length;Xt++)rt=I[Xt],wt=Ee+re(rt,Xt),Dt+=Q(rt,Y,nt,wt,_t);else if(Xt=G(I),typeof Xt=="function")for(I=Xt.call(I),Xt=0;!(rt=I.next()).done;)rt=rt.value,wt=Ee+re(rt,Xt++),Dt+=Q(rt,Y,nt,wt,_t);else if(wt==="object"){if(typeof I.then=="function")return Q(we(I),Y,nt,rt,_t);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function W(I,Y,nt){if(I==null)return I;var rt=[],_t=0;return Q(I,rt,"","",function(wt){return Y.call(nt,wt,_t++)}),rt}function at(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var It=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},kt={map:W,forEach:function(I,Y,nt){W(I,function(){Y.apply(this,arguments)},nt)},count:function(I){var Y=0;return W(I,function(){Y++}),Y},toArray:function(I){return W(I,function(Y){return Y})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return St.Activity=w,St.Children=kt,St.Component=vt,St.Fragment=i,St.Profiler=o,St.PureComponent=gt,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(I,Y,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var rt=st({},I.props),_t=I.key;if(Y!=null)for(wt in Y.key!==void 0&&(_t=""+Y.key),Y)!A.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(rt[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)rt.children=nt;else if(1<wt){for(var Dt=Array(wt),Ee=0;Ee<wt;Ee++)Dt[Ee]=arguments[Ee+2];rt.children=Dt}return x(I.type,_t,rt)},St.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:f,_context:I},I},St.createElement=function(I,Y,nt){var rt,_t={},wt=null;if(Y!=null)for(rt in Y.key!==void 0&&(wt=""+Y.key),Y)A.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var Dt=arguments.length-2;if(Dt===1)_t.children=nt;else if(1<Dt){for(var Ee=Array(Dt),Xt=0;Xt<Dt;Xt++)Ee[Xt]=arguments[Xt+2];_t.children=Ee}if(I&&I.defaultProps)for(rt in Dt=I.defaultProps,Dt)_t[rt]===void 0&&(_t[rt]=Dt[rt]);return x(I,wt,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:y,render:I}},St.isValidElement=D,St.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:at}},St.memo=function(I,Y){return{$$typeof:_,type:I,compare:Y===void 0?null:Y}},St.startTransition=function(I){var Y=N.T,nt={};N.T=nt;try{var rt=I(),_t=N.S;_t!==null&&_t(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(At,It)}catch(wt){It(wt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),N.T=Y}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(I){return N.H.use(I)},St.useActionState=function(I,Y,nt){return N.H.useActionState(I,Y,nt)},St.useCallback=function(I,Y){return N.H.useCallback(I,Y)},St.useContext=function(I){return N.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,Y){return N.H.useDeferredValue(I,Y)},St.useEffect=function(I,Y){return N.H.useEffect(I,Y)},St.useEffectEvent=function(I){return N.H.useEffectEvent(I)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(I,Y,nt){return N.H.useImperativeHandle(I,Y,nt)},St.useInsertionEffect=function(I,Y){return N.H.useInsertionEffect(I,Y)},St.useLayoutEffect=function(I,Y){return N.H.useLayoutEffect(I,Y)},St.useMemo=function(I,Y){return N.H.useMemo(I,Y)},St.useOptimistic=function(I,Y){return N.H.useOptimistic(I,Y)},St.useReducer=function(I,Y,nt){return N.H.useReducer(I,Y,nt)},St.useRef=function(I){return N.H.useRef(I)},St.useState=function(I){return N.H.useState(I)},St.useSyncExternalStore=function(I,Y,nt){return N.H.useSyncExternalStore(I,Y,nt)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.3",St}var Ny;function Rd(){return Ny||(Ny=1,Uf.exports=C2()),Uf.exports}var mt=Rd();const N2=x2(mt);var Bf={exports:{}},Xl={},kf={exports:{}},Pf={};var Dy;function D2(){return Dy||(Dy=1,(function(r){function e(Q,W){var at=Q.length;Q.push(W);t:for(;0<at;){var It=at-1>>>1,kt=Q[It];if(0<o(kt,W))Q[It]=W,Q[at]=kt,at=It;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var W=Q[0],at=Q.pop();if(at!==W){Q[0]=at;t:for(var It=0,kt=Q.length,I=kt>>>1;It<I;){var Y=2*(It+1)-1,nt=Q[Y],rt=Y+1,_t=Q[rt];if(0>o(nt,at))rt<kt&&0>o(_t,nt)?(Q[It]=_t,Q[rt]=at,It=rt):(Q[It]=nt,Q[Y]=at,It=Y);else if(rt<kt&&0>o(_t,at))Q[It]=_t,Q[rt]=at,It=rt;else break t}}return W}function o(Q,W){var at=Q.sortIndex-W.sortIndex;return at!==0?at:Q.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,w=null,O=3,G=!1,$=!1,st=!1,tt=!1,vt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Bt(Q){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=Q)a(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function Ft(Q){if(st=!1,Bt(Q),!$)if(i(v)!==null)$=!0,At||(At=!0,j());else{var W=i(_);W!==null&&we(Ft,W.startTime-Q)}}var At=!1,N=-1,A=5,x=-1;function M(){return tt?!0:!(r.unstable_now()-x<A)}function D(){if(tt=!1,At){var Q=r.unstable_now();x=Q;var W=!0;try{t:{$=!1,st&&(st=!1,Tt(N),N=-1),G=!0;var at=O;try{e:{for(Bt(Q),w=i(v);w!==null&&!(w.expirationTime>Q&&M());){var It=w.callback;if(typeof It=="function"){w.callback=null,O=w.priorityLevel;var kt=It(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof kt=="function"){w.callback=kt,Bt(Q),W=!0;break e}w===i(v)&&a(v),Bt(Q)}else a(v);w=i(v)}if(w!==null)W=!0;else{var I=i(_);I!==null&&we(Ft,I.startTime-Q),W=!1}}break t}finally{w=null,O=at,G=!1}W=void 0}}finally{W?j():At=!1}}}var j;if(typeof gt=="function")j=function(){gt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=D,j=function(){re.postMessage(null)}}else j=function(){vt(D,0)};function we(Q,W){N=vt(function(){Q(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(Q){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var at=O;O=W;try{return Q()}finally{O=at}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(Q,W){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var at=O;O=Q;try{return W()}finally{O=at}},r.unstable_scheduleCallback=function(Q,W,at){var It=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?It+at:It):at=It,Q){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=at+kt,Q={id:S++,callback:W,priorityLevel:Q,startTime:at,expirationTime:kt,sortIndex:-1},at>It?(Q.sortIndex=at,e(_,Q),i(v)===null&&Q===i(_)&&(st?(Tt(N),N=-1):st=!0,we(Ft,at-It))):(Q.sortIndex=kt,e(v,Q),$||G||($=!0,At||(At=!0,j()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var W=O;return function(){var at=O;O=W;try{return Q.apply(this,arguments)}finally{O=at}}}})(Pf)),Pf}var My;function M2(){return My||(My=1,kf.exports=D2()),kf.exports}var Hf={exports:{}},nn={};var Vy;function V2(){if(Vy)return nn;Vy=1;var r=Rd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,S)},nn.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},nn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},nn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},nn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:G}):S==="script"&&a.d.X(v,{crossOrigin:w,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},nn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=y(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},nn.requestFormReset=function(v){a.d.r(v)},nn.unstable_batchedUpdates=function(v,_){return v(_)},nn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var Iy;function I2(){if(Iy)return Hf.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hf.exports=V2(),Hf.exports}var Oy;function O2(){if(Oy)return Xl;Oy=1;var r=M2(),e=Rd(),i=I2();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=h;break}if(E===l){g=!0,l=c,s=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===s){g=!0,s=h,l=c;break}if(E===l){g=!0,l=h,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),vt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case st:return"Fragment";case vt:return"Profiler";case tt:return"StrictMode";case Ft:return"Suspense";case At:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case gt:return t.displayName||"Context";case Tt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var we=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},It=[],kt=-1;function I(t){return{current:t}}function Y(t){0>kt||(t.current=It[kt],It[kt]=null,kt--)}function nt(t,n){kt++,It[kt]=t.current,t.current=n}var rt=I(null),_t=I(null),wt=I(null),Dt=I(null);function Ee(t,n){switch(nt(wt,n),nt(_t,t),nt(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xp(n),t=Kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(rt),nt(rt,t)}function Xt(){Y(rt),Y(_t),Y(wt)}function Vi(t){t.memoizedState!==null&&nt(Dt,t);var n=rt.current,s=Kp(n,t.type);n!==s&&(nt(_t,t),nt(rt,s))}function te(t){_t.current===t&&(Y(rt),Y(_t)),Dt.current===t&&(Y(Dt),Gl._currentValue=at)}var Rn,Gn;function yn(t){if(Rn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Rn=n&&n[1]||"",Gn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+t+Gn}var Cn=!1;function Kt(t,n){if(!t||Cn)return"";Cn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var k=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){k=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){k=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=c);break}}}finally{Cn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?yn(s):""}function rs(t,n){switch(t.tag){case 26:case 27:case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return t.child!==n&&n!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return Kt(t.type,!1);case 11:return Kt(t.type.render,!1);case 1:return Kt(t.type,!0);case 31:return yn("Activity");default:return""}}function Ii(t){try{var n="",s=null;do n+=rs(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Te=r.unstable_scheduleCallback,ai=r.unstable_cancelCallback,Fr=r.unstable_shouldYield,Ua=r.unstable_requestPaint,ke=r.unstable_now,Oi=r.unstable_getCurrentPriorityLevel,ls=r.unstable_ImmediatePriority,os=r.unstable_UserBlockingPriority,Qn=r.unstable_NormalPriority,Yr=r.unstable_LowPriority,Ba=r.unstable_IdlePriority,ka=r.log,Li=r.unstable_setDisableYieldValue,P=null,it=null;function ht(t){if(typeof ka=="function"&&Li(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(P,t)}catch{}}var ut=Math.clz32?Math.clz32:us,le=Math.log,Nn=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(le(t)/Nn|0)|0}var tn=256,Zn=262144,ye=4194304;function en(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=en(l):(g&=E,g!==0?c=en(g):s||(s=E&~t,s!==0&&(c=en(s))))):(E=l&~h,E!==0?c=en(E):g!==0?c=en(g):s||(s=l&~t,s!==0&&(c=en(s)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:c}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function li(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function na(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pc(t,n,s,l,c,h){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(s=g&~s;0<s;){var Z=31-ut(s),X=1<<Z;E[Z]=0,C[Z]=-1;var k=B[Z];if(k!==null)for(B[Z]=null,Z=0;Z<k.length;Z++){var q=k[Z];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&ia(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function ia(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ut(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Xr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ut(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Kr(t,n){var s=n&-n;return s=(s&42)!==0?1:sa(s),(s&(t.suspendedLanes|n))!==0?0:s}function sa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wo(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:vy(t.type))}function Yn(t,n){var s=W.p;try{return W.p=t,n()}finally{W.p=s}}var Xn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Xn,Pe="__reactProps$"+Xn,oi="__reactContainer$"+Xn,Pa="__reactEvents$"+Xn,Hc="__reactListeners$"+Xn,Ro="__reactHandles$"+Xn,Co="__reactResources$"+Xn,ui="__reactMarker$"+Xn;function Ha(t){delete t[Re],delete t[Pe],delete t[Pa],delete t[Hc],delete t[Ro]}function ci(t){var n=t[Re];if(n)return n;for(var s=t.parentNode;s;){if(n=s[oi]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=iy(t);t!==null;){if(s=t[Re])return s;t=iy(t)}return n}t=s,s=t.parentNode}return null}function Dn(t){if(t=t[Re]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function hi(t){var n=t[Co];return n||(n=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(t){t[ui]=!0}var Jr=new Set,$r={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for($r[t]=n,t=0;t<n.length;t++)Jr.add(n[t])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function No(t){return pe.call(el,t)?!0:pe.call(tl,t)?!1:Wr.test(t)?el[t]=!0:(tl[t]=!0,!1)}function qa(t,n,s){if(No(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function vn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ne(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function He(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Jt(t){if(!t._valueTracker){var n=cs(t)?"checked":"value";t._valueTracker=nl(t,n,""+t[n])}}function aa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=cs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ra=/[\n"\\]/g;function un(t){return t.replace(ra,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ga(t,n,s,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+He(n)):t.value!==""+He(n)&&(t.value=""+He(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?il(t,g,He(n)):s!=null?il(t,g,He(s)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+He(E):t.removeAttribute("name")}function Do(t,n,s,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Jt(t);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Jt(t)}function il(t,n,s){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function hs(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Mo(t,n,s){if(n!=null&&(n=""+He(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+He(s):""}function fs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(we(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=He(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Jt(t)}function cn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Vo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function al(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&sl(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&sl(t,h,n[h])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(t){return ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var rl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,gi=null;function la(t){var n=Dn(t);if(n&&(t=n.stateNode)){var s=t[Pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ga(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Pe]||null;if(!c)throw Error(a(90));Ga(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&aa(l)}break t;case"textarea":Mo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hs(t,!!s.multiple,n,!1)}}}var Fa=!1;function gs(t,n,s){if(Fa)return t(n,s);Fa=!0;try{var l=t(n);return l}finally{if(Fa=!1,(ms!==null||gi!==null)&&(wu(),ms&&(n=ms,t=gi,gi=ms=null,la(n),t)))for(n=0;n<t.length;n++)la(t[n])}}function Jn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Vn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){oa=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{oa=!1}var pi=null,ll=null,ua=null;function ol(){if(ua)return ua;var t,n=ll,s=n.length,l,c="value"in pi?pi.value:pi.textContent,h=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[h-l];l++);return ua=c.slice(t,1<l?1-l:void 0)}function ca(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function $n(){return!1}function Qe(t){function n(s,l,c,h,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?zi:$n,this.isPropagationStopped=$n,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Qe(Ui),ps=w({},Ui,{view:0,detail:0}),ul=Qe(ps),ys,Ya,_i,Xa=w({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(ys=t.screenX-_i.screenX,Ya=t.screenY-_i.screenY):Ya=ys=0,_i=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),cl=Qe(Xa),ha=w({},Xa,{dataTransfer:0}),Oo=Qe(ha),Lo=w({},ps,{relatedTarget:0}),fa=Qe(Lo),hl=w({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=Qe(hl),Ka=w({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zo=Qe(Ka),Uo=w({},Ui,{data:0}),vi=Qe(Uo),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function _s(){return Ho}var ln=w({},ps,{key:function(t){if(t.key){var n=Bo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=Qe(ln),Go=w({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Qe(Go),u=w({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Qe(u),p=w({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(p),z=w({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Qe(z),et=w({},Ui,{newState:0,oldState:0}),Rt=Qe(et),be=[9,13,27,32],Qt=Vn&&"CompositionEvent"in window,he=null;Vn&&"documentMode"in document&&(he=document.documentMode);var In=Vn&&"TextEvent"in window&&!he,Ei=Vn&&(!Qt||he&&8<he&&11>=he),Wn=" ",ti=!1;function da(t,n){switch(t){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Xv(t,n){switch(t){case"compositionend":return Ja(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return t=n.data,t===Wn&&ti?null:t;default:return null}}function Kv(t,n){if($a)return t==="compositionend"||!Qt&&da(t,n)?(t=ol(),ua=ll=pi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Jv[t.type]:n==="textarea"}function lm(t,n,s,l){ms?gi?gi.push(l):gi=[l]:ms=l,n=Iu(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var fl=null,dl=null;function $v(t){qp(t,0)}function Qo(t){var n=_n(t);if(aa(n))return t}function om(t,n){if(t==="change")return n}var um=!1;if(Vn){var qc;if(Vn){var Gc="oninput"in document;if(!Gc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Gc=typeof cm.oninput=="function"}qc=Gc}else qc=!1;um=qc&&(!document.documentMode||9<document.documentMode)}function hm(){fl&&(fl.detachEvent("onpropertychange",fm),dl=fl=null)}function fm(t){if(t.propertyName==="value"&&Qo(dl)){var n=[];lm(n,dl,t,Mn(t)),gs($v,n)}}function Wv(t,n,s){t==="focusin"?(hm(),fl=n,dl=s,fl.attachEvent("onpropertychange",fm)):t==="focusout"&&hm()}function t1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(dl)}function e1(t,n){if(t==="click")return Qo(n)}function n1(t,n){if(t==="input"||t==="change")return Qo(n)}function i1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:i1;function ml(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!En(t[c],n[c]))return!1}return!0}function dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,n){var s=dm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=dm(s)}}function gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=mi(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var s1=Vn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Zc=null,gl=null,Fc=!1;function ym(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fc||Wa==null||Wa!==mi(l)||(l=Wa,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=Iu(Zc,"onSelect"),0<l.length&&(n=new yi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Wa)))}function ma(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var tr={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Yc={},_m={};Vn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function ga(t){if(Yc[t])return Yc[t];if(!tr[t])return t;var n=tr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in _m)return Yc[t]=n[s];return t}var vm=ga("animationend"),Em=ga("animationiteration"),Tm=ga("animationstart"),a1=ga("transitionrun"),r1=ga("transitionstart"),l1=ga("transitioncancel"),bm=ga("transitionend"),Am=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function ei(t,n){Am.set(t,n),fi(n,[t])}var Zo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],er=0,Kc=0;function Fo(){for(var t=er,n=Kc=er=0;n<t;){var s=On[n];On[n++]=null;var l=On[n];On[n++]=null;var c=On[n];On[n++]=null;var h=On[n];if(On[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Sm(s,c,h)}}function Yo(t,n,s,l){On[er++]=t,On[er++]=n,On[er++]=s,On[er++]=l,Kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,s,l){return Yo(t,n,s,l),Xo(t)}function pa(t,n){return Yo(t,null,null,n),Xo(t)}function Sm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-ut(s),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),h):null}function Xo(t){if(50<zl)throw zl=0,lf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var nr={};function o1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,n,s,l){return new o1(t,n,s,l)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var s=t.alternate;return s===null?(s=Tn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function xm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,s,l,c,h){var g=0;if(l=t,typeof t=="function")$c(t)&&(g=1);else if(typeof t=="string")g=d2(t,s,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=Tn(31,s,n,c),t.elementType=x,t.lanes=h,t;case st:return ya(s.children,c,h,n);case tt:g=8,c|=24;break;case vt:return t=Tn(12,s,n,c|2),t.elementType=vt,t.lanes=h,t;case Ft:return t=Tn(13,s,n,c),t.elementType=Ft,t.lanes=h,t;case At:return t=Tn(19,s,n,c),t.elementType=At,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gt:g=10;break t;case Tt:g=9;break t;case Bt:g=11;break t;case N:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Tn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ya(t,n,s,l){return t=Tn(7,t,l,n),t.lanes=s,t}function Wc(t,n,s){return t=Tn(6,t,null,n),t.lanes=s,t}function wm(t){var n=Tn(18,null,null,0);return n.stateNode=t,n}function th(t,n,s){return n=Tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Rm=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var s=Rm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ii(n)},Rm.set(t,n),n)}return{value:t,source:n,stack:Ii(n)}}var ir=[],sr=0,Jo=null,pl=0,jn=[],zn=0,vs=null,Ti=1,bi="";function Pi(t,n){ir[sr++]=pl,ir[sr++]=Jo,Jo=t,pl=n}function Cm(t,n,s){jn[zn++]=Ti,jn[zn++]=bi,jn[zn++]=vs,vs=t;var l=Ti;t=bi;var c=32-ut(l)-1;l&=~(1<<c),s+=1;var h=32-ut(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ti=1<<32-ut(n)+c|s<<c|l,bi=h+t}else Ti=1<<h|s<<c|l,bi=t}function eh(t){t.return!==null&&(Pi(t,1),Cm(t,1,0))}function nh(t){for(;t===Jo;)Jo=ir[--sr],ir[sr]=null,pl=ir[--sr],ir[sr]=null;for(;t===vs;)vs=jn[--zn],jn[zn]=null,bi=jn[--zn],jn[zn]=null,Ti=jn[--zn],jn[zn]=null}function Nm(t,n){jn[zn++]=Ti,jn[zn++]=bi,jn[zn++]=vs,Ti=n.id,bi=n.overflow,vs=t}var Ze=null,oe=null,Ut=!1,Es=null,Un=!1,ih=Error(a(519));function Ts(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Ln(n,t)),ih}function Dm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Re]=t,n[Pe]=l,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<Bl.length;s++)Vt(Bl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),fs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Fp(n.textContent,s)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Ts(t,!0)}function Mm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ze=Ze.return}}function ar(t){if(t!==Ze)return!1;if(!Ut)return Mm(t),Ut=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||bf(t.type,t.memoizedProps)),s=!s),s&&oe&&Ts(t),Mm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));oe=ny(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));oe=ny(t)}else n===27?(n=oe,Ls(t.type)?(t=Rf,Rf=null,oe=t):oe=n):oe=Ze?kn(t.stateNode.nextSibling):null;return!0}function _a(){oe=Ze=null,Ut=!1}function sh(){var t=Es;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Es=null),t}function yl(t){Es===null?Es=[t]:Es.push(t)}var ah=I(null),va=null,Hi=null;function bs(t,n,s){nt(ah,n._currentValue),n._currentValue=s}function qi(t){t._currentValue=ah.current,Y(ah)}function rh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function lh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),rh(h.return,s,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,h=g.alternate,h!==null&&(h.lanes|=s),rh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function rr(t,n,s,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;En(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Dt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}c=c.return}t!==null&&lh(n,t,s,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){va=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Vm(va,t)}function Wo(t,n){return va===null&&Ea(t),Vm(t,n)}function Vm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Hi===null){if(t===null)throw Error(a(308));Hi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Hi=Hi.next=n;return s}var u1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},c1=r.unstable_scheduleCallback,h1=r.unstable_NormalPriority,De={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new u1,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&c1(h1,function(){t.controller.abort()})}var vl=null,uh=0,lr=0,or=null;function f1(t,n){if(vl===null){var s=vl=[];uh=0,lr=df(),or={status:"pending",value:void 0,then:function(l){s.push(l)}}}return uh++,n.then(Im,Im),n}function Im(){if(--uh===0&&vl!==null){or!==null&&(or.status="fulfilled");var t=vl;vl=null,lr=0,or=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function d1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Om=Q.S;Q.S=function(t,n){yp=ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f1(t,n),Om!==null&&Om(t,n)};var Ta=I(null);function ch(){var t=Ta.current;return t!==null?t:ae.pooledCache}function tu(t,n){n===null?nt(Ta,Ta.current):nt(Ta,n.pool)}function Lm(){var t=ch();return t===null?null:{parent:De._currentValue,pool:t}}var ur=Error(a(460)),hh=Error(a(474)),eu=Error(a(542)),nu={then:function(){}};function jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t}throw Aa=n,ur}}function ba(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Aa=s,ur):s}}var Aa=null;function Um(){if(Aa===null)throw Error(a(459));var t=Aa;return Aa=null,t}function Bm(t){if(t===ur||t===eu)throw Error(a(483))}var cr=null,El=0;function iu(t){var n=El;return El+=1,cr===null&&(cr=[]),zm(cr,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function su(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function km(t){function n(L,V){if(t){var U=L.deletions;U===null?(L.deletions=[V],L.flags|=16):U.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)n(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function c(L,V){return L=ki(L,V),L.index=0,L.sibling=null,L}function h(L,V,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<V?(L.flags|=67108866,V):U):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,V,U,F){return V===null||V.tag!==6?(V=Wc(U,L.mode,F),V.return=L,V):(V=c(V,U),V.return=L,V)}function C(L,V,U,F){var dt=U.type;return dt===st?Z(L,V,U.props.children,F,U.key):V!==null&&(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&ba(dt)===V.type)?(V=c(V,U.props),Tl(V,U),V.return=L,V):(V=Ko(U.type,U.key,U.props,null,L.mode,F),Tl(V,U),V.return=L,V)}function B(L,V,U,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=th(U,L.mode,F),V.return=L,V):(V=c(V,U.children||[]),V.return=L,V)}function Z(L,V,U,F,dt){return V===null||V.tag!==7?(V=ya(U,L.mode,F,dt),V.return=L,V):(V=c(V,U),V.return=L,V)}function X(L,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Wc(""+V,L.mode,U),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return U=Ko(V.type,V.key,V.props,null,L.mode,U),Tl(U,V),U.return=L,U;case $:return V=th(V,L.mode,U),V.return=L,V;case A:return V=ba(V),X(L,V,U)}if(we(V)||j(V))return V=ya(V,L.mode,U,null),V.return=L,V;if(typeof V.then=="function")return X(L,iu(V),U);if(V.$$typeof===gt)return X(L,Wo(L,V),U);su(L,V)}return null}function k(L,V,U,F){var dt=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:E(L,V,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===dt?C(L,V,U,F):null;case $:return U.key===dt?B(L,V,U,F):null;case A:return U=ba(U),k(L,V,U,F)}if(we(U)||j(U))return dt!==null?null:Z(L,V,U,F,null);if(typeof U.then=="function")return k(L,V,iu(U),F);if(U.$$typeof===gt)return k(L,V,Wo(L,U),F);su(L,U)}return null}function q(L,V,U,F,dt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return L=L.get(U)||null,E(V,L,""+F,dt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return L=L.get(F.key===null?U:F.key)||null,C(V,L,F,dt);case $:return L=L.get(F.key===null?U:F.key)||null,B(V,L,F,dt);case A:return F=ba(F),q(L,V,U,F,dt)}if(we(F)||j(F))return L=L.get(U)||null,Z(V,L,F,dt,null);if(typeof F.then=="function")return q(L,V,U,iu(F),dt);if(F.$$typeof===gt)return q(L,V,U,Wo(V,F),dt);su(V,F)}return null}function ot(L,V,U,F){for(var dt=null,qt=null,ct=V,Nt=V=0,Lt=null;ct!==null&&Nt<U.length;Nt++){ct.index>Nt?(Lt=ct,ct=null):Lt=ct.sibling;var Gt=k(L,ct,U[Nt],F);if(Gt===null){ct===null&&(ct=Lt);break}t&&ct&&Gt.alternate===null&&n(L,ct),V=h(Gt,V,Nt),qt===null?dt=Gt:qt.sibling=Gt,qt=Gt,ct=Lt}if(Nt===U.length)return s(L,ct),Ut&&Pi(L,Nt),dt;if(ct===null){for(;Nt<U.length;Nt++)ct=X(L,U[Nt],F),ct!==null&&(V=h(ct,V,Nt),qt===null?dt=ct:qt.sibling=ct,qt=ct);return Ut&&Pi(L,Nt),dt}for(ct=l(ct);Nt<U.length;Nt++)Lt=q(ct,L,Nt,U[Nt],F),Lt!==null&&(t&&Lt.alternate!==null&&ct.delete(Lt.key===null?Nt:Lt.key),V=h(Lt,V,Nt),qt===null?dt=Lt:qt.sibling=Lt,qt=Lt);return t&&ct.forEach(function(ks){return n(L,ks)}),Ut&&Pi(L,Nt),dt}function yt(L,V,U,F){if(U==null)throw Error(a(151));for(var dt=null,qt=null,ct=V,Nt=V=0,Lt=null,Gt=U.next();ct!==null&&!Gt.done;Nt++,Gt=U.next()){ct.index>Nt?(Lt=ct,ct=null):Lt=ct.sibling;var ks=k(L,ct,Gt.value,F);if(ks===null){ct===null&&(ct=Lt);break}t&&ct&&ks.alternate===null&&n(L,ct),V=h(ks,V,Nt),qt===null?dt=ks:qt.sibling=ks,qt=ks,ct=Lt}if(Gt.done)return s(L,ct),Ut&&Pi(L,Nt),dt;if(ct===null){for(;!Gt.done;Nt++,Gt=U.next())Gt=X(L,Gt.value,F),Gt!==null&&(V=h(Gt,V,Nt),qt===null?dt=Gt:qt.sibling=Gt,qt=Gt);return Ut&&Pi(L,Nt),dt}for(ct=l(ct);!Gt.done;Nt++,Gt=U.next())Gt=q(ct,L,Nt,Gt.value,F),Gt!==null&&(t&&Gt.alternate!==null&&ct.delete(Gt.key===null?Nt:Gt.key),V=h(Gt,V,Nt),qt===null?dt=Gt:qt.sibling=Gt,qt=Gt);return t&&ct.forEach(function(S2){return n(L,S2)}),Ut&&Pi(L,Nt),dt}function se(L,V,U,F){if(typeof U=="object"&&U!==null&&U.type===st&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:t:{for(var dt=U.key;V!==null;){if(V.key===dt){if(dt=U.type,dt===st){if(V.tag===7){s(L,V.sibling),F=c(V,U.props.children),F.return=L,L=F;break t}}else if(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&ba(dt)===V.type){s(L,V.sibling),F=c(V,U.props),Tl(F,U),F.return=L,L=F;break t}s(L,V);break}else n(L,V);V=V.sibling}U.type===st?(F=ya(U.props.children,L.mode,F,U.key),F.return=L,L=F):(F=Ko(U.type,U.key,U.props,null,L.mode,F),Tl(F,U),F.return=L,L=F)}return g(L);case $:t:{for(dt=U.key;V!==null;){if(V.key===dt)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){s(L,V.sibling),F=c(V,U.children||[]),F.return=L,L=F;break t}else{s(L,V);break}else n(L,V);V=V.sibling}F=th(U,L.mode,F),F.return=L,L=F}return g(L);case A:return U=ba(U),se(L,V,U,F)}if(we(U))return ot(L,V,U,F);if(j(U)){if(dt=j(U),typeof dt!="function")throw Error(a(150));return U=dt.call(U),yt(L,V,U,F)}if(typeof U.then=="function")return se(L,V,iu(U),F);if(U.$$typeof===gt)return se(L,V,Wo(L,U),F);su(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(s(L,V.sibling),F=c(V,U),F.return=L,L=F):(s(L,V),F=Wc(U,L.mode,F),F.return=L,L=F),g(L)):s(L,V)}return function(L,V,U,F){try{El=0;var dt=se(L,V,U,F);return cr=null,dt}catch(ct){if(ct===ur||ct===eu)throw ct;var qt=Tn(29,ct,null,L.mode);return qt.lanes=F,qt.return=L,qt}}}var Sa=km(!0),Pm=km(!1),As=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Xo(t),Sm(t,null,s),n}return Yo(t,l,n,s),Xo(t)}function bl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xr(t,s)}}function mh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var gh=!1;function Al(){if(gh){var t=or;if(t!==null)throw t}}function Sl(t,n,s,l){gh=!1;var c=t.updateQueue;As=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?h=B:g.next=B,g=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==g&&(E===null?Z.firstBaseUpdate=B:E.next=B,Z.lastBaseUpdate=C))}if(h!==null){var X=c.baseState;g=0,Z=B=C=null,E=h;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(Ot&k)===k:(l&k)===k){k!==0&&k===lr&&(gh=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,yt=E;k=n;var se=s;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){X=ot.call(se,X,k);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,k=typeof ot=="function"?ot.call(se,X,k):ot,k==null)break t;X=w({},X,k);break t;case 2:As=!0}}k=E.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(B=Z=q,C=X):Z=Z.next=q,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Z===null&&(C=X),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=Z,h===null&&(c.shared.lanes=0),Ds|=g,t.lanes=g,t.memoizedState=X}}function Hm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function qm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Hm(s[t],n)}var hr=I(null),au=I(0);function Gm(t,n){t=$i,nt(au,t),nt(hr,n),$i=t|n.baseLanes}function ph(){nt(au,$i),nt(hr,hr.current)}function yh(){$i=au.current,Y(hr),Y(au)}var bn=I(null),Bn=null;function ws(t){var n=t.alternate;nt(Ae,Ae.current&1),nt(bn,t),Bn===null&&(n===null||hr.current!==null||n.memoizedState!==null)&&(Bn=t)}function _h(t){nt(Ae,Ae.current),nt(bn,t),Bn===null&&(Bn=t)}function Qm(t){t.tag===22?(nt(Ae,Ae.current),nt(bn,t),Bn===null&&(Bn=t)):Rs()}function Rs(){nt(Ae,Ae.current),nt(bn,bn.current)}function An(t){Y(bn),Bn===t&&(Bn=null),Y(Ae)}var Ae=I(0);function ru(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||xf(s)||wf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Ct=null,ne=null,Me=null,lu=!1,fr=!1,xa=!1,ou=0,xl=0,dr=null,m1=0;function _e(){throw Error(a(321))}function vh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!En(t[s],n[s]))return!1;return!0}function Eh(t,n,s,l,c,h){return Gi=h,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Cg:Lh,xa=!1,h=s(l,c),xa=!1,fr&&(h=Fm(n,s,l,c)),Zm(t),h}function Zm(t){Q.H=Cl;var n=ne!==null&&ne.next!==null;if(Gi=0,Me=ne=Ct=null,lu=!1,xl=0,dr=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&$o(t)&&(Ve=!0))}function Fm(t,n,s,l){Ct=t;var c=0;do{if(fr&&(dr=null),xl=0,fr=!1,25<=c)throw Error(a(301));if(c+=1,Me=ne=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Q.H=Ng,h=n(s,l)}while(fr);return h}function g1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?wl(n):n,t=t.useState()[0],(ne!==null?ne.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Th(){var t=ou!==0;return ou=0,t}function bh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Ah(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}Gi=0,Me=ne=Ct=null,fr=!1,xl=ou=0,dr=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ct.memoizedState=Me=t:Me=Me.next=t,Me}function Se(){if(ne===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var n=Me===null?Ct.memoizedState:Me.next;if(n!==null)Me=n,ne=t;else{if(t===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Me===null?Ct.memoizedState=Me=t:Me=Me.next=t}return Me}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var n=xl;return xl+=1,dr===null&&(dr=[]),t=zm(dr,t,n),n=Ct,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Cg:Lh),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===gt)return Fe(t)}throw Error(a(438,String(t)))}function Sh(t){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=uu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Qi(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=Se();return xh(n,ne,t)}function xh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,C=null,B=n,Z=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Ot&X)===X:(Gi&X)===X){var k=B.revertLane;if(k===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===lr&&(Z=!0);else if((Gi&k)===k){B=B.next,k===lr&&(Z=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=X,g=h):C=C.next=X,Ct.lanes|=k,Ds|=k;X=B.action,xa&&s(h,X),h=B.hasEagerState?B.eagerState:s(h,X)}else k={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=k,g=h):C=C.next=k,Ct.lanes|=X,Ds|=X;B=B.next}while(B!==null&&B!==n);if(C===null?g=h:C.next=E,!En(h,t.memoizedState)&&(Ve=!0,Z&&(s=or,s!==null)))throw s;t.memoizedState=h,t.baseState=g,t.baseQueue=C,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);En(h,n.memoizedState)||(Ve=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function Ym(t,n,s){var l=Ct,c=Se(),h=Ut;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!En((ne||c).memoizedState,s);if(g&&(c.memoizedState=s,Ve=!0),c=c.queue,Nh(Jm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,mr(9,{destroy:void 0},Km.bind(null,l,c,s,n),null),ae===null)throw Error(a(349));h||(Gi&127)!==0||Xm(l,n,s)}return s}function Xm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=uu(),Ct.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Km(t,n,s,l){n.value=s,n.getSnapshot=l,$m(n)&&Wm(t)}function Jm(t,n,s){return s(function(){$m(n)&&Wm(t)})}function $m(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!En(t,s)}catch{return!0}}function Wm(t){var n=pa(t,2);n!==null&&gn(n,t,2)}function Rh(t){var n=on();if(typeof t=="function"){var s=t;if(t=s(),xa){ht(!0);try{s()}finally{ht(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},n}function tg(t,n,s,l){return t.baseState=s,xh(t,ne,typeof l=="function"?l:Qi)}function p1(t,n,s,l,c){if(mu(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};Q.T!==null?s(!0):h.isTransition=!1,l(h),s=n.pending,s===null?(h.next=n.pending=h,eg(n,h)):(h.next=s.next,n.pending=s.next=h)}}function eg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=Q.T,g={};Q.T=g;try{var E=s(c,l),C=Q.S;C!==null&&C(g,E),ng(t,n,E)}catch(B){Ch(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),Q.T=h}}else try{h=s(c,l),ng(t,n,h)}catch(B){Ch(t,n,B)}}function ng(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ig(t,n,l)},function(l){return Ch(t,n,l)}):ig(t,n,s)}function ig(t,n,s){n.status="fulfilled",n.value=s,sg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,eg(t,s)))}function Ch(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,sg(n),n=n.next;while(n!==l)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function rg(t,n){if(Ut){var s=ae.formState;if(s!==null){t:{var l=Ct;if(Ut){if(oe){e:{for(var c=oe,h=Un;c.nodeType!==8;){if(!h){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){oe=kn(c.nextSibling),l=c.data==="F!";break t}}Ts(l)}l=!1}l&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},s.queue=l,s=xg.bind(null,Ct,l),l.dispatch=s,l=Rh(!1),h=Oh.bind(null,Ct,!1,l.queue),l=on(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=p1.bind(null,Ct,c,h,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function lg(t){var n=Se();return og(n,ne,t)}function og(t,n,s){if(n=xh(t,n,ag)[0],t=hu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wl(n)}catch(g){throw g===ur?eu:g}else l=n;n=Se();var c=n.queue,h=c.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,mr(9,{destroy:void 0},y1.bind(null,c,s),null)),[l,h,t]}function y1(t,n){t.action=n}function ug(t){var n=Se(),s=ne;if(s!==null)return og(n,s,t);Se(),n=n.memoizedState,s=Se();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function mr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=uu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function cg(){return Se().memoizedState}function fu(t,n,s,l){var c=on();Ct.flags|=t,c.memoizedState=mr(1|n,{destroy:void 0},s,l===void 0?null:l)}function du(t,n,s,l){var c=Se();l=l===void 0?null:l;var h=c.memoizedState.inst;ne!==null&&l!==null&&vh(l,ne.memoizedState.deps)?c.memoizedState=mr(n,h,s,l):(Ct.flags|=t,c.memoizedState=mr(1|n,h,s,l))}function hg(t,n){fu(8390656,8,t,n)}function Nh(t,n){du(2048,8,t,n)}function _1(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=uu(),Ct.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function fg(t){var n=Se().memoizedState;return _1({ref:n,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dg(t,n){return du(4,2,t,n)}function mg(t,n){return du(4,4,t,n)}function gg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pg(t,n,s){s=s!=null?s.concat([t]):null,du(4,4,gg.bind(null,n,t),s)}function Dh(){}function yg(t,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&vh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function _g(t,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&vh(n,l[1]))return l[0];if(l=t(),xa){ht(!0);try{t()}finally{ht(!1)}}return s.memoizedState=[l,n],l}function Mh(t,n,s){return s===void 0||(Gi&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=vp(),Ct.lanes|=t,Ds|=t,s)}function vg(t,n,s,l){return En(s,n)?s:hr.current!==null?(t=Mh(t,s,l),En(t,n)||(Ve=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ot&261930)===0?(Ve=!0,t.memoizedState=s):(t=vp(),Ct.lanes|=t,Ds|=t,n)}function Eg(t,n,s,l,c){var h=W.p;W.p=h!==0&&8>h?h:8;var g=Q.T,E={};Q.T=E,Oh(t,!1,n,s);try{var C=c(),B=Q.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=d1(C,l);Rl(t,n,Z,wn(t))}else Rl(t,n,l,wn(t))}catch(X){Rl(t,n,{then:function(){},status:"rejected",reason:X},wn())}finally{W.p=h,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function v1(){}function Vh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Tg(t).queue;Eg(t,c,n,at,s===null?v1:function(){return bg(t),s(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:at},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),Rl(t,n.next.queue,{},wn())}function Ih(){return Fe(Gl)}function Ag(){return Se().memoizedState}function Sg(){return Se().memoizedState}function E1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();t=Ss(s);var l=xs(n,t,s);l!==null&&(gn(l,n,s),bl(l,n,s)),n={cache:oh()},t.payload=n;return}n=n.return}}function T1(t,n,s){var l=wn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},mu(t)?wg(n,s):(s=Jc(t,n,s,l),s!==null&&(gn(s,t,l),Rg(s,n,l)))}function xg(t,n,s){var l=wn();Rl(t,n,s,l)}function Rl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(mu(t))wg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,s);if(c.hasEagerState=!0,c.eagerState=E,En(E,g))return Yo(t,n,c,0),ae===null&&Fo(),!1}catch{}if(s=Jc(t,n,c,l),s!==null)return gn(s,t,l),Rg(s,n,l),!0}return!1}function Oh(t,n,s,l){if(l={lane:2,revertLane:df(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(a(479))}else n=Jc(t,s,l,2),n!==null&&gn(n,t,2)}function mu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function wg(t,n){fr=lu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Rg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xr(t,s)}}var Cl={readContext:Fe,use:cu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};Cl.useEffectEvent=_e;var Cg={readContext:Fe,use:cu,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:hg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,fu(4194308,4,gg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var s=on();n=n===void 0?null:n;var l=t();if(xa){ht(!0);try{t()}finally{ht(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=on();if(s!==void 0){var c=s(n);if(xa){ht(!0);try{s(n)}finally{ht(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=T1.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Rh(t);var n=t.queue,s=xg.bind(null,Ct,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Dh,useDeferredValue:function(t,n){var s=on();return Mh(s,t,n)},useTransition:function(){var t=Rh(!1);return t=Eg.bind(null,Ct,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ct,c=on();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Ot&127)!==0||Xm(l,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,hg(Jm.bind(null,l,h,t),[t]),l.flags|=2048,mr(9,{destroy:void 0},Km.bind(null,l,h,s,n),null),s},useId:function(){var t=on(),n=ae.identifierPrefix;if(Ut){var s=bi,l=Ti;s=(l&~(1<<32-ut(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ou++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=m1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Oh.bind(null,Ct,!0,s),s.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return on().memoizedState=E1.bind(null,Ct)},useEffectEvent:function(t){var n=on(),s={impl:t};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Lh={readContext:Fe,use:cu,useCallback:yg,useContext:Fe,useEffect:Nh,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:hu,useRef:cg,useState:function(){return hu(Qi)},useDebugValue:Dh,useDeferredValue:function(t,n){var s=Se();return vg(s,ne.memoizedState,t,n)},useTransition:function(){var t=hu(Qi)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:wl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:Ih,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var s=Se();return tg(s,ne,t,n)},useMemoCache:Sh,useCacheRefresh:Sg};Lh.useEffectEvent=fg;var Ng={readContext:Fe,use:cu,useCallback:yg,useContext:Fe,useEffect:Nh,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:wh,useRef:cg,useState:function(){return wh(Qi)},useDebugValue:Dh,useDeferredValue:function(t,n){var s=Se();return ne===null?Mh(s,t,n):vg(s,ne.memoizedState,t,n)},useTransition:function(){var t=wh(Qi)[0],n=Se().memoizedState;return[typeof t=="boolean"?t:wl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:Ih,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var s=Se();return ne!==null?tg(s,ne,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Sg};Ng.useEffectEvent=fg;function jh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var zh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=wn(),c=Ss(l);c.payload=n,s!=null&&(c.callback=s),n=xs(t,c,l),n!==null&&(gn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=wn(),c=Ss(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=xs(t,c,l),n!==null&&(gn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=wn(),l=Ss(s);l.tag=2,n!=null&&(l.callback=n),n=xs(t,l,s),n!==null&&(gn(n,t,s),bl(n,t,s))}};function Dg(t,n,s,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!ml(s,l)||!ml(c,h):!0}function Mg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&zh.enqueueReplaceState(n,n.state,null)}function wa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Vg(t){Zo(t)}function Ig(t){console.error(t)}function Og(t){Zo(t)}function gu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){gu(t,n)},s}function jg(t){return t=Ss(t),t.tag=3,t}function zg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Lg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Lg(n,s,l),typeof c!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function b1(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&rr(n,s,c,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?Ru():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),cf(t,l,c)),!1;case 22:return s.flags|=65536,l===nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),cf(t,l,c)),!1}throw Error(a(435,s.tag))}return cf(t,l,c),Ru(),!1}if(Ut)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(a(422),{cause:l}),yl(Ln(t,s)))):(l!==ih&&(n=Error(a(423),{cause:l}),yl(Ln(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Ln(l,s),c=Uh(t.stateNode,l,c),mh(t,c),ve!==4&&(ve=2)),!1;var h=Error(a(520),{cause:l});if(h=Ln(h,s),jl===null?jl=[h]:jl.push(h),ve!==4&&(ve=2),n===null)return!0;l=Ln(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Uh(s.stateNode,l,t),mh(s,t),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ms===null||!Ms.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=jg(c),zg(c,t,s,l),mh(s,c),!1}s=s.return}while(s!==null);return!1}var Bh=Error(a(461)),Ve=!1;function Ye(t,n,s,l){n.child=t===null?Pm(n,null,s,l):Sa(n,t.child,s,l)}function Ug(t,n,s,l,c){s=s.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ea(n),l=Eh(t,n,s,g,h,c),E=Th(),t!==null&&!Ve?(bh(t,n,c),Zi(t,n,c)):(Ut&&E&&eh(n),n.flags|=1,Ye(t,n,l,c),n.child)}function Bg(t,n,s,l,c){if(t===null){var h=s.type;return typeof h=="function"&&!$c(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,kg(t,n,h,l,c)):(t=Ko(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Fh(t,c)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:ml,s(g,l)&&t.ref===n.ref)return Zi(t,n,c)}return n.flags|=1,t=ki(h,l),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,s,l,c){if(t!==null){var h=t.memoizedProps;if(ml(h,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=h,Fh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Zi(t,n,c)}return kh(t,n,s,l,c)}function Pg(t,n,s,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Hg(t,n,h,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(n,h!==null?h.cachePool:null),h!==null?Gm(n,h):ph(),Qm(n);else return l=n.lanes=536870912,Hg(t,n,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(tu(n,h.cachePool),Gm(n,h),Rs(),n.memoizedState=null):(t!==null&&tu(n,null),ph(),Rs());return Ye(t,n,c,s),n.child}function Nl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(t,n,s,l,c){var h=ch();return h=h===null?null:{parent:De._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&tu(n,null),ph(),Qm(n),t!==null&&rr(t,n,l,!0),n.childLanes=c,null}function pu(t,n){return n=_u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function qg(t,n,s){return Sa(n,t.child,null,s),t=pu(n,n.pendingProps),t.flags|=2,An(n),n.memoizedState=null,t}function A1(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=pu(n,l),n.lanes=536870912,Nl(null,t);if(_h(n),(t=oe)?(t=ey(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=wm(t),s.return=n,n.child=s,Ze=n,oe=null)):t=null,t===null)throw Ts(n);return n.lanes=536870912,null}return pu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(_h(n),c)if(n.flags&256)n.flags&=-257,n=qg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||rr(t,n,s,!1),c=(s&t.childLanes)!==0,Ve||c){if(l=ae,l!==null&&(g=Kr(l,s),g!==0&&g!==h.retryLane))throw h.retryLane=g,pa(t,g),gn(l,t,g),Bh;Ru(),n=qg(t,n,s)}else t=h.treeContext,oe=kn(g.nextSibling),Ze=n,Ut=!0,Es=null,Un=!1,t!==null&&Nm(n,t),n=pu(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function yu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function kh(t,n,s,l,c){return Ea(n),s=Eh(t,n,s,l,void 0,c),l=Th(),t!==null&&!Ve?(bh(t,n,c),Zi(t,n,c)):(Ut&&l&&eh(n),n.flags|=1,Ye(t,n,s,c),n.child)}function Gg(t,n,s,l,c,h){return Ea(n),n.updateQueue=null,s=Fm(n,l,s,c),Zm(t),l=Th(),t!==null&&!Ve?(bh(t,n,h),Zi(t,n,h)):(Ut&&l&&eh(n),n.flags|=1,Ye(t,n,s,h),n.child)}function Qg(t,n,s,l,c){if(Ea(n),n.stateNode===null){var h=nr,g=s.contextType;typeof g=="object"&&g!==null&&(h=Fe(g)),h=new s(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=zh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},fh(n),g=s.contextType,h.context=typeof g=="object"&&g!==null?Fe(g):nr,h.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(jh(n,s,g,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&zh.enqueueReplaceState(h,h.state,null),Sl(n,l,h,c),Al(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,C=wa(s,E);h.props=C;var B=h.context,Z=s.contextType;g=nr,typeof Z=="object"&&Z!==null&&(g=Fe(Z));var X=s.getDerivedStateFromProps;Z=typeof X=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&Mg(n,h,l,g),As=!1;var k=n.memoizedState;h.state=k,Sl(n,l,h,c),Al(),B=n.memoizedState,E||k!==B||As?(typeof X=="function"&&(jh(n,s,X,l),B=n.memoizedState),(C=As||Dg(n,s,C,l,k,B,g))?(Z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,dh(t,n),g=n.memoizedProps,Z=wa(s,g),h.props=Z,X=n.pendingProps,k=h.context,B=s.contextType,C=nr,typeof B=="object"&&B!==null&&(C=Fe(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==X||k!==C)&&Mg(n,h,l,C),As=!1,k=n.memoizedState,h.state=k,Sl(n,l,h,c),Al();var q=n.memoizedState;g!==X||k!==q||As||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof E=="function"&&(jh(n,s,E,l),q=n.memoizedState),(Z=As||Dg(n,s,Z,l,k,q,C)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=C,l=Z):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,yu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Sa(n,t.child,null,c),n.child=Sa(n,null,s,c)):Ye(t,n,s,c),n.memoizedState=h.state,t=n.child):t=Zi(t,n,c),t}function Zg(t,n,s,l){return _a(),n.flags|=256,Ye(t,n,s,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(t){return{baseLanes:t,cachePool:Lm()}}function qh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=xn),t}function Fg(t,n,s){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?ws(n):Rs(),(t=oe)?(t=ey(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},s=wm(t),s.return=n,n.child=s,Ze=n,oe=null)):t=null,t===null)throw Ts(n);return wf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Rs(),c=n.mode,E=_u({mode:"hidden",children:E},c),l=ya(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hh(s),l.childLanes=qh(t,g,s),n.memoizedState=Ph,Nl(null,l)):(ws(n),Gh(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)n.flags&256?(ws(n),n.flags&=-257,n=Qh(t,n,s)):n.memoizedState!==null?(Rs(),n.child=t.child,n.flags|=128,n=null):(Rs(),E=l.fallback,c=n.mode,l=_u({mode:"visible",children:l.children},c),E=ya(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Sa(n,t.child,null,s),l=n.child,l.memoizedState=Hh(s),l.childLanes=qh(t,g,s),n.memoizedState=Ph,n=Nl(null,l));else if(ws(n),wf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(a(419)),l.stack="",l.digest=g,yl({value:l,source:null,stack:null}),n=Qh(t,n,s)}else if(Ve||rr(t,n,s,!1),g=(s&t.childLanes)!==0,Ve||g){if(g=ae,g!==null&&(l=Kr(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,pa(t,l),gn(g,t,l),Bh;xf(E)||Ru(),n=Qh(t,n,s)}else xf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,oe=kn(E.nextSibling),Ze=n,Ut=!0,Es=null,Un=!1,t!==null&&Nm(n,t),n=Gh(n,l.children),n.flags|=4096);return n}return c?(Rs(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=ki(B,E):(E=ya(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Nl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hh(s):(c=E.cachePool,c!==null?(C=De._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Lm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=qh(t,g,s),n.memoizedState=Ph,Nl(t.child,l)):(ws(n),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Gh(t,n){return n=_u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _u(t,n){return t=Tn(22,t,null,n),t.lanes=0,t}function Qh(t,n,s){return Sa(n,t.child,null,s),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Yg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,s)}function Zh(t,n,s,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=h)}function Xg(t,n,s){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(Ae,g),Ye(t,n,l,s),l=Ut?pl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,s,n);else if(t.tag===19)Yg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&ru(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Zh(n,!1,c,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ru(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Zh(n,!0,s,null,h,l);break;case"together":Zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Zi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ds|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(rr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ki(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function S1(t,n,s){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),bs(n,De,t.memoizedState.cache),_a();break;case 27:case 5:Vi(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_h(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fg(t,n,s):(ws(n),t=Zi(t,n,s),t!==null?t.sibling:null);ws(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(rr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Xg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Pg(t,n,s,n.pendingProps);case 24:bs(n,De,t.memoizedState.cache)}return Zi(t,n,s)}function Kg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Fh(t,s)&&(n.flags&128)===0)return Ve=!1,S1(t,n,s);Ve=(t.flags&131072)!==0}else Ve=!1,Ut&&(n.flags&1048576)!==0&&Cm(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ba(n.elementType),n.type=t,typeof t=="function")$c(t)?(l=wa(t,l),n.tag=1,n=Qg(null,n,t,l,s)):(n.tag=0,n=kh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Bt){n.tag=11,n=Ug(null,n,t,l,s);break t}else if(c===N){n.tag=14,n=Bg(null,n,t,l,s);break t}}throw n=re(t)||t,Error(a(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=wa(l,n.pendingProps),Qg(t,n,l,c,s);case 3:t:{if(Ee(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,dh(t,n),Sl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,bs(n,De,l),l!==h.cache&&lh(n,[De],s,!0),Al(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Zg(t,n,l,s);break t}else if(l!==c){c=Ln(Error(a(424)),n),yl(c),n=Zg(t,n,l,s);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,oe=kn(t.firstChild),Ze=n,Ut=!0,Es=null,Un=!0,s=Pm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_a(),l===c){n=Zi(t,n,s);break t}Ye(t,n,l,s)}n=n.child}return n;case 26:return yu(t,n),t===null?(s=ly(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,t=n.pendingProps,l=Ou(wt.current).createElement(s),l[Re]=n,l[Pe]=t,Xe(l,s,t),Ce(l),n.stateNode=l):n.memoizedState=ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vi(n),t===null&&Ut&&(l=n.stateNode=sy(n.type,n.pendingProps,wt.current),Ze=n,Un=!0,c=oe,Ls(n.type)?(Rf=c,oe=kn(l.firstChild)):oe=c),Ye(t,n,n.pendingProps.children,s),yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=oe)&&(l=t2(l,n.type,n.pendingProps,Un),l!==null?(n.stateNode=l,Ze=n,oe=kn(l.firstChild),Un=!1,c=!0):c=!1),c||Ts(n)),Vi(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,bf(c,h)?l=null:g!==null&&bf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Eh(t,n,g1,null,null,s),Gl._currentValue=c),yu(t,n),Ye(t,n,l,s),n.child;case 6:return t===null&&Ut&&((t=s=oe)&&(s=e2(s,n.pendingProps,Un),s!==null?(n.stateNode=s,Ze=n,oe=null,t=!0):t=!1),t||Ts(n)),null;case 13:return Fg(t,n,s);case 4:return Ee(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Sa(n,null,l,s):Ye(t,n,l,s),n.child;case 11:return Ug(t,n,n.type,n.pendingProps,s);case 7:return Ye(t,n,n.pendingProps,s),n.child;case 8:return Ye(t,n,n.pendingProps.children,s),n.child;case 12:return Ye(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bs(n,n.type,l.value),Ye(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ea(n),c=Fe(c),l=l(c),n.flags|=1,Ye(t,n,l,s),n.child;case 14:return Bg(t,n,n.type,n.pendingProps,s);case 15:return kg(t,n,n.type,n.pendingProps,s);case 19:return Xg(t,n,s);case 31:return A1(t,n,s);case 22:return Pg(t,n,s,n.pendingProps);case 24:return Ea(n),l=Fe(De),t===null?(c=ch(),c===null&&(c=ae,h=oh(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),n.memoizedState={parent:l,cache:c},fh(n),bs(n,De,c)):((t.lanes&s)!==0&&(dh(t,n),Sl(n,null,null,s),Al()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),bs(n,De,l)):(l=h.cache,bs(n,De,l),l!==c.cache&&lh(n,[De],s,!0))),Ye(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(t){t.flags|=4}function Yh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw Aa=nu,hh}else t.flags&=-16777217}function Jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n))if(Ap())t.flags|=8192;else throw Aa=nu,hh}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xo():536870912,t.lanes|=n,_r|=n)}function Dl(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ue(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function x1(t,n,s){var l=n.pendingProps;switch(nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qi(De),Xt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ar(n)?Fi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),ue(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Fi(n),h!==null?(ue(n),Jg(n,h)):(ue(n),Yh(n,c,null,l,s))):h?h!==t.memoizedState?(Fi(n),ue(n),Jg(n,h)):(ue(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(n),ue(n),Yh(n,c,t,l,s)),null;case 27:if(te(n),s=wt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ue(n),null}t=rt.current,ar(n)?Dm(n):(t=sy(c,l,s),n.stateNode=t,Fi(n))}return ue(n),null;case 5:if(te(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(h=rt.current,ar(n))Dm(n);else{var g=Ou(wt.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[Re]=n,h[Pe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Xe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(n)}}return ue(n),Yh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=wt.current,ar(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Fp(t.nodeValue,s)),t||Ts(n,!0)}else t=Ou(t).createTextNode(l),t[Re]=n,n.stateNode=t}return ue(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ar(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Re]=n}else _a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),t=!1}else s=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Re]=n}else _a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),c=!1}else c=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),vu(n,n.updateQueue),ue(n),null);case 4:return Xt(),t===null&&yf(n.stateNode.containerInfo),ue(n),null;case 10:return qi(n.type),ue(n),null;case 19:if(Y(Ae),l=n.memoizedState,l===null)return ue(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Dl(l,!1);else{if(ve!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=ru(t),h!==null){for(n.flags|=128,Dl(l,!1),t=h.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)xm(s,t),s=s.sibling;return nt(Ae,Ae.current&1|2),Ut&&Pi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ke()>Su&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304)}else{if(!c)if(t=ru(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ut)return ue(n),null}else 2*ke()-l.renderingStartTime>Su&&s!==536870912&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ke(),t.sibling=null,s=Ae.current,nt(Ae,c?s&1|2:s&1),Ut&&Pi(n,l.treeForkCount),t):(ue(n),null);case 22:case 23:return An(n),yh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),s=n.updateQueue,s!==null&&vu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(Ta),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qi(De),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function w1(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qi(De),Xt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return te(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));_a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));_a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return Xt(),null;case 10:return qi(n.type),null;case 22:case 23:return An(n),yh(),t!==null&&Y(Ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qi(De),null;case 25:return null;default:return null}}function $g(t,n){switch(nh(n),n.tag){case 3:qi(De),Xt();break;case 26:case 27:case 5:te(n);break;case 4:Xt();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Y(Ae);break;case 10:qi(n.type);break;case 22:case 23:An(n),yh(),t!==null&&Y(Ta);break;case 24:qi(De)}}function Ml(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var h=s.create,g=s.inst;l=h(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Wt(n,n.return,E)}}function Cs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=s,B=E;try{B()}catch(Z){Wt(c,C,Z)}}}l=l.next}while(l!==h)}}catch(Z){Wt(n,n.return,Z)}}function Wg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{qm(n,s)}catch(l){Wt(t,t.return,l)}}}function tp(t,n,s){s.props=wa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(t,n,l)}}function Vl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Wt(t,n,c)}}function Ai(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Wt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Wt(t,n,c)}else s.current=null}function ep(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Wt(t,t.return,c)}}function Xh(t,n,s){try{var l=t.stateNode;Y1(l,t.type,s,n),l[Pe]=n}catch(c){Wt(t,t.return,c)}}function np(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ls(t.type)||t.tag===4}function Kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(l!==4&&(l===27&&Ls(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Jh(t,n,s),t=t.sibling;t!==null;)Jh(t,n,s),t=t.sibling}function Eu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ls(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Eu(t,n,s),t=t.sibling;t!==null;)Eu(t,n,s),t=t.sibling}function ip(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Xe(n,l,s),n[Re]=t,n[Pe]=s}catch(h){Wt(t,t.return,h)}}var Yi=!1,Ie=!1,$h=!1,sp=typeof WeakSet=="function"?WeakSet:Set,qe=null;function R1(t,n){if(t=t.containerInfo,Ef=Pu,t=pm(t),Qc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,B=0,Z=0,X=t,k=null;e:for(;;){for(var q;X!==s||c!==0&&X.nodeType!==3||(E=g+c),X!==h||l!==0&&X.nodeType!==3||(C=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)k=X,X=q;for(;;){if(X===t)break e;if(k===s&&++B===c&&(E=g),k===h&&++Z===l&&(C=g),(q=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Tf={focusedElem:t,selectionRange:s},Pu=!1,qe=n;qe!==null;)if(n=qe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,qe=t;else for(;qe!==null;){switch(n=qe,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=n,c=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var ot=wa(s.type,c);t=l.getSnapshotBeforeUpdate(ot,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Wt(s,s.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Sf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,qe=t;break}qe=n.return}}function ap(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(t,s),l&4&&Ml(5,s);break;case 1:if(Ki(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Wt(s,s.return,g)}else{var c=wa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(s,s.return,g)}}l&64&&Wg(s),l&512&&Vl(s,s.return);break;case 3:if(Ki(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qm(t,n)}catch(g){Wt(s,s.return,g)}}break;case 27:n===null&&l&4&&ip(s);case 26:case 5:Ki(t,s),n===null&&l&4&&ep(s),l&512&&Vl(s,s.return);break;case 12:Ki(t,s);break;case 31:Ki(t,s),l&4&&op(t,s);break;case 13:Ki(t,s),l&4&&up(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=j1.bind(null,s),n2(t,s))));break;case 22:if(l=s.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||Ie,c=Yi;var h=Ie;Yi=l,(Ie=n)&&!h?Ji(t,s,(s.subtreeFlags&8772)!==0):Ki(t,s),Yi=c,Ie=h}break;case 30:break;default:Ki(t,s)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,hn=!1;function Xi(t,n,s){for(s=s.child;s!==null;)lp(t,n,s),s=s.sibling}function lp(t,n,s){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(P,s)}catch{}switch(s.tag){case 26:Ie||Ai(s,n),Xi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||Ai(s,n);var l=fe,c=hn;Ls(s.type)&&(fe=s.stateNode,hn=!1),Xi(t,n,s),Pl(s.stateNode),fe=l,hn=c;break;case 5:Ie||Ai(s,n);case 6:if(l=fe,c=hn,fe=null,Xi(t,n,s),fe=l,hn=c,fe!==null)if(hn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(h){Wt(s,n,h)}else try{fe.removeChild(s.stateNode)}catch(h){Wt(s,n,h)}break;case 18:fe!==null&&(hn?(t=fe,Wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wr(t)):Wp(fe,s.stateNode));break;case 4:l=fe,c=hn,fe=s.stateNode.containerInfo,hn=!0,Xi(t,n,s),fe=l,hn=c;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Ie||Cs(4,s,n),Xi(t,n,s);break;case 1:Ie||(Ai(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&tp(s,n,l)),Xi(t,n,s);break;case 21:Xi(t,n,s);break;case 22:Ie=(l=Ie)||s.memoizedState!==null,Xi(t,n,s),Ie=l;break;default:Xi(t,n,s)}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wr(t)}catch(s){Wt(n,n.return,s)}}}function up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wr(t)}catch(s){Wt(n,n.return,s)}}function C1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new sp),n;default:throw Error(a(435,t.tag))}}function Tu(t,n){var s=C1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=z1.bind(null,t,l);l.then(c,c)}})}function fn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){fe=E.stateNode,hn=!1;break t}break;case 5:fe=E.stateNode,hn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));lp(h,g,c),fe=null,hn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cp(n,t),n=n.sibling}var ni=null;function cp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),l&4&&(Cs(3,t,t.return),Ml(3,t),Cs(5,t,t.return));break;case 1:fn(n,t),dn(t),l&512&&(Ie||s===null||Ai(s,s.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=ni;if(fn(n,t),dn(t),l&512&&(Ie||s===null||Ai(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ui]||h[Re]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Xe(h,l,s),h[Re]=t,Ce(h),l=h;break t;case"link":var g=cy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),Xe(h,l,s),c.head.appendChild(h);break;case"meta":if(g=cy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}h=c.createElement(l),Xe(h,l,s),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[Re]=t,Ce(h),l=h}t.stateNode=l}else hy(c,t.type,t.stateNode);else t.stateNode=uy(c,l,t.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?hy(c,t.type,t.stateNode):uy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xh(t,t.memoizedProps,s.memoizedProps)}break;case 27:fn(n,t),dn(t),l&512&&(Ie||s===null||Ai(s,s.return)),s!==null&&l&4&&Xh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,t),dn(t),l&512&&(Ie||s===null||Ai(s,s.return)),t.flags&32){c=t.stateNode;try{cn(c,"")}catch(ot){Wt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Xh(t,c,s!==null?s.memoizedProps:c)),l&1024&&($h=!0);break;case 6:if(fn(n,t),dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ot){Wt(t,t.return,ot)}}break;case 3:if(zu=null,c=ni,ni=Lu(n.containerInfo),fn(n,t),ni=c,dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{wr(n.containerInfo)}catch(ot){Wt(t,t.return,ot)}$h&&($h=!1,hp(t));break;case 4:l=ni,ni=Lu(t.stateNode.containerInfo),fn(n,t),dn(t),ni=l;break;case 12:fn(n,t),dn(t);break;case 31:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tu(t,l)));break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Au=ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tu(t,l)));break;case 22:c=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,B=Yi,Z=Ie;if(Yi=B||c,Ie=Z||C,fn(n,t),Ie=Z,Yi=B,dn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||C||Yi||Ie||Ra(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(h=C.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ot){Wt(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ot){Wt(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;c?ty(q,!0):ty(C.stateNode,!1)}catch(ot){Wt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Tu(t,s))));break;case 19:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tu(t,l)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(np(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,h=Kh(t);Eu(t,h,c);break;case 5:var g=s.stateNode;s.flags&32&&(cn(g,""),s.flags&=-33);var E=Kh(t);Eu(t,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,B=Kh(t);Jh(t,B,C);break;default:throw Error(a(161))}}catch(Z){Wt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ap(t,n.alternate,n),n=n.sibling}function Ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),Ra(n);break;case 1:Ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&tp(n,n.return,s),Ra(n);break;case 27:Pl(n.stateNode);case 26:case 5:Ai(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}t=t.sibling}}function Ji(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Ji(c,h,s),Ml(4,h);break;case 1:if(Ji(c,h,s),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Wt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Hm(C[c],E)}catch(B){Wt(l,l.return,B)}}s&&g&64&&Wg(h),Vl(h,h.return);break;case 27:ip(h);case 26:case 5:Ji(c,h,s),s&&l===null&&g&4&&ep(h),Vl(h,h.return);break;case 12:Ji(c,h,s);break;case 31:Ji(c,h,s),s&&g&4&&op(c,h);break;case 13:Ji(c,h,s),s&&g&4&&up(c,h);break;case 22:h.memoizedState===null&&Ji(c,h,s),Vl(h,h.return);break;case 30:break;default:Ji(c,h,s)}n=n.sibling}}function Wh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&_l(s))}function tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function ii(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,s,l),n=n.sibling}function fp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,s,l),c&2048&&Ml(9,n);break;case 1:ii(t,n,s,l);break;case 3:ii(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(c&2048){ii(t,n,s,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Wt(n,n.return,C)}}else ii(t,n,s,l);break;case 31:ii(t,n,s,l);break;case 13:ii(t,n,s,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?ii(t,n,s,l):Il(t,n):h._visibility&2?ii(t,n,s,l):(h._visibility|=2,gr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Wh(g,n);break;case 24:ii(t,n,s,l),c&2048&&tf(n.alternate,n);break;default:ii(t,n,s,l)}}function gr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=s,C=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:gr(h,g,E,C,c),Ml(8,g);break;case 23:break;case 22:var Z=g.stateNode;g.memoizedState!==null?Z._visibility&2?gr(h,g,E,C,c):Il(h,g):(Z._visibility|=2,gr(h,g,E,C,c)),c&&B&2048&&Wh(g.alternate,g);break;case 24:gr(h,g,E,C,c),c&&B&2048&&tf(g.alternate,g);break;default:gr(h,g,E,C,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Il(s,l),c&2048&&Wh(l.alternate,l);break;case 24:Il(s,l),c&2048&&tf(l.alternate,l);break;default:Il(s,l)}n=n.sibling}}var Ol=8192;function pr(t,n,s){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)dp(t,n,s),t=t.sibling}function dp(t,n,s){switch(t.tag){case 26:pr(t,n,s),t.flags&Ol&&t.memoizedState!==null&&m2(s,ni,t.memoizedState,t.memoizedProps);break;case 5:pr(t,n,s);break;case 3:case 4:var l=ni;ni=Lu(t.stateNode.containerInfo),pr(t,n,s),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,pr(t,n,s),Ol=l):pr(t,n,s));break;default:pr(t,n,s)}}function mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,pp(l,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):Ll(t);break;default:Ll(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,pp(l,t)}mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),bu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function pp(t,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qe=l;else t:for(s=t;qe!==null;){l=qe;var c=l.sibling,h=l.return;if(rp(l),l===s){qe=null;break t}if(c!==null){c.return=h,qe=c;break t}qe=h}}}var N1={getCacheForType:function(t){var n=Fe(De),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Fe(De).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ae=null,Mt=null,Ot=0,$t=0,Sn=null,Ns=!1,yr=!1,ef=!1,$i=0,ve=0,Ds=0,Ca=0,nf=0,xn=0,_r=0,jl=null,mn=null,sf=!1,Au=0,yp=0,Su=1/0,xu=null,Ms=null,je=0,Vs=null,vr=null,Wi=0,af=0,rf=null,_p=null,zl=0,lf=null;function wn(){return(Zt&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?df():wo()}function vp(){if(xn===0)if((Ot&536870912)===0||Ut){var t=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),xn=t}else xn=536870912;return t=bn.current,t!==null&&(t.flags|=32),xn}function gn(t,n,s){(t===ae&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(Er(t,0),Is(t,Ot,xn,!1)),na(t,s),((Zt&2)===0||t!==ae)&&(t===ae&&((Zt&2)===0&&(Ca|=s),ve===4&&Is(t,Ot,xn,!1)),Si(t))}function Ep(t,n,s){if((Zt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),c=l?I1(t,n):uf(t,n,!0),h=l;do{if(c===0){yr&&!l&&Is(t,n,0,!1);break}else{if(s=t.current.alternate,h&&!M1(s)){c=uf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=jl;var C=E.current.memoizedState.isDehydrated;if(C&&(Er(E,g).flags|=256),g=uf(E,g,!1),g!==2){if(ef&&!C){E.errorRecoveryDisabledLanes|=h,Ca|=h,c=4;break t}h=mn,mn=c,h!==null&&(mn===null?mn=h:mn.push.apply(mn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Er(t,0),Is(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(l,n,xn,!Ns);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Au+300-ke(),10<c)){if(Is(l,n,xn,!Ns),ri(l,0,!0)!==0)break t;Wi=n,l.timeoutHandle=Jp(Tp.bind(null,l,s,mn,xu,sf,n,xn,Ca,_r,Ns,h,"Throttled",-0,0),c);break t}Tp(l,s,mn,xu,sf,n,xn,Ca,_r,Ns,h,null,-0,0)}}break}while(!0);Si(t)}function Tp(t,n,s,l,c,h,g,E,C,B,Z,X,k,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},dp(n,h,X);var ot=(h&62914560)===h?Au-ke():(h&4194048)===h?yp-ke():0;if(ot=g2(X,ot),ot!==null){Wi=h,t.cancelPendingCommit=ot(Np.bind(null,t,n,h,s,l,c,g,E,C,Z,X,null,k,q)),Is(t,h,g,!B);return}}Np(t,n,h,s,l,c,g,E,C)}function M1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!En(h(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(t,n,s,l){n&=~nf,n&=~Ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-ut(c),g=1<<h;l[h]=-1,c&=~g}s!==0&&ia(t,s,n)}function wu(){return(Zt&6)===0?(Ul(0),!1):!0}function of(){if(Mt!==null){if($t===0)var t=Mt.return;else t=Mt,Hi=va=null,Ah(t),cr=null,El=0,t=Mt;for(;t!==null;)$g(t.alternate,t),t=t.return;Mt=null}}function Er(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,J1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Wi=0,of(),ae=t,Mt=s=ki(t.current,null),Ot=n,$t=0,Sn=null,Ns=!1,yr=Fn(t,n),ef=!1,_r=xn=nf=Ca=Ds=ve=0,mn=jl=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ut(l),h=1<<c;n|=t[c],l&=~h}return $i=n,Fo(),s}function bp(t,n){Ct=null,Q.H=Cl,n===ur||n===eu?(n=Um(),$t=3):n===hh?(n=Um(),$t=4):$t=n===Bh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Mt===null&&(ve=1,gu(t,Ln(n,t.current)))}function Ap(){var t=bn.current;return t===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===Bn:!1}function Sp(){var t=Q.H;return Q.H=Cl,t===null?Cl:t}function xp(){var t=Q.A;return Q.A=N1,t}function Ru(){ve=4,Ns||(Ot&4194048)!==Ot&&bn.current!==null||(yr=!0),(Ds&134217727)===0&&(Ca&134217727)===0||ae===null||Is(ae,Ot,xn,!1)}function uf(t,n,s){var l=Zt;Zt|=2;var c=Sp(),h=xp();(ae!==t||Ot!==n)&&(xu=null,Er(t,n)),n=!1;var g=ve;t:do try{if($t!==0&&Mt!==null){var E=Mt,C=Sn;switch($t){case 8:of(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var B=$t;if($t=0,Sn=null,Tr(t,E,C,B),s&&yr){g=0;break t}break;default:B=$t,$t=0,Sn=null,Tr(t,E,C,B)}}V1(),g=ve;break}catch(Z){bp(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Hi=va=null,Zt=l,Q.H=c,Q.A=h,Mt===null&&(ae=null,Ot=0,Fo()),g}function V1(){for(;Mt!==null;)wp(Mt)}function I1(t,n){var s=Zt;Zt|=2;var l=Sp(),c=xp();ae!==t||Ot!==n?(xu=null,Su=ke()+500,Er(t,n)):yr=Fn(t,n);t:do try{if($t!==0&&Mt!==null){n=Mt;var h=Sn;e:switch($t){case 1:$t=0,Sn=null,Tr(t,n,h,1);break;case 2:case 9:if(jm(h)){$t=0,Sn=null,Rp(n);break}n=function(){$t!==2&&$t!==9||ae!==t||($t=7),Si(t)},h.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:jm(h)?($t=0,Sn=null,Rp(n)):($t=0,Sn=null,Tr(t,n,h,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?fy(g):E.stateNode.complete){$t=0,Sn=null;var C=E.sibling;if(C!==null)Mt=C;else{var B=E.return;B!==null?(Mt=B,Cu(B)):Mt=null}break e}}$t=0,Sn=null,Tr(t,n,h,5);break;case 6:$t=0,Sn=null,Tr(t,n,h,6);break;case 8:of(),ve=6;break t;default:throw Error(a(462))}}O1();break}catch(Z){bp(t,Z)}while(!0);return Hi=va=null,Q.H=l,Q.A=c,Zt=s,Mt!==null?0:(ae=null,Ot=0,Fo(),ve)}function O1(){for(;Mt!==null&&!Fr();)wp(Mt)}function wp(t){var n=Kg(t.alternate,t,$i);t.memoizedProps=t.pendingProps,n===null?Cu(t):Mt=n}function Rp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Gg(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Gg(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Ah(n);default:$g(s,n),n=Mt=xm(n,$i),n=Kg(s,n,$i)}t.memoizedProps=t.pendingProps,n===null?Cu(t):Mt=n}function Tr(t,n,s,l){Hi=va=null,Ah(n),cr=null,El=0;var c=n.return;try{if(b1(t,c,n,s,Ot)){ve=1,gu(t,Ln(s,t.current)),Mt=null;return}}catch(h){if(c!==null)throw Mt=c,h;ve=1,gu(t,Ln(s,t.current)),Mt=null;return}n.flags&32768?(Ut||l===1?t=!0:yr||(Ot&536870912)!==0?t=!1:(Ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){Cp(n,Ns);return}t=n.return;var s=x1(n.alternate,n,$i);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=t}while(n!==null);ve===0&&(ve=5)}function Cp(t,n){do{var s=w1(t.alternate,t);if(s!==null){s.flags&=32767,Mt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=s}while(t!==null);ve=6,Mt=null}function Np(t,n,s,l,c,h,g,E,C){t.cancelPendingCommit=null;do Nu();while(je!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Kc,Pc(t,s,h,g,E,C),t===ae&&(Mt=ae=null,Ot=0),vr=n,Vs=t,Wi=s,af=h,rf=c,_p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,U1(Qn,function(){return Op(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=W.p,W.p=2,g=Zt,Zt|=4;try{R1(t,n,s)}finally{Zt=g,W.p=c,Q.T=l}}je=1,Dp(),Mp(),Vp()}}function Dp(){if(je===1){je=0;var t=Vs,n=vr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=W.p;W.p=2;var c=Zt;Zt|=4;try{cp(n,t);var h=Tf,g=pm(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&gm(E.ownerDocument.documentElement,E)){if(C!==null&&Qc(E)){var B=C.start,Z=C.end;if(Z===void 0&&(Z=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Z,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var q=k.getSelection(),ot=E.textContent.length,yt=Math.min(C.start,ot),se=C.end===void 0?yt:Math.min(C.end,ot);!q.extend&&yt>se&&(g=se,se=yt,yt=g);var L=mm(E,yt),V=mm(E,se);if(L&&V&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var U=X.createRange();U.setStart(L.node,L.offset),q.removeAllRanges(),yt>se?(q.addRange(U),q.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),q.addRange(U))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Pu=!!Ef,Tf=Ef=null}finally{Zt=c,W.p=l,Q.T=s}}t.current=n,je=2}}function Mp(){if(je===2){je=0;var t=Vs,n=vr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=W.p;W.p=2;var c=Zt;Zt|=4;try{ap(t,n.alternate,n)}finally{Zt=c,W.p=l,Q.T=s}}je=3}}function Vp(){if(je===4||je===3){je=0,Ua();var t=Vs,n=vr,s=Wi,l=_p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,vr=Vs=null,Ip(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ms=null),ji(s),n=n.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(P,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=W.p,W.p=2,Q.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{Q.T=n,W.p=c}}(Wi&3)!==0&&Nu(),Si(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===lf?zl++:(zl=0,lf=t):zl=0,Ul(0)}}function Ip(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function Nu(){return Dp(),Mp(),Vp(),Op()}function Op(){if(je!==5)return!1;var t=Vs,n=af;af=0;var s=ji(Wi),l=Q.T,c=W.p;try{W.p=32>s?32:s,Q.T=null,s=rf,rf=null;var h=Vs,g=Wi;if(je=0,vr=Vs=null,Wi=0,(Zt&6)!==0)throw Error(a(331));var E=Zt;if(Zt|=4,gp(h.current),fp(h,h.current,g,s),Zt=E,Ul(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(P,h)}catch{}return!0}finally{W.p=c,Q.T=l,Ip(t,n)}}function Lp(t,n,s){n=Ln(s,n),n=Uh(t.stateNode,n,2),t=xs(t,n,2),t!==null&&(na(t,2),Si(t))}function Wt(t,n,s){if(t.tag===3)Lp(t,t,s);else for(;n!==null;){if(n.tag===3){Lp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ms===null||!Ms.has(l))){t=Ln(s,t),s=jg(2),l=xs(n,s,2),l!==null&&(zg(s,l,n,t),na(l,2),Si(l));break}}n=n.return}}function cf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new D1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(ef=!0,c.add(s),t=L1.bind(null,t,n,s),n.then(t,t))}function L1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ae===t&&(Ot&s)===s&&(ve===4||ve===3&&(Ot&62914560)===Ot&&300>ke()-Au?(Zt&2)===0&&Er(t,0):nf|=s,_r===Ot&&(_r=0)),Si(t)}function jp(t,n){n===0&&(n=xo()),t=pa(t,n),t!==null&&(na(t,n),Si(t))}function j1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),jp(t,s)}function z1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jp(t,s)}function U1(t,n){return Te(t,n)}var Du=null,br=null,hf=!1,Mu=!1,ff=!1,Os=0;function Si(t){t!==br&&t.next===null&&(br===null?Du=br=t:br=br.next=t),Mu=!0,hf||(hf=!0,k1())}function Ul(t,n){if(!ff&&Mu){ff=!0;do for(var s=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-ut(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,kp(l,h))}else h=Ot,h=ri(l,l===ae?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Fn(l,h)||(s=!0,kp(l,h));l=l.next}while(s);ff=!1}}function B1(){zp()}function zp(){Mu=hf=!1;var t=0;Os!==0&&K1()&&(t=Os);for(var n=ke(),s=null,l=Du;l!==null;){var c=l.next,h=Up(l,n);h===0?(l.next=null,s===null?Du=c:s.next=c,c===null&&(br=s)):(s=l,(t!==0||(h&3)!==0)&&(Mu=!0)),l=c}je!==0&&je!==5||Ul(t),Os!==0&&(Os=0)}function Up(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-ut(h),E=1<<g,C=c[g];C===-1?((E&s)===0||(E&l)!==0)&&(c[g]=kc(E,n)):C<=n&&(t.expiredLanes|=E),h&=~E}if(n=ae,s=Ot,s=ri(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Fn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ai(l),ji(s)){case 2:case 8:s=os;break;case 32:s=Qn;break;case 268435456:s=Ba;break;default:s=Qn}return l=Bp.bind(null,t),s=Te(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function Bp(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Nu()&&t.callbackNode!==s)return null;var l=Ot;return l=ri(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ep(t,l,n),Up(t,ke()),t.callbackNode!=null&&t.callbackNode===s?Bp.bind(null,t):null)}function kp(t,n){if(Nu())return null;Ep(t,n,!0)}function k1(){$1(function(){(Zt&6)!==0?Te(ls,B1):zp()})}function df(){if(Os===0){var t=lr;t===0&&(t=tn,tn<<=1,(tn&261888)===0&&(tn=256)),Os=t}return Os}function Pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Za(""+t)}function Hp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function P1(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var h=Pp((c[Pe]||null).action),g=l.submitter;g&&(n=(n=g[Pe]||null)?Pp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new yi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var C=g?Hp(c,g):new FormData(c);Vh(s,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=g?Hp(c,g):new FormData(c),Vh(s,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var mf=0;mf<Xc.length;mf++){var gf=Xc[mf],H1=gf.toLowerCase(),q1=gf[0].toUpperCase()+gf.slice(1);ei(H1,"on"+q1)}ei(vm,"onAnimationEnd"),ei(Em,"onAnimationIteration"),ei(Tm,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(a1,"onTransitionRun"),ei(r1,"onTransitionStart"),ei(l1,"onTransitionCancel"),ei(bm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function qp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(Z){Zo(Z)}c.currentTarget=null,h=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(Z){Zo(Z)}c.currentTarget=null,h=C}}}}function Vt(t,n){var s=n[Pa];s===void 0&&(s=n[Pa]=new Set);var l=t+"__bubble";s.has(l)||(Gp(n,t,2,!1),s.add(l))}function pf(t,n,s){var l=0;n&&(l|=4),Gp(s,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[Vu]){t[Vu]=!0,Jr.forEach(function(s){s!=="selectionchange"&&(G1.has(s)||pf(s,!1,t),pf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,pf("selectionchange",!1,n))}}function Gp(t,n,s,l){switch(vy(n)){case 2:var c=_2;break;case 8:c=v2;break;default:c=Vf}s=c.bind(null,n,s,t),c=void 0,!oa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function _f(t,n,s,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ci(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=h=g;continue t}E=E.parentNode}}l=l.return}gs(function(){var B=h,Z=Mn(s),X=[];t:{var k=Am.get(t);if(k!==void 0){var q=yi,ot=t;switch(t){case"keypress":if(ca(s)===0)break t;case"keydown":case"keyup":q=qo;break;case"focusin":ot="focus",q=fa;break;case"focusout":ot="blur",q=fa;break;case"beforeblur":case"afterblur":q=fa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case vm:case Em:case Tm:q=jo;break;case bm:q=b;break;case"scroll":case"scrollend":q=ul;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=Rt}var yt=(n&4)!==0,se=!yt&&(t==="scroll"||t==="scrollend"),L=yt?k!==null?k+"Capture":null:k;yt=[];for(var V=B,U;V!==null;){var F=V;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||L===null||(F=Jn(V,L),F!=null&&yt.push(kl(V,F,U))),se)break;V=V.return}0<yt.length&&(k=new q(k,ot,null,s,Z),X.push({event:k,listeners:yt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&s!==rl&&(ot=s.relatedTarget||s.fromElement)&&(ci(ot)||ot[oi]))break t;if((q||k)&&(k=Z.window===Z?Z:(k=Z.ownerDocument)?k.defaultView||k.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=B,ot=ot?ci(ot):null,ot!==null&&(se=f(ot),yt=ot.tag,ot!==se||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(q=null,ot=B),q!==ot)){if(yt=cl,F="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Bi,F="onPointerLeave",L="onPointerEnter",V="pointer"),se=q==null?k:_n(q),U=ot==null?k:_n(ot),k=new yt(F,V+"leave",q,s,Z),k.target=se,k.relatedTarget=U,F=null,ci(Z)===B&&(yt=new yt(L,V+"enter",ot,s,Z),yt.target=U,yt.relatedTarget=se,F=yt),se=F,q&&ot)e:{for(yt=Q1,L=q,V=ot,U=0,F=L;F;F=yt(F))U++;F=0;for(var dt=V;dt;dt=yt(dt))F++;for(;0<U-F;)L=yt(L),U--;for(;0<F-U;)V=yt(V),F--;for(;U--;){if(L===V||V!==null&&L===V.alternate){yt=L;break e}L=yt(L),V=yt(V)}yt=null}else yt=null;q!==null&&Qp(X,k,q,yt,!1),ot!==null&&se!==null&&Qp(X,se,ot,yt,!0)}}t:{if(k=B?_n(B):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var qt=om;else if(rm(k))if(um)qt=n1;else{qt=t1;var ct=Wv}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Qa(B.elementType)&&(qt=om):qt=e1;if(qt&&(qt=qt(t,B))){lm(X,qt,s,Z);break t}ct&&ct(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&il(k,"number",k.value)}switch(ct=B?_n(B):window,t){case"focusin":(rm(ct)||ct.contentEditable==="true")&&(Wa=ct,Zc=B,gl=null);break;case"focusout":gl=Zc=Wa=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,ym(X,s,Z);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":ym(X,s,Z)}var Nt;if(Qt)t:{switch(t){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else $a?da(t,s)&&(Lt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ei&&s.locale!=="ko"&&($a||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&$a&&(Nt=ol()):(pi=Z,ll="value"in pi?pi.value:pi.textContent,$a=!0)),ct=Iu(B,Lt),0<ct.length&&(Lt=new vi(Lt,t,null,s,Z),X.push({event:Lt,listeners:ct}),Nt?Lt.data=Nt:(Nt=Ja(s),Nt!==null&&(Lt.data=Nt)))),(Nt=In?Xv(t,s):Kv(t,s))&&(Lt=Iu(B,"onBeforeInput"),0<Lt.length&&(ct=new vi("onBeforeInput","beforeinput",null,s,Z),X.push({event:ct,listeners:Lt}),ct.data=Nt)),P1(X,t,B,s,Z)}qp(X,n)})}function kl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Iu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Jn(t,s),c!=null&&l.unshift(kl(t,c,h)),c=Jn(t,n),c!=null&&l.push(kl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Q1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qp(t,n,s,l,c){for(var h=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=Jn(s,h),B!=null&&g.unshift(kl(s,B,C))):c||(B=Jn(s,h),B!=null&&g.push(kl(s,B,C)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var Z1=/\r\n?/g,F1=/\u0000|\uFFFD/g;function Zp(t){return(typeof t=="string"?t:""+t).replace(Z1,`
`).replace(F1,"")}function Fp(t,n){return n=Zp(n),Zp(t)===n}function ie(t,n,s,l,c,h){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&cn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,s,l);break;case"style":al(t,l,h);break;case"data":if(n!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Za(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&ie(t,n,"name",c.name,c,null),ie(t,n,"formEncType",c.formEncType,c,null),ie(t,n,"formMethod",c.formMethod,c,null),ie(t,n,"formTarget",c.formTarget,c,null)):(ie(t,n,"encType",c.encType,c,null),ie(t,n,"method",c.method,c,null),ie(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Za(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),qa(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Io.get(s)||s,qa(t,s,l))}}function vf(t,n,s,l,c,h){switch(s){case"style":al(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),h=t[Pe]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):qa(t,s,l)}}}function Xe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var g=s[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(t,n,h,g,s,null)}}c&&ie(t,n,"srcSet",s.srcSet,s,null),l&&ie(t,n,"src",s.src,s,null);return;case"input":Vt("invalid",t);var E=h=g=c=null,C=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":c=Z;break;case"type":g=Z;break;case"checked":C=Z;break;case"defaultChecked":B=Z;break;case"value":h=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:ie(t,n,l,Z,s,null)}}Do(t,h,E,C,B,g,c,!1);return;case"select":Vt("invalid",t),l=g=h=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ie(t,n,c,E,s,null)}n=h,s=g,t.multiple=!!l,n!=null?hs(t,!!l,n,!1):s!=null&&hs(t,!!l,s,!0);return;case"textarea":Vt("invalid",t),h=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(t,n,g,E,s,null)}fs(t,l,c,h);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ie(t,n,C,l,s,null));return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Vt(Bl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(t,n,B,l,s,null)}return;default:if(Qa(n)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&vf(t,n,Z,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ie(t,n,E,l,s,null))}function Y1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,C=null,B=null,Z=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(q)||ie(t,n,q,null,l,X)}}for(var k in l){var q=l[k];if(X=s[k],l.hasOwnProperty(k)&&(q!=null||X!=null))switch(k){case"type":h=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":Z=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ie(t,n,k,q,l,X)}}Ga(t,g,E,C,B,Z,h,c);return;case"select":q=g=E=k=null;for(h in s)if(C=s[h],s.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(h)||ie(t,n,h,null,l,C)}for(c in l)if(h=l[c],C=s[c],l.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":k=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==C&&ie(t,n,c,h,l,C)}n=E,s=g,l=q,k!=null?hs(t,!!s,k,!1):!!l!=!!s&&(n!=null?hs(t,!!s,n,!0):hs(t,!!s,s?[]:"",!1));return;case"textarea":q=k=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=s[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&ie(t,n,g,c,l,h)}Mo(t,k,q);return;case"option":for(var ot in s)k=s[ot],s.hasOwnProperty(ot)&&k!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?t.selected=!1:ie(t,n,ot,null,l,k));for(C in l)k=l[C],q=s[C],l.hasOwnProperty(C)&&k!==q&&(k!=null||q!=null)&&(C==="selected"?t.selected=k&&typeof k!="function"&&typeof k!="symbol":ie(t,n,C,k,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)k=s[yt],s.hasOwnProperty(yt)&&k!=null&&!l.hasOwnProperty(yt)&&ie(t,n,yt,null,l,k);for(B in l)if(k=l[B],q=s[B],l.hasOwnProperty(B)&&k!==q&&(k!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:ie(t,n,B,k,l,q)}return;default:if(Qa(n)){for(var se in s)k=s[se],s.hasOwnProperty(se)&&k!==void 0&&!l.hasOwnProperty(se)&&vf(t,n,se,void 0,l,k);for(Z in l)k=l[Z],q=s[Z],!l.hasOwnProperty(Z)||k===q||k===void 0&&q===void 0||vf(t,n,Z,k,l,q);return}}for(var L in s)k=s[L],s.hasOwnProperty(L)&&k!=null&&!l.hasOwnProperty(L)&&ie(t,n,L,null,l,k);for(X in l)k=l[X],q=s[X],!l.hasOwnProperty(X)||k===q||k==null&&q==null||ie(t,n,X,k,l,q)}function Yp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Yp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var C=s[l],B=C.startTime;if(B>E)break;var Z=C.transferSize,X=C.initiatorType;Z&&Yp(X)&&(C=C.responseEnd,g+=Z*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ef=null,Tf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function Xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function K1(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(W1)}:Jp;function W1(t){setTimeout(function(){throw t})}function Ls(t){return t==="head"}function Wp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),wr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Pl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Pl(s);for(var h=s.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=g}}else s==="body"&&Pl(t.ownerDocument.body);s=c}while(s);wr(n)}function ty(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Sf(s),Ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function t2(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function e2(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kn(t.nextSibling),t===null))return null;return t}function ey(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function xf(t){return t.data==="$?"||t.data==="$~"}function wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function n2(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rf=null;function ny(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return kn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function sy(t,n,s){switch(n=Ou(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ha(t)}var Pn=new Map,ay=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=W.d;W.d={f:i2,r:s2,D:a2,C:r2,L:l2,m:o2,X:c2,S:u2,M:h2};function i2(){var t=ts.f(),n=wu();return t||n}function s2(t){var n=Dn(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):ts.r(t)}var Ar=typeof document>"u"?null:document;function ry(t,n,s){var l=Ar;if(l&&typeof n=="string"&&n){var c=un(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ay.has(c)||(ay.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Xe(n,"link",t),Ce(n),l.head.appendChild(n)))}}function a2(t){ts.D(t),ry("dns-prefetch",t,null)}function r2(t,n){ts.C(t,n),ry("preconnect",t,n)}function l2(t,n,s){ts.L(t,n,s);var l=Ar;if(l&&t&&n){var c='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+un(s.imageSizes)+'"]')):c+='[href="'+un(t)+'"]';var h=c;switch(n){case"style":h=Sr(t);break;case"script":h=xr(t)}Pn.has(h)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Pn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Hl(h))||n==="script"&&l.querySelector(ql(h))||(n=l.createElement("link"),Xe(n,"link",t),Ce(n),l.head.appendChild(n)))}}function o2(t,n){ts.m(t,n);var s=Ar;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=xr(t)}if(!Pn.has(h)&&(t=w({rel:"modulepreload",href:t},n),Pn.set(h,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ql(h)))return}l=s.createElement("link"),Xe(l,"link",t),Ce(l),s.head.appendChild(l)}}}function u2(t,n,s){ts.S(t,n,s);var l=Ar;if(l&&t){var c=hi(l).hoistableStyles,h=Sr(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Hl(h)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Pn.get(h))&&Cf(t,s);var C=g=l.createElement("link");Ce(C),Xe(C,"link",t),C._p=new Promise(function(B,Z){C.onload=B,C.onerror=Z}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function c2(t,n){ts.X(t,n);var s=Ar;if(s&&t){var l=hi(s).hoistableScripts,c=xr(t),h=l.get(c);h||(h=s.querySelector(ql(c)),h||(t=w({src:t,async:!0},n),(n=Pn.get(c))&&Nf(t,n),h=s.createElement("script"),Ce(h),Xe(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function h2(t,n){ts.M(t,n);var s=Ar;if(s&&t){var l=hi(s).hoistableScripts,c=xr(t),h=l.get(c);h||(h=s.querySelector(ql(c)),h||(t=w({src:t,async:!0,type:"module"},n),(n=Pn.get(c))&&Nf(t,n),h=s.createElement("script"),Ce(h),Xe(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ly(t,n,s,l){var c=(c=wt.current)?Lu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sr(s.href),s=hi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Sr(s.href);var h=hi(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Hl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Pn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(t,s),h||f2(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xr(s),s=hi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Sr(t){return'href="'+un(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function oy(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function f2(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xe(n,"link",s),Ce(n),t.head.appendChild(n))}function xr(t){return'[src="'+un(t)+'"]'}function ql(t){return"script[async]"+t}function uy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+un(s.href)+'"]');if(l)return n.instance=l,Ce(l),l;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ce(l),Xe(l,"style",c),ju(l,s.precedence,t),n.instance=l;case"stylesheet":c=Sr(s.href);var h=t.querySelector(Hl(c));if(h)return n.state.loading|=4,n.instance=h,Ce(h),h;l=oy(s),(c=Pn.get(c))&&Cf(l,c),h=(t.ownerDocument||t).createElement("link"),Ce(h);var g=h;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Xe(h,"link",l),n.state.loading|=4,ju(h,s.precedence,t),n.instance=h;case"script":return h=xr(s.src),(c=t.querySelector(ql(h)))?(n.instance=c,Ce(c),c):(l=s,(c=Pn.get(h))&&(l=w({},s),Nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ce(c),Xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,s.precedence,t));return n.instance}function ju(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function cy(t,n,s){if(zu===null){var l=new Map,c=zu=new Map;c.set(s,l)}else c=zu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[ui]||h[Re]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function hy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function d2(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function m2(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Sr(l.href),h=n.querySelector(Hl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=h,Ce(h);return}h=n.ownerDocument||n,l=oy(l),(c=Pn.get(c))&&Cf(l,c),h=h.createElement("link"),Ce(h);var g=h;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Xe(h,"link",l),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Uu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Df=0;function g2(t,n){return t.stylesheets&&t.count===0&&ku(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Df===0&&(Df=62500*X1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ku(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Df?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ku(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function ku(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,n.forEach(p2,t),Bu=null,Uu.call(t))}function p2(t,n){if(!(n.state.loading&4)){var s=Bu.get(t);if(s)var l=s.get(null);else{s=new Map,Bu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=s.get(g)||l,h===l&&s.set(null,c),s.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Gl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function y2(t,n,s,l,c,h,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function dy(t,n,s,l,c,h,g,E,C,B,Z,X){return t=new y2(t,n,s,g,C,B,Z,X,E),n=1,h===!0&&(n|=24),h=Tn(3,null,null,n),t.current=h,h.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:n},fh(h),t}function my(t){return t?(t=nr,t):nr}function gy(t,n,s,l,c,h){c=my(c),l.context===null?l.context=c:l.pendingContext=c,l=Ss(n),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=xs(t,l,n),s!==null&&(gn(s,t,n),bl(s,t,n))}function py(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Mf(t,n){py(t,n),(t=t.alternate)&&py(t,n)}function yy(t){if(t.tag===13||t.tag===31){var n=pa(t,67108864);n!==null&&gn(n,t,67108864),Mf(t,67108864)}}function _y(t){if(t.tag===13||t.tag===31){var n=wn();n=sa(n);var s=pa(t,n);s!==null&&gn(s,t,n),Mf(t,n)}}var Pu=!0;function _2(t,n,s,l){var c=Q.T;Q.T=null;var h=W.p;try{W.p=2,Vf(t,n,s,l)}finally{W.p=h,Q.T=c}}function v2(t,n,s,l){var c=Q.T;Q.T=null;var h=W.p;try{W.p=8,Vf(t,n,s,l)}finally{W.p=h,Q.T=c}}function Vf(t,n,s,l){if(Pu){var c=If(l);if(c===null)_f(t,n,l,Hu,s),Ey(t,l);else if(T2(c,t,n,s,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<E2.indexOf(t)){for(;c!==null;){var h=Dn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=en(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ut(g);E.entanglements[1]|=C,g&=~C}Si(h),(Zt&6)===0&&(Su=ke()+500,Ul(0))}}break;case 31:case 13:E=pa(h,2),E!==null&&gn(E,h,2),wu(),Mf(h,2)}if(h=If(l),h===null&&_f(t,n,l,Hu,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else _f(t,n,l,null,s)}}function If(t){return t=Mn(t),Of(t)}var Hu=null;function Of(t){if(Hu=null,t=ci(t),t!==null){var n=f(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oi()){case ls:return 2;case os:return 8;case Qn:case Yr:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Lf=!1,js=null,zs=null,Us=null,Ql=new Map,Zl=new Map,Bs=[],E2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function Fl(t,n,s,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Dn(n),n!==null&&yy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function T2(t,n,s,l,c){switch(n){case"focusin":return js=Fl(js,t,n,s,l,c),!0;case"dragenter":return zs=Fl(zs,t,n,s,l,c),!0;case"mouseover":return Us=Fl(Us,t,n,s,l,c),!0;case"pointerover":var h=c.pointerId;return Ql.set(h,Fl(Ql.get(h)||null,t,n,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Zl.set(h,Fl(Zl.get(h)||null,t,n,s,l,c)),!0}return!1}function Ty(t){var n=ci(t.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Yn(t.priority,function(){_y(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,Yn(t.priority,function(){_y(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=If(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);rl=l,s.target.dispatchEvent(l),rl=null}else return n=Dn(s),n!==null&&yy(n),t.blockedOn=s,!1;n.shift()}return!0}function by(t,n,s){qu(t)&&s.delete(n)}function b2(){Lf=!1,js!==null&&qu(js)&&(js=null),zs!==null&&qu(zs)&&(zs=null),Us!==null&&qu(Us)&&(Us=null),Ql.forEach(by),Zl.forEach(by)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,Lf||(Lf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b2)))}var Qu=null;function Ay(t){Qu!==t&&(Qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||s)===null)continue;break}var h=Dn(s);h!==null&&(t.splice(n,3),n-=3,Vh(h,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function wr(t){function n(C){return Gu(C,t)}js!==null&&Gu(js,t),zs!==null&&Gu(zs,t),Us!==null&&Gu(Us,t),Ql.forEach(n),Zl.forEach(n);for(var s=0;s<Bs.length;s++){var l=Bs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bs.length&&(s=Bs[0],s.blockedOn===null);)Ty(s),s.blockedOn===null&&Bs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],h=s[l+1],g=c[Pe]||null;if(typeof h=="function")g||Ay(s);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Pe]||null)E=g.formAction;else if(Of(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ay(s)}}}function Sy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function jf(t){this._internalRoot=t}Zu.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=wn();gy(s,l,t,n,null,null)},Zu.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;gy(t.current,2,null,t,null,null),wu(),n[oi]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=wo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Bs.length&&n!==0&&n<Bs[s].priority;s++);Bs.splice(s,0,t),s===0&&Ty(t)}};var xy=e.version;if(xy!=="19.2.3")throw Error(a(527,xy,"19.2.3"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var A2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{P=Fu.inject(A2),it=Fu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Vg,h=Ig,g=Og;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=dy(t,1,!1,null,null,s,l,null,c,h,g,Sy),t[oi]=n.current,yf(t),new jf(n)},Xl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",h=Vg,g=Ig,E=Og,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=dy(t,1,!0,n,s??null,l,c,C,h,g,E,Sy),n.context=my(null),s=n.current,l=wn(),l=sa(l),c=Ss(l),c.callback=null,xs(s,c,l),s=l,n.current.lanes=s,na(n,s),Si(n),t[oi]=n.current,yf(t),new Zu(n)},Xl.version="19.2.3",Xl}var Ly;function L2(){if(Ly)return Bf.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bf.exports=O2(),Bf.exports}var j2=L2();const jy=[{id:"z01",name:"Zone 01",d:"M662 329L663.5 280.5L703 273L696.5 333L662 329Z"},{id:"z02",name:"Zone 02",d:"M428 700.5L444.5 706.5L461.5 702L467.5 624H432.5L428 700.5Z"},{id:"z03",name:"Zone 03",d:"M462 702L518.5 671.5L523 622L468 623.5L462 702Z"},{id:"z04",name:"Zone 04",d:"M553 642L555 620L523 622L518 671L553 642Z"},{id:"z05",name:"Zone 05",d:"M525 609H556.5L585 313L555 278L525 609Z"},{id:"z06",name:"Zone 06",d:"M497 321L502 269L555 277.5L550.5 326L497 321Z"},{id:"z07",name:"Zone 07",d:"M492.5 372L497 321L551 326.5L545.5 375.5L492.5 372Z"},{id:"z08",name:"Zone 08",d:"M487 420.5L492.5 371.5L546 376L541.5 426L487 420.5Z"},{id:"z09",name:"Zone 09",d:"M469 613.5H433L468 254L478.5 255L477.5 261.5L502 269L469 613.5Z"},{id:"z10",name:"Zone 10",d:"M274 411L325 405.5L338.5 220L258.5 232.5L285 289L267 397V405.5L274 411Z"},{id:"z11",name:"Zone 11",d:"M377.5 477L431 493L449 246.5L366.5 221.5L338.5 220L321.5 460.5L367 454L377.5 477Z"},{id:"z12",name:"Zone 12",d:"M592 612L553 642L562 552.5L596 558L592 612Z"},{id:"z13",name:"Zone 13",d:"M592.5 612L626 610L632.5 576L636.5 528L600 519L592.5 612Z"},{id:"z14",name:"Zone 14",d:"M703 572L641.5 574.5L651 479.5H709L703 572Z"},{id:"z15",name:"Zone 15",d:"M703.5 571.5H735.5L741 480H709.5L703.5 571.5Z"},{id:"z16",name:"Zone 16",d:"M829 571.5H735L741 479.5H749.5L830.5 543.5L829 571.5Z"},{id:"z17",name:"Zone 17",d:"M831 534.5V543L749.5 479.5H762L831 534.5Z"},{id:"z18",name:"Zone 18",d:"M835.5 481.5L832 534.5L762.5 479.5L835.5 481.5Z"},{id:"z19",name:"Zone 19",d:"M705 607.5V572H763V604.5L705 607.5Z"},{id:"z20",name:"Zone 20",d:"M858.5 572H829.5L835 480.5H864.5L858.5 572Z"},{id:"z21",name:"Zone 21",d:"M943.5 602H897H863.5L865 565.5L859.5 559L865 481H893.5L888.5 572.5L943.5 571V602Z"},{id:"z22",name:"Zone 22",d:"M947.5 480.5L942.5 571.5H888.5L894 480.5H947.5Z"},{id:"z23",name:"Zone 23",d:"M674 477.5H652L656.5 403.5H680.5L674 477.5Z"},{id:"z24",name:"Zone 24",d:"M766 408L680.5 404L674 477.5L761.5 476.5L766 408Z"},{id:"z25",name:"Zone 25",d:"M786.5 476H761.5L765.5 408.5H793L786.5 476Z"},{id:"z26",name:"Zone 26",d:"M815 476H786.5L793 408.5L819.5 410.5L815 476Z"},{id:"z27",name:"Zone 27",d:"M919 471.5L815 476L819.5 410.5L871 413.25L922.5 416L919 471.5Z"},{id:"z28",name:"Zone 28",d:"M876.5 350L873.5 413L835 411.5L839 347.5L876.5 350Z"},{id:"z29",name:"Zone 29",d:"M784.5 341.5L839 347.5L835 411.5L781 408L784.5 341.5Z"},{id:"z30",name:"Zone 30",d:"M732.5 335.5L784.5 341L781 408L727 405.5L732.5 335.5Z"},{id:"z31",name:"Zone 31",d:"M696.5 332.5L732.5 335.5L727 406L691.5 404.5L696.5 332.5Z"},{id:"z32",name:"Zone 32",d:"M662 329L696 333L692 404.5L656.5 402.5L662 329Z"},{id:"z33",name:"Zone 33",d:"M752.5 277L747 337L696 332L703 273H728L752.5 277Z"},{id:"z34",name:"Zone 34",d:"M647 495L643 502.5V488L647 483V495Z"},{id:"z35",name:"Zone 35",d:"M569.5 280.5L657 287L652.418 377.5L569.5 280.5Z"},{id:"z36",name:"Zone 36",d:"M647 484.5L652.418 377.5M652.418 377.5L657 287L569.5 280.5L652.418 377.5Z"},{id:"z37",name:"Zone 37",d:"M563 164L617 170.5L612.5 256L561 247L563 164Z"},{id:"z38",name:"Zone 38",d:"M471 117L468.5 153.5L407 146L461 130.5L471 117Z"},{id:"z39",name:"Zone 39",d:"M544.5 161.5L468.5 153.5V174L485.5 177.5L543.5 245.5L544.5 161.5Z"},{id:"z40",name:"Zone 40",d:"M445.5 166.5V150.5L468.5 153.5L467.5 174L445.5 166.5Z"},{id:"z41",name:"Zone 41",d:"M406 144.5L445.5 150.5V167L383.5 149L406 144.5Z"},{id:"z42",name:"Zone 42",d:"M616.5 170.5L613 263.5L559.5 256V272L637 278.5L641.5 172.5L616.5 170.5Z"},{id:"z43",name:"Zone 43",d:"M466 232V182.5L480 186L523.5 241L466 232Z"},{id:"z44",name:"Zone 44",d:"M444.5 176L466.5 183V233L442 229L444.5 176Z"},{id:"z45",name:"Zone 45",d:"M442 229L376 219L365.455 209.5L320.5 169L342 144.5L383 157.1L444.5 176L442 229Z"},{id:"z46",name:"Zone 46",d:"M365.455 209.5L376 219L442 229L444.5 176L383 157.1M365.455 209.5L320.5 169L342 144.5L383 157.1M365.455 209.5V203L328 167.5L346 148.5L383 157.1"},{id:"z47",name:"Zone 47",d:"M530.5 268.5L487 251L425.5 235.881L493 244.5L533 251L543 258L542 268.5H530.5Z"},{id:"z48",name:"Zone 48",d:"M367 221.5L425.5 235.881M425.5 235.881L487 251L530.5 268.5H542L543 258L533 251L493 244.5L425.5 235.881Z"},{id:"z49",name:"Zone 49",d:"M864 602.5L626 610L633 574.5H641.5L703 571.5H859.5V559.5L865.5 566L864 602.5Z"},{id:"z50",name:"Zone 50",d:"M662 329L663 281L703 273L696.5 333"},{id:"z51",name:"Zone 51",d:"M555.5 278.5L650 387H651.5L652 376.5L559.5 271.5L542 268L543 257.5V245L486 177.5L468 174L384 149.5L341.5 144.5L480.5 186.5L523 241L376 219L364 208.5L358 214L338.5 220L367.5 221L468 254L477.5 254.5V262L502.5 269L555.5 278.5Z"},{id:"z52",name:"Zone 52",d:"M559.5 256L561 247L613 256V263.5L559.5 256Z"},{id:"z53",name:"Zone 53",d:"M563 164L544.5 161.5L543 258L542 268L559.5 271.5V255.5L561 246.5L563 164Z"},{id:"z54",name:"Zone 54",d:"M321.5 461L274.5 411.5L325.5 405.5L321.5 461Z"},{id:"z55",name:"Zone 55",d:"M419 670L428 700.5L432.5 624L433 613.5L468 254.5L449 248L419 670Z"},{id:"z56",name:"Zone 56",d:"M470.5 704.5L444.5 707L461.5 701.5L517.5 672L553 641.5V647.5L519.5 674L470.5 704.5Z"},{id:"z57",name:"Zone 57",d:"M432.5 624L433 613.5H469L525 609H556.5L555 620L523 622L432.5 624Z"},{id:"z58",name:"Zone 58",d:"M600 519L596.5 558.5L562 552.5L585 313L650.5 388L646.5 484L643 488V501.5L636 528L600 519Z"},{id:"z59",name:"Zone 59",d:"M530.5 268.5H542L543 258L533 251L494.5 244.5L432 237L487 251L530.5 268.5Z"},{id:"z60",name:"Zone 60",d:"M657 287L663 281L662 329L656.5 402L652 477.5L651 479.5L641.5 574H633L636.5 527.5L642.5 503.5L647 494.5V484.5L657 287Z"},{id:"z61",name:"Zone 61",d:"M680.5 404L674 477.5L761.5 475.5L766 407.5L680.5 404Z"},{id:"z62",name:"Zone 62",d:"M786.5 475.5L793 408.5L819.5 410.5L815 475.5H786.5Z"},{id:"z63",name:"Zone 63",d:"M616 284V277L559.5 272L568 280.5L616 284Z"},{id:"z64",name:"Zone 64",d:"M469 613.5L525.5 609L541.5 426L487.5 420.5L469 613.5Z"},{id:"z65",name:"Zone 65",d:"M705 571.5V607.5L763 605.5V571.5H705Z"}],zy="/Sokil/assets/eng-D_G9BtFg.png",Uy=[{id:"z00",name:"Zone 00",d:"M354.5 563L317 588L291 538.5L259.5 508.5L279.5 451L291 446L434 451L430.5 563H366H354.5Z"},{id:"l01",name:"Line 01",d:"M369 559.5L485.5 562L517.5 543.5L535.5 361.5"},{id:"l02",name:"Line 02",d:"M371 567L672 571.5L971.5 565.5"},{id:"l03",name:"Line 03",d:"M370 560L390 558M403 558L417.5 555.5M430 554.5L446 552.5M459 551L474 549.5M486 548.5L502.5 546.5M517 546H530.5M543 546.5L558 547M570.5 548L585.5 548.5M598.5 549.5L614.5 550.5M626 550.5L642.5 552M654.5 552L671 553.5M682.5 553.5L700 554.5M710.5 553.5H727.5M737 553.5H755.5M766.5 553.5H784M794 552.5H810.5M814.5 541L821 526M827 516L831.5 513H841.5M853 516L869 518M881 520L897.5 523M908.5 524.5L925 527M930 519L932.5 503.5M934.5 492L937 476M939.5 463.5L941.5 448"},{id:"l04",name:"Line 04",d:"M381.5 544L394 498L405.5 452.5L412 427"}],z2=()=>{};var By={};const i_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},U2=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const f=r[i++];e[a++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const f=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,S=f>>2,w=(f&3)<<4|y>>4;let O=(y&15)<<2|_>>6,G=_&63;v||(G=64,d||(O=64)),a.push(i[S],i[w],i[O],i[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(i_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):U2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const f=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,f==null||y==null||_==null||w==null)throw new B2;const O=f<<2|y>>4;if(a.push(O),_!==64){const G=y<<4&240|_>>2;if(a.push(G),w!==64){const $=_<<6&192|w;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k2=function(r){const e=i_(r);return s_.encodeByteArray(e,!0)},uc=function(r){return k2(r).replace(/\./g,"")},P2=function(r){try{return s_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q2=()=>H2().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof By>"u")return;const r=By.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Q2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P2(r[1]);return e&&JSON.parse(e)},Cd=()=>{try{return z2()||q2()||G2()||Q2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Z2=r=>Cd()?.emulatorHosts?.[r],F2=r=>{const e=Z2(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},a_=()=>Cd()?.config;class Y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Nd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function X2(r){return(await fetch(r,{credentials:"include"})).ok}function K2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uc(JSON.stringify(i)),uc(JSON.stringify(d)),""].join(".")}const no={};function J2(){const r={prod:[],emulator:[]};for(const e of Object.keys(no))no[e]?r.emulator.push(e):r.prod.push(e);return r}function $2(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let ky=!1;function W2(r,e){if(typeof window>"u"||typeof document>"u"||!Nd(window.location.host)||no[r]===e||no[r]||ky)return;no[r]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",f=J2().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{ky=!0,d()},O}function S(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=$2(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),tt=document.getElementById(st)||document.createElement("a"),vt=i("preprendIcon"),Tt=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const gt=O.element;y(gt),S(tt,st);const Bt=_();v(Tt,vt),gt.append(Tt,$,tt,Bt),document.body.appendChild(gt)}f?($.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eE(){const r=Cd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nE(){return!eE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iE(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const aE="FirebaseError";class Hr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=aE,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r_.prototype.create)}}class r_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?rE(f,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,y,a)}}function rE(r,e){return r.replace(lE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const lE=/\{\$([^}]+)}/g;function cc(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const f=r[o],d=e[o];if(Py(f)&&Py(d)){if(!cc(f,d))return!1}else if(f!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Py(r){return r!==null&&typeof r=="object"}function lo(r){return r&&r._delegate?r._delegate:r}class oo{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class oE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Y2;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cE(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});a.resolve(f)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const f=this.instances.get(a);return f&&e(f,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uE(r){return r===Na?void 0:r}function cE(r){return r.instantiationMode==="EAGER"}class hE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new oE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const fE={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},dE=Ht.INFO,mE={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},gE=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=mE[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l_{constructor(e){this.name=e,this._logLevel=dE,this._logHandler=gE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const pE=(r,e)=>e.some(i=>r instanceof i);let Hy,qy;function yE(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _E(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o_=new WeakMap,nd=new WeakMap,u_=new WeakMap,qf=new WeakMap,Dd=new WeakMap;function vE(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Gs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&o_.set(i,r)}).catch(()=>{}),Dd.set(e,r),e}function EE(r){if(nd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});nd.set(r,e)}let id={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return nd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||u_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TE(r){id=r(id)}function bE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Gf(this),e,...i);return u_.set(a,e.sort?e.sort():[e]),Gs(a)}:_E().includes(r)?function(...e){return r.apply(Gf(this),e),Gs(o_.get(this))}:function(...e){return Gs(r.apply(Gf(this),e))}}function AE(r){return typeof r=="function"?bE(r):(r instanceof IDBTransaction&&EE(r),pE(r,yE())?new Proxy(r,id):r)}function Gs(r){if(r instanceof IDBRequest)return vE(r);if(qf.has(r))return qf.get(r);const e=AE(r);return e!==r&&(qf.set(r,e),Dd.set(e,r)),e}const Gf=r=>Dd.get(r);function SE(r,e,{blocked:i,upgrade:a,blocking:o,terminated:f}={}){const d=indexedDB.open(r,e),y=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const xE=["get","getKey","getAll","getAllKeys","count"],wE=["put","add","delete","clear"],Qf=new Map;function Gy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=wE.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||xE.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Qf.set(e,f),f}TE(r=>({...r,get:(e,i,a)=>Gy(e,i)||r.get(e,i,a),has:(e,i)=>!!Gy(e,i)||r.has(e,i)}));class RE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CE(r){return r.getComponent()?.type==="VERSION"}const sd="@firebase/app",Qy="0.14.6";const is=new l_("@firebase/app"),NE="@firebase/app-compat",DE="@firebase/analytics-compat",ME="@firebase/analytics",VE="@firebase/app-check-compat",IE="@firebase/app-check",OE="@firebase/auth",LE="@firebase/auth-compat",jE="@firebase/database",zE="@firebase/data-connect",UE="@firebase/database-compat",BE="@firebase/functions",kE="@firebase/functions-compat",PE="@firebase/installations",HE="@firebase/installations-compat",qE="@firebase/messaging",GE="@firebase/messaging-compat",QE="@firebase/performance",ZE="@firebase/performance-compat",FE="@firebase/remote-config",YE="@firebase/remote-config-compat",XE="@firebase/storage",KE="@firebase/storage-compat",JE="@firebase/firestore",$E="@firebase/ai",WE="@firebase/firestore-compat",tT="firebase",eT="12.6.0";const ad="[DEFAULT]",nT={[sd]:"fire-core",[NE]:"fire-core-compat",[ME]:"fire-analytics",[DE]:"fire-analytics-compat",[IE]:"fire-app-check",[VE]:"fire-app-check-compat",[OE]:"fire-auth",[LE]:"fire-auth-compat",[jE]:"fire-rtdb",[zE]:"fire-data-connect",[UE]:"fire-rtdb-compat",[BE]:"fire-fn",[kE]:"fire-fn-compat",[PE]:"fire-iid",[HE]:"fire-iid-compat",[qE]:"fire-fcm",[GE]:"fire-fcm-compat",[QE]:"fire-perf",[ZE]:"fire-perf-compat",[FE]:"fire-rc",[YE]:"fire-rc-compat",[XE]:"fire-gcs",[KE]:"fire-gcs-compat",[JE]:"fire-fst",[WE]:"fire-fst-compat",[$E]:"fire-vertex","fire-js":"fire-js",[tT]:"fire-js-all"};const hc=new Map,iT=new Map,rd=new Map;function Zy(r,e){try{r.container.addComponent(e)}catch(i){is.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function fc(r){const e=r.name;if(rd.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,r);for(const i of hc.values())Zy(i,r);for(const i of iT.values())Zy(i,r);return!0}function sT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function aT(r){return r==null?!1:r.settings!==void 0}const rT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new r_("app","Firebase",rT);class lT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const oT=eT;function c_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:ad,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=a_()),!i)throw Qs.create("no-options");const f=hc.get(o);if(f){if(cc(i,f.options)&&cc(a,f.config))return f;throw Qs.create("duplicate-app",{appName:o})}const d=new hE(o);for(const v of rd.values())d.addComponent(v);const y=new lT(i,a,d);return hc.set(o,y),y}function uT(r=ad){const e=hc.get(r);if(!e&&r===ad&&a_())return c_();if(!e)throw Qs.create("no-app",{appName:r});return e}function Vr(r,e,i){let a=nT[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}fc(new oo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const cT="firebase-heartbeat-database",hT=1,uo="firebase-heartbeat-store";let Zf=null;function h_(){return Zf||(Zf=SE(cT,hT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),Zf}async function fT(r){try{const i=(await h_()).transaction(uo),a=await i.objectStore(uo).get(f_(r));return await i.done,a}catch(e){if(e instanceof Hr)is.warn(e.message);else{const i=Qs.create("idb-get",{originalErrorMessage:e?.message});is.warn(i.message)}}}async function Fy(r,e){try{const a=(await h_()).transaction(uo,"readwrite");await a.objectStore(uo).put(e,f_(r)),await a.done}catch(i){if(i instanceof Hr)is.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});is.warn(a.message)}}}function f_(r){return`${r.name}!${r.options.appId}`}const dT=1024,mT=30;class gT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mT){const o=_T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yy(),{heartbeatsToSend:i,unsentEntries:a}=pT(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return is.warn(e),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function pT(r,e=dT){const i=[];let a=r.slice();for(const o of r){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Xy(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iE()?sE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Xy(r){return uc(JSON.stringify({version:2,heartbeats:r})).length}function _T(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function vT(r){fc(new oo("platform-logger",e=>new RE(e),"PRIVATE")),fc(new oo("heartbeat",e=>new gT(e),"PRIVATE")),Vr(sd,Qy,r),Vr(sd,Qy,"esm2020"),Vr("fire-js","")}vT("");var ET="firebase",TT="12.7.0";Vr(ET,TT,"app");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,d_;(function(){var r;function e(N,A){function x(){}x.prototype=A.prototype,N.F=A.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(M,D,j){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return A.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(D=0;D<16;++D)M[D]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=N.g[0],x=N.g[1],D=N.g[2];let j=N.g[3],R;R=A+(j^x&(D^j))+M[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[1]+3905402710&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(j^x&(D^j))+M[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[5]+1200080426&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(j^x&(D^j))+M[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[9]+2336552879&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(j^x&(D^j))+M[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[13]+4254626195&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(D^j&(x^D))+M[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[6]+3225465664&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(x^D))+M[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[10]+38016083&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(x^D))+M[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[14]+3275163606&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(x^D))+M[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[2]+4243563512&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(x^D^j)+M[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[8]+2272392833&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(x^D^j)+M[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[4]+1272893353&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(x^D^j)+M[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[0]+3936430074&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(x^D^j)+M[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[12]+3873151461&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(D^(x|~j))+M[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[7]+1126891415&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=A+(D^(x|~j))+M[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[3]+2399980690&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=A+(D^(x|~j))+M[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[15]+4264355552&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=A+(D^(x|~j))+M[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[11]+3174756917&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const x=A-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=x;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(M[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,M),D=0;break}}else for(;j<A;)if(M[D++]=N[j++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)N[A++]=this.g[x]>>>M&255;return N};function f(N,A){var x=y;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=A(N)}function d(N,A){this.h=A;const x=[];let M=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;M&&j==A||(x[D]=j,M=!1)}this.g=x}var y={};function v(N){return-128<=N&&N<128?f(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return tt(_(-N));const A=[];let x=1;for(let M=0;N>=x;M++)A[M]=N/x|0,x*=4294967296;return new d(A,0)}function S(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return tt(S(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let M=w;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const R=parseInt(N.substring(j,j+D),A);D<8?(D=_(Math.pow(A,D)),M=M.j(D).add(_(R))):(M=M.j(x),M=M.add(_(R)))}return M}var w=v(0),O=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-tt(this).m();let N=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(st(this))return"-"+tt(this).toString(N);const A=_(Math.pow(N,6));var x=this;let M="";for(;;){const D=Bt(x,A).g;x=vt(x,D.j(A));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=D,$(x))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=vt(this,N),st(N)?-1:$(N)?0:1};function tt(N){const A=N.g.length,x=[];for(let M=0;M<A;M++)x[M]=~N.g[M];return new d(x,~N.h).add(O)}r.abs=function(){return st(this)?tt(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),x=[];let M=0;for(let D=0;D<=A;D++){let j=M+(this.i(D)&65535)+(N.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=R>>>16,j&=65535,R&=65535,x[D]=R<<16|j}return new d(x,x[x.length-1]&-2147483648?-1:0)};function vt(N,A){return N.add(tt(A))}r.j=function(N){if($(this)||$(N))return w;if(st(this))return st(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(st(N))return tt(this.j(tt(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const j=this.i(M)>>>16,R=this.i(M)&65535,re=N.i(D)>>>16,we=N.i(D)&65535;x[2*M+2*D]+=R*we,Tt(x,2*M+2*D),x[2*M+2*D+1]+=j*we,Tt(x,2*M+2*D+1),x[2*M+2*D+1]+=R*re,Tt(x,2*M+2*D+1),x[2*M+2*D+2]+=j*re,Tt(x,2*M+2*D+2)}for(N=0;N<A;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=A;N<2*A;N++)x[N]=0;return new d(x,0)};function Tt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function gt(N,A){this.g=N,this.h=A}function Bt(N,A){if($(A))throw Error("division by zero");if($(N))return new gt(w,w);if(st(N))return A=Bt(tt(N),A),new gt(tt(A.g),tt(A.h));if(st(A))return A=Bt(N,tt(A)),new gt(tt(A.g),A.h);if(N.g.length>30){if(st(N)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var x=O,M=A;M.l(N)<=0;)x=Ft(x),M=Ft(M);var D=At(x,1),j=At(M,1);for(M=At(M,2),x=At(x,2);!$(M);){var R=j.add(M);R.l(N)<=0&&(D=D.add(x),j=R),M=At(M,1),x=At(x,1)}return A=vt(N,D.j(A)),new gt(D,A)}for(D=w;N.l(A)>=0;){for(x=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(x),R=j.j(A);st(R)||R.l(N)>0;)x-=M,j=_(x),R=j.j(A);$(j)&&(j=O),D=D.add(j),N=vt(N,R)}return new gt(D,N)}r.B=function(N){return Bt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&N.i(M);return new d(x,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|N.i(M);return new d(x,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^N.i(M);return new d(x,this.h^N.h)};function Ft(N){const A=N.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(x,N.h)}function At(N,A){const x=A>>5;A%=32;const M=N.g.length-x,D=[];for(let j=0;j<M;j++)D[j]=A>0?N.i(j+x)>>>A|N.i(j+x+1)<<32-A:N.i(j+x);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Zs=d}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m_,Jl,g_,nc,ld,p_,y_,__;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var z=u[b];if(!(z in p))break t;p=p[z]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&p.push([b,m[b]]);return p}});var f=f||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function S(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(b,z,H){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[z].apply(b,et)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function $(u,m){for(let b=1;b<arguments.length;b++){const z=arguments[b];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=u.length||0;const H=z.length||0;u.length=p+H;for(let et=0;et<H;et++)u[p+et]=z[et]}else u.push(z)}}class st{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function vt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,p){const b=gt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var gt=new st(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,At=!1,N=new Tt,A=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(x)}};function x(){for(var u;u=vt();){try{u.h.call(u.g)}catch(p){tt(p)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}At=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(re,D),re.prototype.init=function(u,m){const p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),Q=0;function W(u,m,p,b,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=z,this.key=++Q,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function kt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function I(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(p in b)u[p]=b[p];for(let H=0;H<Y.length;H++)p=Y[H],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,b,z){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const et=wt(u,m,b,z);return et>-1?(m=u[et],p||(m.fa=!1)):(m=new W(m,this.src,H,!!b,z),m.fa=p,u.push(m)),m};function _t(u,m){const p=m.type;if(p in u.g){var b=u.g[p],z=Array.prototype.indexOf.call(b,m,void 0),H;(H=z>=0)&&Array.prototype.splice.call(b,z,1),H&&(at(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wt(u,m,p,b){for(let z=0;z<u.length;++z){const H=u[z];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==b)return z}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Xt(u,m,p,b,z){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Xt(u,m[H],p,b,z);return null}return p=Ii(p),u&&u[we]?u.J(m,p,y(b)?!!b.capture:!1,z):Vi(u,m,p,!1,b,z)}function Vi(u,m,p,b,z,H){if(!m)throw Error("Invalid event type");const et=y(z)?!!z.capture:!!z;let Rt=Kt(u);if(Rt||(u[Dt]=Rt=new rt(u)),p=Rt.add(m,p,b,et,H),p.proxy)return p;if(b=te(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)j||(z=et),z===void 0&&(z=!1),u.addEventListener(m.toString(),b,z);else if(u.attachEvent)u.attachEvent(yn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function te(){function u(p){return m.call(u.src,u.listener,p)}const m=Cn;return u}function Rn(u,m,p,b,z){if(Array.isArray(m))for(var H=0;H<m.length;H++)Rn(u,m[H],p,b,z);else b=y(b)?!!b.capture:!!b,p=Ii(p),u&&u[we]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],p=wt(m,p,b,z),p>-1&&(at(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Kt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,p,b,z)),(p=u>-1?m[u]:null)&&Gn(p))}function Gn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])_t(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(yn(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=Kt(m))?(_t(p,u),p.h==0&&(p.src=null,m[Dt]=null)):at(u)}}}function yn(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function Cn(u,m){if(u.da)u=!0;else{m=new re(m,this);const p=u.listener,b=u.ha||u.src;u.fa&&Gn(u),u=p.call(b,m)}return u}function Kt(u){return u=u[Dt],u instanceof rt?u:null}var rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ii(u){return typeof u=="function"?u:(u[rs]||(u[rs]=function(m){return u.handleEvent(m)}),u[rs])}function pe(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}w(pe,M),pe.prototype[we]=!0,pe.prototype.removeEventListener=function(u,m,p,b){Rn(this,u,m,p,b)};function Te(u,m){var p,b=u.G;if(b)for(p=[];b;b=b.G)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var z=m;m=new D(b,u),nt(m,z)}z=!0;let H,et;if(p)for(et=p.length-1;et>=0;et--)H=m.g=p[et],z=ai(H,b,!0,m)&&z;if(H=m.g=u,z=ai(H,b,!0,m)&&z,z=ai(H,b,!1,m)&&z,p)for(et=0;et<p.length;et++)H=m.g=p[et],z=ai(H,b,!1,m)&&z}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let b=0;b<p.length;b++)at(p[b]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},pe.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function ai(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let H=0;H<m.length;++H){const et=m[H];if(et&&!et.da&&et.capture==p){const Rt=et.listener,be=et.ha||et.src;et.fa&&_t(u.i,et),z=Rt.call(be,b)!==!1&&z}}return z&&!b.defaultPrevented}function Fr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ua(u){u.g=Fr(()=>{u.g=null,u.i&&(u.i=!1,Ua(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ke extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){M.call(this),this.h=u,this.g={}}w(Oi,M);var ls=[];function os(u){It(u.g,function(m,p){this.g.hasOwnProperty(p)&&Gn(m)},u),u.g={}}Oi.prototype.N=function(){Oi.Z.N.call(this),os(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=d.JSON.stringify,Yr=d.JSON.parse,Ba=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ka(){}function Li(){}var P={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function it(){D.call(this,"d")}w(it,D);function ht(){D.call(this,"c")}w(ht,D);var ut={},le=null;function Nn(){return le=le||new pe}ut.Ia="serverreachability";function us(u){D.call(this,ut.Ia,u)}w(us,D);function tn(u){const m=Nn();Te(m,new us(m))}ut.STAT_EVENT="statevent";function Zn(u,m){D.call(this,ut.STAT_EVENT,u),this.stat=m}w(Zn,D);function ye(u){const m=Nn();Te(m,new Zn(m,u))}ut.Ja="timingevent";function en(u,m){D.call(this,ut.Ja,u),this.size=m}w(en,D);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function kc(u,m,p,b,z,H){u.info(function(){if(u.g)if(H){var et="",Rt=H.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var be=Rt[Qt].split("=");if(be.length>1){const he=be[0];be=be[1];const In=he.split("_");et=In.length>=2&&In[1]=="type"?et+(he+"="+be+"&"):et+(he+"=redacted&")}}}else et=null;else et=H;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+p+`
`+et})}function xo(u,m,p,b,z,H,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+p+`
`+H+" "+et})}function li(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pc(u,p)+(b?" "+b:"")})}function na(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Pc(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var p=H[u];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return Qn(H)}catch{return m}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kr;function sa(){}w(sa,ka),sa.prototype.g=function(){return new XMLHttpRequest},Kr=new sa;function ji(u){return encodeURIComponent(String(u))}function wo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Yn(u,m,p,b){this.j=u,this.i=m,this.l=p,this.S=b||1,this.V=new Oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Re={},Pe={};function oi(u,m,p){u.M=1,u.A=aa(Ne(m)),u.u=p,u.R=!0,Pa(u,null)}function Pa(u,m){u.F=Date.now(),ui(u),u.B=Ne(u.A);var p=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Qa(p.i,"t",b),u.C=0,p=u.j.L,u.h=new Xn,u.g=Po(u.j,p?m:null,!u.u),u.P>0&&(u.O=new ke(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,b=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(ls[0]=z.toString()),z=ls);for(let H=0;H<z.length;H++){const et=Xt(p,z[H],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),tn(),kc(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=$n(this.g),be=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||be==7||(be==8||Qt<=0?tn(3):tn(2)),ci(this);var m=this.g.ca();this.X=m;var p=Hc(this);if(this.o=m==200,xo(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var H=b;break e}}H=null}if(u=H)li(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,ye(12),_n(this),Dn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<p.length;)if(he=Co(this,p),he==Pe){Rt==4&&(this.m=4,ye(14),u=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,ye(15),li(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else li(this.i,this.l,he,null),hi(this,he);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)li(this.i,this.l,p,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),hl(et),et.P=!0,ye(11))}}else li(this.i,this.l,p,null),hi(this,p);Rt==4&&_n(this),this.o&&!this.K&&(Rt==4?zo(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),_n(this),Dn(this)}}}catch{}};function Hc(u){if(!Ro(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let p="";const b=m.length,z=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,p+=u.h.i.decode(m[H],{stream:!(z&&H==b-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Ro(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Co(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?Pe:(p=Number(m.substring(p,b)),isNaN(p)?Re:(b+=1,b+p>m.length?Pe:(m=m.slice(b,b+p),u.C=b+p,m)))}Yn.prototype.cancel=function(){this.K=!0,_n(this)};function ui(u){u.T=Date.now()+u.H,Ha(u,u.H)}function Ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(na(this.i,this.B),this.M!=2&&(tn(),ye(17)),_n(this),this.m=2,Dn(this)):Ha(this,this.T-u)};function Dn(u){u.j.I==0||u.K||zo(u.j,u)}function _n(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,os(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||di(p.h,u))){if(!u.L&&di(p.h,u)&&p.I==3){try{var b=p.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ka(p),ys(p);else break t;fa(p),ye(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ri(_(p.Va,p),6e3));fi(p.h)<=1&&p.ta&&(p.ta=void 0)}else vi(p,11)}else if((u.L||p.g==u)&&Ka(p),!R(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let Qt=z[m];const he=Qt[0];if(!(he<=p.K))if(p.K=he,Qt=Qt[1],p.I==2)if(Qt[0]=="c"){p.M=Qt[1],p.ba=Qt[2];const In=Qt[3];In!=null&&(p.ka=In,p.j.info("VER="+p.ka));const Ei=Qt[4];Ei!=null&&(p.za=Ei,p.j.info("SVER="+p.za));const Wn=Qt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const ti=u.g;if(ti){const da=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var H=b.h;H.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Wr(H,H.h),H.h=null))}if(b.G){const Ja=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(b.wa=Ja,Jt(b.J,b.G,Ja))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var et=u;if(b.na=ko(b,b.L?b.ba:null,b.W),et.L){tl(b.h,et);var Rt=et,be=b.O;be&&(Rt.H=be),Rt.D&&(ci(Rt),ui(Rt)),b.g=et}else Lo(b);p.i.length>0&&_i(p)}else Qt[0]!="stop"&&Qt[0]!="close"||vi(p,7);else p.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?vi(p,7):ul(p):Qt[0]!="noop"&&p.l&&p.l.qa(Qt),p.A=0)}}tn(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function Jr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Wr(u,m){u.g?u.g.add(m):u.h=m}function tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Jr.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function el(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const b=u[p].indexOf("=");let z,H=null;b>=0?(z=u[p].substring(0,b),H=u[p].substring(b+1)):z=u[p],m(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,nl(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(No))?(this.l=!1,He(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),cs(this,m[4]),this.h=mi(m[5]||"",!0),nl(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ra(m,Ga,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ra(m,Ga,!0),"@"),u.push(ji(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ra(p,p.charAt(0)=="/"?il:Do,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ra(p,Mo)),u.join("")},vn.prototype.resolve=function(u){const m=Ne(this);let p=!!u.j;p?He(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var b=u.h;if(p)cs(m,u.u);else if(p=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=m.h.lastIndexOf("/");z!=-1&&(b=m.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let et=0;et<z.length;){const Rt=z[et++];Rt=="."?b&&et==z.length&&H.push(""):Rt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&et==z.length&&H.push("")):(H.push(Rt),b=!0)}b=H.join("/")}else b=z}return p?m.h=b:p=u.i.toString()!=="",p?nl(m,Io(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ne(u){return new vn(u)}function He(u,m,p){u.j=p?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function nl(u,m,p){m instanceof fs?(u.i=m,Za(u.i,u.l)):(p||(m=ra(m,hs)),u.i=new fs(m,u.l))}function Jt(u,m,p){u.i.set(m,p)}function aa(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ra(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,un),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ga=/[#\/\?@]/g,Do=/[#\?:]/g,il=/[#\?]/g,hs=/[#\?@]/g,Mo=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&qa(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=fs.prototype,r.add=function(u,m){cn(this),this.i=null,u=ds(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Vo(u,m){cn(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sl(u,m){return cn(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(p,b){p.forEach(function(z){u.call(m,z,b,this)},this)},this)};function al(u,m){cn(u);let p=[];if(typeof m=="string")sl(u,m)&&(p=p.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return cn(this),this.i=null,u=ds(this,u),sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=al(this,u),u.length>0?String(u[0]):m):m};function Qa(u,m,p){Vo(u,m),p.length>0&&(u.i=null,u.g.set(ds(u,m),G(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var p=m[b];const z=ji(p);p=al(this,p);for(let H=0;H<p.length;H++){let et=z;p[H]!==""&&(et+="="+ji(p[H])),u.push(et)}}return this.i=u.join("&")};function Io(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Za(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(p,b){const z=b.toLowerCase();b!=z&&(Vo(this,b),Qa(this,z,p))},u)),u.j=m}function Kn(u,m){const p=new Fn;if(d.Image){const b=new Image;b.onload=S(Mn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Mn,p,"TestLoadImage: error",!1,m,b),b.onabort=S(Mn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Mn,p,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function rl(u,m){const p=new Fn,b=new AbortController,z=setTimeout(()=>{b.abort(),Mn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(z),H.ok?Mn(p,"TestPingServer: ok",!0,m):Mn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Mn(p,"TestPingServer: error",!1,m)})}function Mn(u,m,p,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(p)}catch{}}function ms(){this.g=new Ba}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(gi,ka),gi.prototype.g=function(){return new la(this.i,this.h)};function la(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(la,pe),r=la.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Jn(this),this.readyState==3&&Fa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},r.Na=function(u){this.g&&(this.response=u,gs(this))},r.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return It(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function oa(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Vn(p),typeof u=="string"?p!=null&&ji(p):Jt(u,m,p))}function ee(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ee,pe);var pi=/^https?$/i,ll=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kr.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){ua(this,H);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)p.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())p.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ll,m,void 0)>=0)||b||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of p)this.g.setRequestHeader(H,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){ua(this,H)}};function ua(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ol(u),zi(u)}function ol(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Te(this,"complete"),Te(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},r.Xa=function(){ca(this)};function ca(u){if(u.h&&typeof f<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(Te(u,"readystatechange"),$n(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=H===0){let et=String(u.D).match(No)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!pi.test(et?et.toLowerCase():"")}p=b}if(p)Te(u,"complete"),Te(u,"success");else{u.o=6;try{var z=$n(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",ol(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Te(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yr(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var p=wo(u[b]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[z]||[];m[z]=H,H.push(p)}kt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Jr(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ps.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,b){ye(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=ko(this,null,this.W),_i(this)};function ul(u){if(Ya(u),u.I==3){var m=u.V++,p=Ne(u.J);if(Jt(p,"SID",u.M),Jt(p,"RID",m),Jt(p,"TYPE","terminate"),ha(u,p),m=new Yn(u,u.j,m),m.M=2,m.A=aa(Ne(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Po(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Bo(u)}function ys(u){u.g&&(hl(u),u.g.cancel(),u.g=null)}function Ya(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!$r(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||A(),At||(Ft(),At=!0),N.add(m,u),u.D=0}}function Xa(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Yn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=I(H),nt(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Oo(this,z,m),p=Ne(this.J),Jt(p,"RID",u),Jt(p,"CVER",22),this.G&&Jt(p,"X-HTTP-Session-Id",this.G),ha(this,p),H&&(this.R?m="headers="+ji(Vn(H))+"&"+m:this.u&&oa(p,this.u,H)),Wr(this.h,z),this.Ra&&Jt(p,"TYPE","init"),this.S?(Jt(p,"$req",m),Jt(p,"SID","null"),z.U=!0,oi(z,p,null)):oi(z,p,m),this.I=2}}else this.I==3&&(u?cl(this,u):this.i.length==0||$r(this.h)||cl(this))};function cl(u,m){var p;m?p=m.l:p=u.V++;const b=Ne(u.J);Jt(b,"SID",u.M),Jt(b,"RID",p),Jt(b,"AID",u.K),ha(u,b),u.u&&u.o&&oa(b,u.u,u.o),p=new Yn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Oo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Wr(u.h,p),oi(p,b,m)}function ha(u,m){u.H&&It(u.H,function(p,b){Jt(m,b,p)}),u.l&&It({},function(p,b){Jt(m,b,p)})}function Oo(u,m,p){p=Math.min(u.i.length,p);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var z=u.i;let Rt=-1;for(;;){const be=["count="+p];Rt==-1?p>0?(Rt=z[0].g,be.push("ofs="+Rt)):Rt=0:be.push("ofs="+Rt);let Qt=!0;for(let he=0;he<p;he++){var H=z[he].g;const In=z[he].map;if(H-=Rt,H<0)Rt=Math.max(0,z[he].g-100),Qt=!1;else try{H="req"+H+"_"||"";try{var et=In instanceof Map?In:Object.entries(In);for(const[Ei,Wn]of et){let ti=Wn;y(Wn)&&(ti=Qn(Wn)),be.push(H+Ei+"="+encodeURIComponent(ti))}}catch(Ei){throw be.push(H+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(In)}}if(Qt){et=be.join("&");break t}}et=void 0}return u=u.i.splice(0,p),m.G=u,et}function Lo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||A(),At||(Ft(),At=!0),N.add(m,u),u.A=0}}function fa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ys(this),jo(this))};function hl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function jo(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),ha(u,m),u.u&&u.o&&oa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=aa(Ne(m)),p.u=null,p.R=!0,Pa(p,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),fa(this),ye(19))};function Ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function zo(u,m){var p=null;if(u.g==m){Ka(u),hl(u),u.g=null;var b=2}else if(di(u.h,m))p=m.G,tl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;b=Nn(),Te(b,new en(b,p)),_i(u)}else Lo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(b==1&&Xa(u,m)||b==2&&fa(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),z){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),b=u.Ua;const z=!b;b=new vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),aa(b),z?Kn(b.toString(),p):rl(b.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Bo(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Bo(u){if(u.I=0,u.ja=[],u.l){const m=el(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,p){var b=p instanceof vn?Ne(p):new vn(p);if(b.g!="")m&&(b.g=m+"."+b.g),cs(b,b.u);else{var z=d.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const H=new vn(null);b&&He(H,b),m&&(H.g=m),z&&cs(H,z),p&&(H.h=p),b=H}return p=u.G,m=u.wa,p&&m&&Jt(b,p,m),Jt(b,"VER",u.ka),ha(u,b),b}function Po(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new gi({ab:p})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){pe.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}w(ln,pe),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Qn(u),u=p);m.i.push(new Ce(m.Ya++,u)),m.I==3&&_i(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.Z.N.call(this)};function qo(u){it.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(qo,it);function Go(){ht.call(this),this.status=1}w(Go,ht);function Bi(u){this.g=u}w(Bi,Ho),Bi.prototype.ra=function(){Te(this.g,"a")},Bi.prototype.qa=function(u){Te(this.g,new qo(u))},Bi.prototype.pa=function(u){Te(this.g,new Go)},Bi.prototype.oa=function(){Te(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,__=function(){return new _s},y_=function(){return Nn()},p_=ut,ld={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,nc=ia,Xr.COMPLETE="complete",g_=Xr,Li.EventType=P,P.OPEN="a",P.CLOSE="b",P.ERROR="c",P.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Jl=Li,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,m_=ee}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",$y="4.9.3";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let qr="12.7.0";const Va=new l_("@firebase/firestore");function Cr(){return Va.logLevel}function lt(r,...e){if(Va.logLevel<=Ht.DEBUG){const i=e.map(Md);Va.debug(`Firestore (${qr}): ${r}`,...i)}}function ss(r,...e){if(Va.logLevel<=Ht.ERROR){const i=e.map(Md);Va.error(`Firestore (${qr}): ${r}`,...i)}}function jr(r,...e){if(Va.logLevel<=Ht.WARN){const i=e.map(Md);Va.warn(`Firestore (${qr}): ${r}`,...i)}}function Md(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,v_(r,a,i)}function v_(r,e,i){let a=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Yt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||v_(e,o,a)}function xt(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Hr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class AT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ST{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Yt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let f=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Fs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Fs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new E_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class xT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new xT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,aT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Yt(this.o===void 0,3512);const a=f=>{f.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>a(f)))};const o=f=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Wy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=CT(40);for(let f=0;f<o.length;++f)a.length<20&&o[f]<i&&(a+=e.charAt(o[f]%62))}return a}}function jt(r,e){return r<e?-1:r>e?1:0}function od(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),f=e.charAt(a);if(o!==f)return Ff(o)===Ff(f)?jt(o,f):Ff(o)?1:-1}return jt(r.length,e.length)}const NT=55296,DT=57343;function Ff(r){const e=r.charCodeAt(0);return e>=NT&&e<=DT}function zr(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const t0="__name__";class xi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Et(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const f=xi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return jt(e.length,i.length)}static compareSegments(e,i){const a=xi.isNumericId(e),o=xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):od(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class de extends xi{construct(e,i,a){return new de(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const MT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends xi{construct(e,i,a){return new $e(e,i,a)}static isValidIdentifier(e){return MT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new $e([t0])}static fromServerFormat(e){const i=[];let a="",o=0;const f=()=>{if(a.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(f(),o++)}if(f(),d)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(i)}static emptyPath(){return new $e([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(de.fromString(e))}static fromName(e){return new pt(de.fromString(e).popFirst(5))}static empty(){return new pt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return de.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new de(e.slice()))}}function VT(r,e,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function IT(r,e,i,a){if(e===!0&&a===!0)throw new ft(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function e0(r){if(!pt.isDocumentKey(r))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function T_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Id(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Ys(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Id(r);throw new ft(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Le(r,e){const i={typeString:r};return e&&(i.value=e),i}function Eo(r,e){if(!T_(r))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,f="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${a}' field to equal '${f.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}const n0=-62135596800,i0=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(e){return ce.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*i0);return new ce(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<n0)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eo(e,ce._jsonSchema))return new ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Le("string",ce._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ce(0,0))}static max(){return new bt(new ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const co=-1;function OT(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new Ks(o,pt.empty(),e)}function LT(r){return new Ks(r.readTime,r.key,co)}class Ks{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(bt.min(),pt.empty(),co)}static max(){return new Ks(bt.max(),pt.empty(),co)}}function jT(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:jt(r.largestBatchId,e.largestBatchId))}const zT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gr(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==zT)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((a,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(a,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,a)=>{i(e)}))}static reject(e){return new K(((i,a)=>{a(e)}))}static waitFor(e){return new K(((i,a)=>{let o=0,f=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++f,d&&f===o&&i()}),(v=>a(v)))})),d=!0,f===o&&i()}))}static or(e){let i=K.resolve(!1);for(const a of e)i=i.next((o=>o?K.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,f)=>{a.push(i.call(this,o,f))})),this.waitFor(a)}static mapArray(e,i){return new K(((a,o)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===f&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new K(((a,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):a()};f()}))}}function BT(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qr(r){return r.name==="IndexedDbTransactionError"}class wc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wc.ce=-1;const Od=-1;function Rc(r){return r==null}function dc(r){return r===0&&1/r==-1/0}function kT(r){return typeof r=="number"&&Number.isInteger(r)&&!dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const b_="";function PT(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=s0(e)),e=HT(r.get(i),e);return s0(e)}function HT(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const f=r.charAt(o);switch(f){case"\0":i+="";break;case b_:i+="";break;default:i+=f}}return i}function s0(r){return r+b_+""}function a0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Oa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function A_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class me{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new me(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?a(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,a,o,f){this.key=e,this.value=i,this.color=a??Je.RED,this.left=o??Je.EMPTY,this.right=f??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,f){return new Je(e??this.key,i??this.value,a??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const f=a(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,a),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,a,o,f){return this}insert(e,i,a){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r0(this.data.getIterator())}getIteratorFrom(e){return new r0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class r0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new si([])}unionWith(e){let i=new Be($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new si(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class S_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new S_("Invalid base64 string: "+f):f}})(e);return new We(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new We(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}We.EMPTY_BYTE_STRING=new We("");const qT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Yt(!!r,39018),typeof r=="string"){let e=0;const i=qT.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xe(r.seconds),nanos:xe(r.nanos)}}function xe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $s(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const x_="server_timestamp",w_="__type__",R_="__previous_value__",C_="__local_write_time__";function Ld(r){return(r?.mapValue?.fields||{})[w_]?.stringValue===x_}function Cc(r){const e=r.mapValue.fields[R_];return Ld(e)?Cc(e):e}function ho(r){const e=Js(r.mapValue.fields[C_].timestampValue);return new ce(e.seconds,e.nanos)}class GT{constructor(e,i,a,o,f,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const mc="(default)";class fo{constructor(e,i){this.projectId=e,this.database=i||mc}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===mc}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const N_="__type__",QT="__max__",Ku={mapValue:{}},D_="__vector__",gc="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ld(r)?4:FT(r)?9007199254740991:ZT(r)?10:11:Et(28295,{value:r})}function Di(r,e){if(r===e)return!0;const i=Ws(r);if(i!==Ws(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ho(r).isEqual(ho(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Js(o.timestampValue),y=Js(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,f){return $s(o.bytesValue).isEqual($s(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,f){return xe(o.geoPointValue.latitude)===xe(f.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(f.geoPointValue.longitude)})(r,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return xe(o.integerValue)===xe(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=xe(o.doubleValue),y=xe(f.doubleValue);return d===y?dc(d)===dc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return zr(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},y=f.mapValue.fields||{};if(a0(d)!==a0(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Di(d[v],y[v])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function mo(r,e){return(r.values||[]).find((i=>Di(i,e)))!==void 0}function Ur(r,e){if(r===e)return 0;const i=Ws(r),a=Ws(e);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=xe(f.integerValue||f.doubleValue),v=xe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return l0(r.timestampValue,e.timestampValue);case 4:return l0(ho(r),ho(e));case 5:return od(r.stringValue,e.stringValue);case 6:return(function(f,d){const y=$s(f),v=$s(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=jt(y[_],v[_]);if(S!==0)return S}return jt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=jt(xe(f.latitude),xe(d.latitude));return y!==0?y:jt(xe(f.longitude),xe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return o0(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},v=d.fields||{},_=y[gc]?.arrayValue,S=v[gc]?.arrayValue,w=jt(_?.values?.length||0,S?.values?.length||0);return w!==0?w:o0(_,S)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Ku.mapValue&&d===Ku.mapValue)return 0;if(f===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let w=0;w<v.length&&w<S.length;++w){const O=od(v[w],S[w]);if(O!==0)return O;const G=Ur(y[v[w]],_[S[w]]);if(G!==0)return G}return jt(v.length,S.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function l0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jt(r,e);const i=Js(r),a=Js(e),o=jt(i.seconds,a.seconds);return o!==0?o:jt(i.nanos,a.nanos)}function o0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const f=Ur(i[o],a[o]);if(f)return f}return jt(i.length,a.length)}function Br(r){return ud(r)}function ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Js(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $s(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const f of i.values||[])o?o=!1:a+=",",a+=ud(f);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of a)f?f=!1:o+=",",o+=`${d}:${ud(i.fields[d])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function ic(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cc(r);return e?16+ic(e):16;case 5:return 2*r.stringValue.length;case 6:return $s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,f)=>o+ic(f)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Oa(a.fields,((f,d)=>{o+=f.length+ic(d)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function cd(r){return!!r&&"integerValue"in r}function jd(r){return!!r&&"arrayValue"in r}function u0(r){return!!r&&"nullValue"in r}function c0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sc(r){return!!r&&"mapValue"in r}function ZT(r){return(r?.mapValue?.fields||{})[N_]?.stringValue===D_}function io(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Oa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=io(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(r.arrayValue.values[i]);return e}return{...r}}function FT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QT}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=$e.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=io(d):o.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,a,o)}delete(e){const i=this.field(e.popLast());sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Oa(i,((o,f)=>e[o]=f));for(const o of a)delete e[o]}clone(){return new Hn(io(this.value))}}function M_(r){const e=[];return Oa(r.fields,((i,a)=>{const o=new $e([i]);if(sc(a)){const f=M_(a.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new si(e)}class rn{constructor(e,i,a,o,f,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new rn(e,0,bt.min(),bt.min(),bt.min(),Hn.empty(),0)}static newFoundDocument(e,i,a,o){return new rn(e,1,i,bt.min(),a,o,0)}static newNoDocument(e,i){return new rn(e,2,i,bt.min(),bt.min(),Hn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,bt.min(),bt.min(),Hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pc{constructor(e,i){this.position=e,this.inclusive=i}}function h0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const f=e[o],d=r.position[o];if(f.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Ur(d,i.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function f0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],e.position[i]))return!1;return!0}class yc{constructor(e,i="asc"){this.field=e,this.dir=i}}function YT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class V_{}class ze extends V_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new KT(e,i,a):i==="array-contains"?new WT(e,a):i==="in"?new tb(e,a):i==="not-in"?new eb(e,a):i==="array-contains-any"?new nb(e,a):new ze(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new JT(e,a):new $T(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ur(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Ur(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends V_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return I_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I_(r){return r.op==="and"}function O_(r){return XT(r)&&I_(r)}function XT(r){for(const e of r.filters)if(e instanceof Mi)return!1;return!0}function hd(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+Br(r.value);if(O_(r))return r.filters.map((e=>hd(e))).join(",");{const e=r.filters.map((i=>hd(i))).join(",");return`${r.op}(${e})`}}function L_(r,e){return r instanceof ze?(function(a,o){return o instanceof ze&&a.op===o.op&&a.field.isEqual(o.field)&&Di(a.value,o.value)})(r,e):r instanceof Mi?(function(a,o){return o instanceof Mi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((f,d,y)=>f&&L_(d,o.filters[y])),!0):!1})(r,e):void Et(19439)}function j_(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(j_).join(" ,")+"}"})(r):"Filter"}class KT extends ze{constructor(e,i,a){super(e,i,a),this.key=pt.fromName(a.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class JT extends ze{constructor(e,i){super(e,"in",i),this.keys=z_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $T extends ze{constructor(e,i){super(e,"not-in",i),this.keys=z_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function z_(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class WT extends ze{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jd(i)&&mo(i.arrayValue,this.value)}}class tb extends ze{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class eb extends ze{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class nb extends ze{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>mo(this.value.arrayValue,a)))}}class ib{constructor(e,i=null,a=[],o=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function d0(r,e=null,i=[],a=[],o=null,f=null,d=null){return new ib(r,e,i,a,o,f,d)}function zd(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(f){return f.field.canonicalString()+f.dir})(a))).join(","),Rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Br(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Br(a))).join(",")),e.Te=i}return e.Te}function Ud(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!YT(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!L_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!f0(r.startAt,e.startAt)&&f0(r.endAt,e.endAt)}function fd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Nc{constructor(e,i=null,a=[],o=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sb(r,e,i,a,o,f,d,y){return new Nc(r,e,i,a,o,f,d,y)}function Dc(r){return new Nc(r)}function m0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ab(r){return r.collectionGroup!==null}function so(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Be($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new yc(f,a))})),i.has($e.keyField().canonicalString())||e.Ie.push(new yc($e.keyField(),a))}return e.Ie}function wi(r){const e=xt(r);return e.Ee||(e.Ee=rb(e,so(r))),e.Ee}function rb(r,e){if(r.limitType==="F")return d0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new yc(o.field,f)}));const i=r.endAt?new pc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new pc(r.startAt.position,r.startAt.inclusive):null;return d0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dd(r,e,i){return new Nc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Mc(r,e){return Ud(wi(r),wi(e))&&r.limitType===e.limitType}function U_(r){return`${zd(wi(r))}|lt:${r.limitType}`}function Nr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>j_(o))).join(", ")}]`),Rc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Br(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Br(o))).join(",")),`Target(${a})`})(wi(r))}; limitType=${r.limitType})`}function Vc(r,e){return e.isFoundDocument()&&(function(a,o){const f=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):pt.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)})(r,e)&&(function(a,o){for(const f of so(a))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const f of a.filters)if(!f.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,v){const _=h0(d,y,v);return d.inclusive?_<=0:_<0})(a.startAt,so(a),o)||a.endAt&&!(function(d,y,v){const _=h0(d,y,v);return d.inclusive?_>=0:_>0})(a.endAt,so(a),o))})(r,e)}function lb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function B_(r){return(e,i)=>{let a=!1;for(const o of so(r)){const f=ob(o,e,i);if(f!==0)return f;a=a||o.field.isKeyField()}return 0}}function ob(r,e,i){const a=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?Ur(v,_):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class La{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,f]of a)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,((i,a)=>{for(const[o,f]of a)e(o,f)}))}isEmpty(){return A_(this.inner)}size(){return this.innerSize}}const ub=new me(pt.comparator);function as(){return ub}const k_=new me(pt.comparator);function $l(...r){let e=k_;for(const i of r)e=e.insert(i.key,i);return e}function P_(r){let e=k_;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Da(){return ao()}function H_(){return ao()}function ao(){return new La((r=>r.toString()),((r,e)=>r.isEqual(e)))}const cb=new me(pt.comparator),hb=new Be(pt.comparator);function zt(...r){let e=hb;for(const i of r)e=e.add(i);return e}const fb=new Be(jt);function db(){return fb}function Bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function q_(r){return{integerValue:""+r}}function mb(r,e){return kT(e)?q_(e):Bd(r,e)}class Ic{constructor(){this._=void 0}}function gb(r,e,i){return r instanceof _c?(function(o,f){const d={fields:{[w_]:{stringValue:x_},[C_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Ld(f)&&(f=Cc(f)),f&&(d.fields[R_]=f),{mapValue:d}})(i,e):r instanceof go?Q_(r,e):r instanceof po?Z_(r,e):(function(o,f){const d=G_(o,f),y=g0(d)+g0(o.Ae);return cd(d)&&cd(o.Ae)?q_(y):Bd(o.serializer,y)})(r,e)}function pb(r,e,i){return r instanceof go?Q_(r,e):r instanceof po?Z_(r,e):i}function G_(r,e){return r instanceof vc?(function(a){return cd(a)||(function(f){return!!f&&"doubleValue"in f})(a)})(e)?e:{integerValue:0}:null}class _c extends Ic{}class go extends Ic{constructor(e){super(),this.elements=e}}function Q_(r,e){const i=F_(e);for(const a of r.elements)i.some((o=>Di(o,a)))||i.push(a);return{arrayValue:{values:i}}}class po extends Ic{constructor(e){super(),this.elements=e}}function Z_(r,e){let i=F_(e);for(const a of r.elements)i=i.filter((o=>!Di(o,a)));return{arrayValue:{values:i}}}class vc extends Ic{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g0(r){return xe(r.integerValue||r.doubleValue)}function F_(r){return jd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yb(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof go&&o instanceof go||a instanceof po&&o instanceof po?zr(a.elements,o.elements,Di):a instanceof vc&&o instanceof vc?Di(a.Ae,o.Ae):a instanceof _c&&o instanceof _c})(r.transform,e.transform)}class _b{constructor(e,i){this.version=e,this.transformResults=i}}class ns{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oc{}function Y_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new K_(r.key,ns.none()):new To(r.key,r.data,ns.none());{const i=r.data,a=Hn.empty();let o=new Be($e.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?a.delete(f):a.set(f,d),o=o.add(f)}return new ja(r.key,a,new si(o.toArray()),ns.none())}}function vb(r,e,i){r instanceof To?(function(o,f,d){const y=o.value.clone(),v=y0(o.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof ja?(function(o,f,d){if(!ac(o.precondition,f))return void f.convertToUnknownDocument(d.version);const y=y0(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(X_(o)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ro(r,e,i,a){return r instanceof To?(function(f,d,y,v){if(!ac(f.precondition,d))return y;const _=f.value.clone(),S=_0(f.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof ja?(function(f,d,y,v){if(!ac(f.precondition,d))return y;const _=_0(f.fieldTransforms,v,d),S=d.data;return S.setAll(X_(f)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(f,d,y){return ac(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function Eb(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),f=G_(a.transform,o||null);f!=null&&(i===null&&(i=Hn.empty()),i.set(a.field,f))}return i||null}function p0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&zr(a,o,((f,d)=>yb(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class To extends Oc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends Oc{constructor(e,i,a,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function X_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function y0(r,e,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const f=r[o],d=f.transform,y=e.data.field(f.field);a.set(f.field,pb(d,y,i[o]))}return a}function _0(r,e,i){const a=new Map;for(const o of r){const f=o.transform,d=i.data.field(o.field);a.set(o.field,gb(f,d,e))}return a}class K_ extends Oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tb extends Oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bb{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&vb(f,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ro(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ro(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=H_();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(o.key)?null:y;const v=Y_(d,y);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),zt())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((i,a)=>p0(i,a)))&&zr(this.baseMutations,e.baseMutations,((i,a)=>p0(i,a)))}}class kd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Yt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return cb})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,a[d].version);return new kd(e,i,a,o)}}class Ab{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Sb{constructor(e,i){this.count=e,this.unchangedNames=i}}var Oe,Pt;function xb(r){switch(r){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function J_(r){if(r===void 0)return ss("GRPC error has no .code"),J.UNKNOWN;switch(r){case Oe.OK:return J.OK;case Oe.CANCELLED:return J.CANCELLED;case Oe.UNKNOWN:return J.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return J.INTERNAL;case Oe.UNAVAILABLE:return J.UNAVAILABLE;case Oe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Oe.NOT_FOUND:return J.NOT_FOUND;case Oe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Oe.ABORTED:return J.ABORTED;case Oe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Oe.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:r})}}(Pt=Oe||(Oe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function wb(){return new TextEncoder}const Rb=new Zs([4294967295,4294967295],0);function v0(r){const e=wb().encode(r),i=new d_;return i.update(e),new Uint8Array(i.digest())}function E0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Zs([i,a],0),new Zs([o,f],0)]}class Pd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(a<0)throw new Wl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Zs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Zs.fromNumber(a)));return o.compare(Rb)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v0(e),[a,o]=E0(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(a,o,f);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Pd(f,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=v0(e),[a,o]=E0(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(a,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lc{constructor(e,i,a,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Lc(bt.min(),o,new me(jt),as(),zt())}}class bo{constructor(e,i,a,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new bo(a,i,zt(),zt(),zt())}}class rc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class $_{constructor(e,i){this.targetId=e,this.Ce=i}}class W_{constructor(e,i,a=We.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class T0{constructor(){this.ve=0,this.Fe=b0(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Et(38017,{changeType:f})}})),new bo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=b0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cb{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Ju(),this.He=Ju(),this.Ye=new me(jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(fd(f))if(a===0){const d=new pt(f.path);this.et(i,d,rn.newNoDocument(d,bt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:f=0}=i;let d,y;try{d=$s(a).toUint8Array()}catch(v){if(v instanceof S_)return jr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Pd(d,o,f)}catch(v){return jr(v instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&fd(y.target)){const v=new pt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,rn.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let a=zt();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new Lc(e,i,this.Ye,this.je,a);return this.je=as(),this.Je=Ju(),this.He=Ju(),this.Ye=new me(jt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new T0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Be(jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Be(jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ju(){return new me(pt.comparator)}function b0(){return new me(pt.comparator)}const Nb={asc:"ASCENDING",desc:"DESCENDING"},Db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mb={and:"AND",or:"OR"};class Vb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function md(r,e){return r.useProto3Json||Rc(e)?e:{value:e}}function Ec(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ib(r,e){return Ec(r,e.toTimestamp())}function Ri(r){return Yt(!!r,49232),bt.fromTimestamp((function(i){const a=Js(i);return new ce(a.seconds,a.nanos)})(r))}function Hd(r,e){return gd(r,e).canonicalString()}function gd(r,e){const i=(function(o){return new de(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function ev(r){const e=de.fromString(r);return Yt(rv(e),10190,{key:e.toString()}),e}function pd(r,e){return Hd(r.databaseId,e.path)}function Yf(r,e){const i=ev(e);if(i.get(1)!==r.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(iv(i))}function nv(r,e){return Hd(r.databaseId,e)}function Ob(r){const e=ev(r);return e.length===4?de.emptyPath():iv(e)}function yd(r){return new de(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iv(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function A0(r,e,i){return{name:pd(r,e),fields:i.value.mapValue.fields}}function Lb(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(_,S){return _.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),We.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),We.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:J_(_.code);return new ft(S,_.message||"")})(d);i=new W_(a,o,f,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yf(r,a.document.name),f=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):bt.min(),y=new Hn({mapValue:{fields:a.document.fields}}),v=rn.newFoundDocument(o,f,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new rc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yf(r,a.document),f=a.readTime?Ri(a.readTime):bt.min(),d=rn.newNoDocument(o,f),y=a.removedTargetIds||[];i=new rc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yf(r,a.document),f=a.removedTargetIds||[];i=new rc([],f,o,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:f}=a,d=new Sb(o,f),y=a.targetId;i=new $_(y,d)}}return i}function jb(r,e){let i;if(e instanceof To)i={update:A0(r,e.key,e.value)};else if(e instanceof K_)i={delete:pd(r,e.key)};else if(e instanceof ja)i={update:A0(r,e.key,e.data),updateMask:Qb(e.fieldMask)};else{if(!(e instanceof Tb))return Et(16599,{Vt:e.type});i={verify:pd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(f,d){const y=d.transform;if(y instanceof _c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof vc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:Ib(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Et(27497)})(r,e.precondition)),i}function zb(r,e){return r&&r.length>0?(Yt(e!==void 0,14353),r.map((i=>(function(o,f){let d=o.updateTime?Ri(o.updateTime):Ri(f);return d.isEqual(bt.min())&&(d=Ri(f)),new _b(d,o.transformResults||[])})(i,e)))):[]}function Ub(r,e){return{documents:[nv(r,e.path)]}}function Bb(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nv(r,o);const f=(function(_){if(_.length!==0)return av(Mi.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((S=>(function(O){return{field:Dr(O.field),direction:Hb(O.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=md(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function kb(r){let e=Ob(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Yt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let f=[];i.where&&(f=(function(w){const O=sv(w);return O instanceof Mi&&O_(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function($){return new yc(Mr($.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let O;return O=typeof w=="object"?w.value:w,Rc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(w){const O=!!w.before,G=w.values||[];return new pc(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const O=!w.before,G=w.values||[];return new pc(G,O)})(i.endAt)),sb(e,o,d,f,y,"F",v,_)}function Pb(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function sv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Mr(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Mr(i.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Mr(i.unaryFilter.field);return ze.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mr(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(Mr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>sv(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function Hb(r){return Nb[r]}function qb(r){return Db[r]}function Gb(r){return Mb[r]}function Dr(r){return{fieldPath:r.canonicalString()}}function Mr(r){return $e.fromServerFormat(r.fieldPath)}function av(r){return r instanceof ze?(function(i){if(i.op==="=="){if(c0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NAN"}};if(u0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NAN"}};if(u0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(i.field),op:qb(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((o=>av(o)));return a.length===1?a[0]:{compositeFilter:{op:Gb(i.op),filters:a}}})(r):Et(54877,{filter:r})}function Qb(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qs{constructor(e,i,a,o,f=bt.min(),d=bt.min(),y=We.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zb{constructor(e){this.yt=e}}function Fb(r){const e=kb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dd(e,e.limit,"L"):e}class Yb{constructor(){this.Cn=new Xb}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Ks.min())}updateCollectionGroup(e,i,a){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class Xb{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Be(de.comparator),f=!o.has(a);return this.index[i]=o.add(a),f}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Be(de.comparator)).toArray()}}const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lv=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(lv,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class kr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kr(0)}static cr(){return new kr(-1)}}const x0="LruGarbageCollector",Kb=1048576;function w0([r,e],[i,a]){const o=jt(r,i);return o===0?jt(e,a):o}class Jb{constructor(e){this.Ir=e,this.buffer=new Be(w0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();w0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $b{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(x0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qr(i)?lt(x0,"Ignoring IndexedDB error during garbage collection: ",i):await Gr(i)}await this.Vr(3e5)}))}}class Wb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(wc.ce);const a=new Jb(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(S0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,f,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(f=w,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),Cr()<=Ht.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:w}))))}}function t5(r,e){return new Wb(r,e)}class e5{constructor(){this.changes=new La((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n5{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class i5{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&ro(a.mutation,o,si.empty(),ce.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,zt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=zt()){const o=Da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((f=>{let d=$l();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Da();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,zt())))}populateOverlays(e,i,a){const o=[];return a.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let f=as();const d=ao(),y=(function(){return ao()})();return i.forEach(((v,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof ja)?f=f.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),ro(S.mutation,_,S.mutation.getFieldMask(),ce.now())):d.set(_.key,si.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new n5(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=ao();let o=new me(((d,y)=>d-y)),f=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||si.empty();S=y.applyToLocalView(_,S),a.set(v,S);const w=(o.get(y.batchId)||zt()).add(v);o=o.insert(y.batchId,w)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,w=H_();S.forEach((O=>{if(!f.has(O)){const G=Y_(i.get(O),a.get(O));G!==null&&w.set(O,G),f=f.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return K.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ab(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-f.size):K.resolve(Da());let y=co,v=f;return d.next((_=>K.forEach(_,((S,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),f.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next((O=>{v=v.insert(S,O)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,zt()))).next((S=>({batchId:y,changes:P_(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const f=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,f).next((y=>K.forEach(y,(v=>{const _=(function(w,O){return new Nc(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,f,o)))).next((d=>{f.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,rn.newInvalidDocument(S)))}));let y=$l();return d.forEach(((v,_)=>{const S=f.get(v);S!==void 0&&ro(S.mutation,_,si.empty(),ce.now()),Vc(i,_)&&(y=y.insert(v,_))})),y}))}}class s5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Fb(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),K.resolve()}}class a5{constructor(){this.overlays=new me(pt.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Da();return K.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&a.set(o,f)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,f)=>{this.St(e,i,f)})),K.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(e,i,a){const o=Da(),f=i.length+1,d=new pt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>a&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let f=new me(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=f.get(_.largestBatchId);S===null&&(S=Da(),f=f.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=Da(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return K.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ab(i,a));let f=this.qr.get(i);f===void 0&&(f=zt(),this.qr.set(i,f)),this.qr.set(i,f.add(a.key))}}class r5{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}class qd{constructor(){this.Qr=new Be(Ge.$r),this.Ur=new Be(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ge(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ge(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pt(new de([])),a=new Ge(i,e),o=new Ge(i,e+1),f=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new de([])),a=new Ge(i,e),o=new Ge(i,e+1);let f=zt();return this.Ur.forEachInRange([a,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Ge(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ge{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||jt(e.Yr,i.Yr)}static Kr(e,i){return jt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}class l5{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Ge.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bb(f,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ge(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),f=o<0?0:o;return K.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Od:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);f.push(y)})),K.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Be(jt);return i.forEach((o=>{const f=new Ge(o,0),d=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{a=a.add(y.Yr)}))})),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let f=a;pt.isDocumentKey(f)||(f=f.child(""));const d=new Ge(new pt(f),0);let y=new Be(jt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,(o=>{const f=new Ge(o.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ge(i,0),o=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class o5{constructor(e){this.ri=e,this.docs=(function(){return new me(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let a=as();return i.forEach((o=>{const f=this.docs.get(o);a=a.insert(o,f?f.document.mutableCopy():rn.newInvalidDocument(o))})),K.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let f=as();const d=i.path,y=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||jT(LT(S),a)<=0||(o.has(S.key)||Vc(i,S))&&(f=f.insert(S.key,S.mutableCopy()))}return K.resolve(f)}getAllFromCollectionGroup(e,i,a,o){Et(9500)}ii(e,i){return K.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new u5(this)}getSize(e){return K.resolve(this.size)}}class u5 extends e5{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class c5{constructor(e){this.persistence=e,this.si=new La((i=>zd(i)),Ud),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new qd,this.targetCount=0,this.ai=kr.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,a){let o=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),K.waitFor(f).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}class ov{constructor(e,i){this.ui={},this.overlays={},this.ci=new wc(0),this.li=!1,this.li=!0,this.hi=new r5,this.referenceDelegate=e(this),this.Pi=new c5(this),this.indexManager=new Yb,this.remoteDocumentCache=(function(o){return new o5(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Zb(i),this.Ii=new s5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new a5,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new l5(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){lt("MemoryPersistence","Starting transaction:",e);const o=new h5(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return K.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class h5 extends UT{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Ri=new qd,this.Vi=null}static mi(e){return new Gd(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(a=>{const o=pt.fromPath(a);return this.gi(e,o).next((f=>{f||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Tc{constructor(e,i){this.persistence=e,this.pi=new La((a=>PT(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=t5(this,i)}static mi(e,i){return new Tc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((a,o)=>this.br(e,a,o).next((f=>f?K.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,f.removeEntry(d,bt.min()))})))).next((()=>f.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),K.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ic(e.data.value)),i}br(e,i,a){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=zt(),o=zt();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new Qd(e,i.fromCache,a,o)}}class f5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nE()?8:BT(tE())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,a).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new f5;return this.Ss(e,i,d).next((y=>{if(f.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>f.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Cr()<=Ht.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Nr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Cr()<=Ht.DEBUG&&lt("QueryEngine","Query:",Nr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Cr()<=Ht.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Nr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(i))):K.resolve())}ys(e,i){if(m0(i))return K.resolve(null);let a=wi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=dd(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((f=>{const d=zt(...f);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,dd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return m0(i)||o.isEqual(bt.min())?K.resolve(null):this.ps.getDocuments(e,a).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,a,o)?K.resolve(null):(Cr()<=Ht.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nr(i)),this.vs(e,d,i,OT(o,co)).next((y=>y)))}))}Ds(e,i){let a=new Be(B_(e));return i.forEach(((o,f)=>{Vc(e,f)&&(a=a.add(f))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,a){return Cr()<=Ht.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Nr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ks.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const Zd="LocalStore",m5=3e8;class g5{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new me(jt),this.xs=new La((f=>zd(f)),Ud),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function p5(r,e,i,a){return new g5(r,e,i,a)}async function uv(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((f=>{const d=[],y=[];let v=zt();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of f){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function y5(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const w=_.batch,O=w.keys();let G=K.resolve();return O.forEach(($=>{G=G.next((()=>S.getEntry(v,$))).next((st=>{const tt=_.docVersions.get($);Yt(tt!==null,48541),st.version.compareTo(tt)<0&&(w.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),S.addEntry(st)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(v,w)))})(i,a,e,f).next((()=>f.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=zt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function cv(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function _5(r,e){const i=xt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((S,w)=>{const O=o.get(w);if(!O)return;y.push(i.Pi.removeMatchingKeys(f,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(f,S.addedDocuments,w))));let G=O.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(We.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),o=o.insert(w,G),(function(st,tt,vt){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=m5?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0})(O,G,S)&&y.push(i.Pi.updateTargetData(f,G))}));let v=as(),_=zt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,S))})),y.push(v5(f,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!a.isEqual(bt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(f).next((w=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,a)));y.push(S)}return K.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=o,f)))}function v5(r,e,i){let a=zt(),o=zt();return i.forEach((f=>a=a.add(f))),e.getEntries(r,a).next((f=>{let d=as();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(bt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):lt(Zd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function E5(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function T5(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((f=>f?(o=f,K.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new qs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _d(r,e,i){const a=xt(r),o=a.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",f,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Qr(d))throw d;lt(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function R0(r,e,i){const a=xt(r);let o=bt.min(),f=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const w=xt(v),O=w.xs.get(S);return O!==void 0?K.resolve(w.Ms.get(O)):w.Pi.getTargetData(_,S)})(a,d,wi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?f:zt()))).next((y=>(b5(a,lb(e),y),{documents:y,Qs:f})))))}function b5(r,e,i){let a=r.Os.get(e)||bt.min();i.forEach(((o,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)})),r.Os.set(e,a)}class C0{constructor(){this.activeTargetIds=db()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A5{constructor(){this.Mo=new C0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S5{Oo(e){}shutdown(){}}const N0="ConnectivityMonitor";class D0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(N0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(N0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $u=null;function vd(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}const Xf="RestConnection",x5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===mc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,f){const d=vd(),y=this.zo(e,i.toUriEncodedString());lt(Xf,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(y),S=Nd(_);return this.Jo(e,y,v,a,S).then((w=>(lt(Xf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw jr(Xf,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(e,i,a,o,f,d){return this.Go(e,i,a,o,f)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),a&&a.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const a=x5[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class R5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class C5 extends w5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,f){const d=vd();return new Promise(((y,v)=>{const _=new m_;_.setWithCredentials(!0),_.listenOnce(g_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case nc.NO_ERROR:const w=_.getResponseJson();lt(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case nc.TIMEOUT:lt(sn,`RPC '${e}' ${d} timed out`),v(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const O=_.getStatus();if(lt(sn,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const st=(function(vt){const Tt=vt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Tt)>=0?Tt:J.UNKNOWN})($.status);v(new ft(st,$.message))}else v(new ft(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ft(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(sn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);lt(sn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=vd(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=__(),y=y_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=f.join("");lt(sn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const w=d.createWebChannel(S,v);this.I_(w);let O=!1,G=!1;const $=new R5({Yo:tt=>{G?lt(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(O||(lt(sn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),O=!0),lt(sn,`RPC '${e}' stream ${o} sending:`,tt),w.send(tt))},Zo:()=>w.close()}),st=(tt,vt,Tt)=>{tt.listen(vt,(gt=>{try{Tt(gt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return st(w,Jl.EventType.OPEN,(()=>{G||(lt(sn,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),st(w,Jl.EventType.CLOSE,(()=>{G||(G=!0,lt(sn,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(w))})),st(w,Jl.EventType.ERROR,(tt=>{G||(G=!0,jr(sn,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),$.a_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),st(w,Jl.EventType.MESSAGE,(tt=>{if(!G){const vt=tt.data[0];Yt(!!vt,16349);const Tt=vt,gt=Tt?.error||Tt[0]?.error;if(gt){lt(sn,`RPC '${e}' stream ${o} received error:`,gt);const Bt=gt.status;let Ft=(function(A){const x=Oe[A];if(x!==void 0)return J_(x)})(Bt),At=gt.message;Ft===void 0&&(Ft=J.INTERNAL,At="Unknown error status: "+Bt+" with message "+gt.message),G=!0,$.a_(new ft(Ft,At)),w.close()}else lt(sn,`RPC '${e}' stream ${o} received:`,vt),$.u_(vt)}})),st(y,p_.STAT_EVENT,(tt=>{tt.stat===ld.PROXY?lt(sn,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===ld.NOPROXY&&lt(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kf(){return typeof document<"u"?document:null}function jc(r){return new Vb(r,!0)}class hv{constructor(e,i,a=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M0="PersistentStream";class fv{constructor(e,i,a,o,f,d,y,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ft(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(M0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N5 extends fv{constructor(e,i,a,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Lb(this.serializer,e),a=(function(f){if(!("targetChange"in f))return bt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Ri(d.readTime):bt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=yd(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=fd(v)?{documents:Ub(f,v)}:{query:Bb(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=tv(f,d.resumeToken);const _=md(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){y.readTime=Ec(f,d.snapshotVersion.toTimestamp());const _=md(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=Pb(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=yd(this.serializer),i.removeTarget=e,this.q_(i)}}class D5 extends fv{constructor(e,i,a,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=zb(e.writeResults,e.commitTime),a=Ri(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=yd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>jb(this.serializer,a)))};this.q_(i)}}class M5{}class V5 extends M5{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,gd(i,a),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(J.UNKNOWN,f.toString())}))}Ho(e,i,a,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,gd(i,a),o,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class I5{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class O5{constructor(e,i,a,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{za(this)&&(lt(Ia,"Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.Ea.add(4),await Ao(_),_.Ra.set("Unknown"),_.Ea.delete(4),await zc(_)})(this))}))})),this.Ra=new I5(a,o)}}async function zc(r){if(za(r))for(const e of r.da)await e(!0)}async function Ao(r){for(const e of r.da)await e(!1)}function dv(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Kd(i)?Xd(i):Zr(i).O_()&&Yd(i,e))}function Fd(r,e){const i=xt(r),a=Zr(i);i.Ia.delete(e),a.O_()&&mv(i,e),i.Ia.size===0&&(a.O_()?a.L_():za(i)&&i.Ra.set("Unknown"))}function Yd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zr(r).Y_(e)}function mv(r,e){r.Va.Ue(e),Zr(r).Z_(e)}function Xd(r){r.Va=new Cb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zr(r).start(),r.Ra.ua()}function Kd(r){return za(r)&&!Zr(r).x_()&&r.Ia.size>0}function za(r){return xt(r).Ea.size===0}function gv(r){r.Va=void 0}async function L5(r){r.Ra.set("Online")}async function j5(r){r.Ia.forEach(((e,i)=>{Yd(r,e)}))}async function z5(r,e){gv(r),Kd(r)?(r.Ra.ha(e),Xd(r)):r.Ra.set("Unknown")}async function U5(r,e,i){if(r.Ra.set("Online"),e instanceof W_&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const y of f.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){lt(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await bc(r,a)}else if(e instanceof rc?r.Va.Ze(e):e instanceof $_?r.Va.st(e):r.Va.tt(e),!i.isEqual(bt.min()))try{const a=await cv(r.localStore);i.compareTo(a)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=f.Ia.get(_);S&&f.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=f.Ia.get(v);if(!S)return;f.Ia.set(v,S.withResumeToken(We.EMPTY_BYTE_STRING,S.snapshotVersion)),mv(f,v);const w=new qs(S.target,v,_,S.sequenceNumber);Yd(f,w)})),f.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){lt(Ia,"Failed to raise snapshot:",a),await bc(r,a)}}async function bc(r,e,i){if(!Qr(e))throw e;r.Ea.add(1),await Ao(r),r.Ra.set("Offline"),i||(i=()=>cv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await zc(r)}))}function pv(r,e){return e().catch((i=>bc(r,i,e)))}async function Uc(r){const e=xt(r),i=ta(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Od;for(;B5(e);)try{const o=await E5(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,k5(e,o)}catch(o){await bc(e,o)}yv(e)&&_v(e)}function B5(r){return za(r)&&r.Ta.length<10}function k5(r,e){r.Ta.push(e);const i=ta(r);i.O_()&&i.X_&&i.ea(e.mutations)}function yv(r){return za(r)&&!ta(r).x_()&&r.Ta.length>0}function _v(r){ta(r).start()}async function P5(r){ta(r).ra()}async function H5(r){const e=ta(r);for(const i of r.Ta)e.ea(i.mutations)}async function q5(r,e,i){const a=r.Ta.shift(),o=kd.from(a,e,i);await pv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Uc(r)}async function G5(r,e){e&&ta(r).X_&&await(async function(a,o){if((function(d){return xb(d)&&d!==J.ABORTED})(o.code)){const f=a.Ta.shift();ta(a).B_(),await pv(a,(()=>a.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Uc(a)}})(r,e),yv(r)&&_v(r)}async function V0(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),lt(Ia,"RemoteStore received new credentials");const a=za(i);i.Ea.add(3),await Ao(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zc(i)}async function Q5(r,e){const i=xt(r);e?(i.Ea.delete(2),await zc(i)):e||(i.Ea.add(2),await Ao(i),i.Ra.set("Unknown"))}function Zr(r){return r.ma||(r.ma=(function(i,a,o){const f=xt(i);return f.sa(),new N5(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:L5.bind(null,r),t_:j5.bind(null,r),r_:z5.bind(null,r),H_:U5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Kd(r)?Xd(r):r.Ra.set("Unknown")):(await r.ma.stop(),gv(r))}))),r.ma}function ta(r){return r.fa||(r.fa=(function(i,a,o){const f=xt(i);return f.sa(),new D5(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:P5.bind(null,r),r_:G5.bind(null,r),ta:H5.bind(null,r),na:q5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Uc(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jd{constructor(e,i,a,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=f,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,f){const d=Date.now()+a,y=new Jd(e,i,d,o,f);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(r,e){if(ss("AsyncQueue",`${e}: ${r}`),Qr(r))return new ft(J.UNAVAILABLE,`${e}: ${r}`);throw r}class Ir{static emptySet(e){return new Ir(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=$l(),this.sortedSet=new me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ir;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class I0{constructor(){this.ga=new me(pt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Pr{constructor(e,i,a,o,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Pr(e,i,Ir.emptySet(i),d,a,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Z5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class F5{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xt(i),f=o.queries;o.queries=O0(),f.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function O0(){return new La((r=>U_(r)),Mc)}async function vv(r,e){const i=xt(r);let a=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(a=2):(f=new Z5,a=e.Da()?0:1);try{switch(a){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=$d(d,`Initialization of query '${Nr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Wd(i)}async function Ev(r,e){const i=xt(r),a=e.query;let o=3;const f=i.queries.get(a);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Y5(r,e){const i=xt(r);let a=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&Wd(i)}function X5(r,e,i){const a=xt(r),o=a.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);a.queries.delete(e)}function Wd(r){r.Ca.forEach((e=>{e.next()}))}var Ed,L0;(L0=Ed||(Ed={})).Ma="default",L0.Cache="cache";class Tv{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Pr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ed.Cache}}class bv{constructor(e){this.key=e}}class Av{constructor(e){this.key=e}}class K5{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=B_(e),this.tu=new Ir(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new I0,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const O=o.get(S),G=Vc(this.query,w)?w:null,$=!!O&&this.mutatedKeys.has(O.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;O&&G?O.data.isEqual(G.data)?$!==st&&(a.track({type:3,doc:G}),tt=!0):this.su(O,G)||(a.track({type:2,doc:G}),tt=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(y=!0)):!O&&G?(a.track({type:0,doc:G}),tt=!0):O&&!G&&(a.track({type:1,doc:O}),tt=!0,(v||_)&&(y=!0)),tt&&(G?(d=d.add(G),f=st?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(G,$){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:tt})}};return st(G)-st($)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Pr(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Av(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new bv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tm="SyncEngine";class J5{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class $5{constructor(e){this.key=e,this.hu=!1}}class W5{constructor(e,i,a,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new La((y=>U_(y)),Mc),this.Iu=new Map,this.Eu=new Set,this.du=new me(pt.comparator),this.Au=new Map,this.Ru=new qd,this.Vu={},this.mu=new Map,this.fu=kr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t4(r,e,i=!0){const a=Nv(r);let o;const f=a.Tu.get(e);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await Sv(a,e,i,!0),o}async function e4(r,e){const i=Nv(r);await Sv(i,e,!0,!1)}async function Sv(r,e,i,a){const o=await T5(r.localStore,wi(e)),f=o.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let y;return a&&(y=await n4(r,e,f,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&dv(r.remoteStore,o),y}async function n4(r,e,i,a,o){r.pu=(w,O,G)=>(async function(st,tt,vt,Tt){let gt=tt.view.ru(vt);gt.Cs&&(gt=await R0(st.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,gt))));const Bt=Tt&&Tt.targetChanges.get(tt.targetId),Ft=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,At=tt.view.applyChanges(gt,st.isPrimaryClient,Bt,Ft);return z0(st,tt.targetId,At.au),At.snapshot})(r,w,O,G);const f=await R0(r.localStore,e,!0),d=new K5(e,f.Qs),y=d.ru(f.documents),v=bo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);z0(r,i,_.au);const S=new J5(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function i4(r,e,i){const a=xt(r),o=a.Tu.get(e),f=a.Iu.get(o.targetId);if(f.length>1)return a.Iu.set(o.targetId,f.filter((d=>!Mc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _d(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Fd(a.remoteStore,o.targetId),Td(a,o.targetId)})).catch(Gr)):(Td(a,o.targetId),await _d(a.localStore,o.targetId,!0))}async function s4(r,e){const i=xt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fd(i.remoteStore,a.targetId))}async function a4(r,e,i){const a=f4(r);try{const o=await(function(d,y){const v=xt(d),_=ce.now(),S=y.reduce(((G,$)=>G.add($.key)),zt());let w,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=as(),st=zt();return v.Ns.getEntries(G,S).next((tt=>{$=tt,$.forEach(((vt,Tt)=>{Tt.isValidDocument()||(st=st.add(vt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((tt=>{w=tt;const vt=[];for(const Tt of y){const gt=Eb(Tt,w.get(Tt.key).overlayedDocument);gt!=null&&vt.push(new ja(Tt.key,gt,M_(gt.value.mapValue),ns.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,vt,y)})).next((tt=>{O=tt;const vt=tt.applyToLocalDocumentSet(w,st);return v.documentOverlayCache.saveOverlays(G,tt.batchId,vt)}))})).then((()=>({batchId:O.batchId,changes:P_(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(jt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await So(a,o.changes),await Uc(a.remoteStore)}catch(o){const f=$d(o,"Failed to persist write");i.reject(f)}}async function xv(r,e){const i=xt(r);try{const a=await _5(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Yt(d.hu,14607):o.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await So(i,a,e)}catch(a){await Gr(a)}}function j0(r,e,i){const a=xt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=xt(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,w)=>{for(const O of w.Sa)O.va(y)&&(_=!0)})),_&&Wd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function r4(r,e,i){const a=xt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),f=o&&o.key;if(f){let d=new me(pt.comparator);d=d.insert(f,rn.newNoDocument(f,bt.min()));const y=zt().add(f),v=new Lc(bt.min(),new Map,new me(jt),d,y);await xv(a,v),a.du=a.du.remove(f),a.Au.delete(e),em(a)}else await _d(a.localStore,e,!1).then((()=>Td(a,e,i))).catch(Gr)}async function l4(r,e){const i=xt(r),a=e.batch.batchId;try{const o=await y5(i.localStore,e);Rv(i,a,null),wv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await So(i,o)}catch(o){await Gr(o)}}async function o4(r,e,i){const a=xt(r);try{const o=await(function(d,y){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((w=>(Yt(w!==null,37113),S=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);Rv(a,e,i),wv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await So(a,o)}catch(o){await Gr(o)}}function wv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Rv(r,e,i){const a=xt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Cv(r,a)}))}function Cv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Fd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),em(r))}function z0(r,e,i){for(const a of i)a instanceof bv?(r.Ru.addReference(a.key,e),u4(r,a)):a instanceof Av?(lt(tm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Cv(r,a.key)):Et(19791,{wu:a})}function u4(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(tm,"New document in limbo: "+i),r.Eu.add(a),em(r))}function em(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(de.fromString(e)),a=r.fu.next();r.Au.set(a,new $5(i)),r.du=r.du.insert(i,a),dv(r.remoteStore,new qs(wi(Dc(i.path)),a,"TargetPurposeLimboResolution",wc.ce))}}async function So(r,e,i){const a=xt(r),o=[],f=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Qd.As(v.targetId,_);f.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const S=xt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>K.forEach(_,(O=>K.forEach(O.Es,(G=>S.persistence.referenceDelegate.addReference(w,O.targetId,G))).next((()=>K.forEach(O.ds,(G=>S.persistence.referenceDelegate.removeReference(w,O.targetId,G)))))))))}catch(w){if(!Qr(w))throw w;lt(Zd,"Failed to update sequence numbers: "+w)}for(const w of _){const O=w.targetId;if(!w.fromCache){const G=S.Ms.get(O),$=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(O,st)}}})(a.localStore,f))}async function c4(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){lt(tm,"User change. New user:",e.toKey());const a=await uv(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new ft(J.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await So(i,a.Ls)}}function h4(r,e){const i=xt(r),a=i.Au.get(e);if(a&&a.hu)return zt().add(a.key);{let o=zt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function Nv(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r4.bind(null,e),e.Pu.H_=Y5.bind(null,e.eventManager),e.Pu.yu=X5.bind(null,e.eventManager),e}function f4(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return p5(this.persistence,new d5,e.initialUser,this.serializer)}Cu(e){return new ov(Gd.mi,this.serializer)}Du(e){return new A5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class d4 extends Ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Yt(this.persistence.referenceDelegate instanceof Tc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $b(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ov((a=>Tc.mi(a,i)),this.serializer)}}class bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>j0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=c4.bind(null,this.syncEngine),await Q5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new F5})()}createDatastore(e){const i=jc(e.databaseInfo.databaseId),a=(function(f){return new C5(f)})(e.databaseInfo);return(function(f,d,y,v){return new V5(f,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,f,d,y){return new O5(a,o,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>j0(this.syncEngine,i,0)),(function(){return D0.v()?new D0:new S5})())}createSyncEngine(e,i){return(function(o,f,d,y,v,_,S){const w=new W5(o,f,d,y,v,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xt(i);lt(Ia,"RemoteStore shutting down."),a.Ea.add(5),await Ao(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bd.provider={build:()=>new bd};class Dv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ea="FirestoreClient";class m4{constructor(e,i,a,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,(async d=>{lt(ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=$d(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jf(r,e){r.asyncQueue.verifyOperationInProgress(),lt(ea,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await uv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function U0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await g4(r);lt(ea,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>V0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>V0(e.remoteStore,o))),r._onlineComponents=e}async function g4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(ea,"Using user provided OfflineComponentProvider");try{await Jf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),await Jf(r,new Ac)}}else lt(ea,"Using default OfflineComponentProvider"),await Jf(r,new d4(void 0));return r._offlineComponents}async function Mv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(ea,"Using user provided OnlineComponentProvider"),await U0(r,r._uninitializedComponentsProvider._online)):(lt(ea,"Using default OnlineComponentProvider"),await U0(r,new bd))),r._onlineComponents}function p4(r){return Mv(r).then((e=>e.syncEngine))}async function Ad(r){const e=await Mv(r),i=e.eventManager;return i.onListen=t4.bind(null,e.syncEngine),i.onUnlisten=i4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=e4.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=s4.bind(null,e.syncEngine),i}function y4(r,e,i={}){const a=new Fs;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const S=new Dv({next:O=>{S.Nu(),d.enqueueAndForget((()=>Ev(f,w)));const G=O.docs.has(y);!G&&O.fromCache?_.reject(new ft(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&v&&v.source==="server"?_.reject(new ft(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),w=new Tv(Dc(y.path),S,{includeMetadataChanges:!0,qa:!0});return vv(f,w)})(await Ad(r),r.asyncQueue,e,i,a))),a.promise}function Vv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const B0=new Map;const Iv="firestore.googleapis.com",k0=!0;class P0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iv,this.ssl=k0}else this.host=e.host,this.ssl=e.ssl??k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kb)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new bT;switch(a.type){case"firstParty":return new wT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=B0.get(i);a&&(lt("ComponentProvider","Removing Datastore"),B0.delete(i),a.terminate())})(this),Promise.resolve()}}function _4(r,e,i,a={}){r=Ys(r,nm);const o=Nd(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(X2(`https://${y}`),W2("Firestore",!0)),f.host!==Iv&&f.host!==y&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:o,emulatorOptions:a};if(!cc(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=an.MOCK_USER;else{_=K2(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(w)}r._authCredentials=new AT(new E_(_,S))}}class Bc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Bc(this.firestore,e,this._query)}}class Ue{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Eo(i,Ue._jsonSchema))return new Ue(e,a||null,new pt(de.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Le("string",Ue._jsonSchemaVersion),referencePath:Le("string")};class yo extends Bc{constructor(e,i,a){super(e,i,Dc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new pt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Ps(r,e,...i){if(r=lo(r),arguments.length===1&&(e=Vd.newId()),VT("doc","path",e),r instanceof nm){const a=de.fromString(e,...i);return e0(a),new Ue(r,null,new pt(a))}{if(!(r instanceof Ue||r instanceof yo))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(de.fromString(e,...i));return e0(a),new Ue(r.firestore,r instanceof yo?r.converter:null,new pt(a))}}const H0="AsyncQueue";class q0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hv(this,"async_queue_retry"),this._c=()=>{const a=Kf();a&&lt(H0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qr(e))throw e;lt(H0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",G0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Jd.createAndSchedule(this,e,i,a,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:G0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function G0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Q0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const f of a)if(f in o&&typeof o[f]=="function")return!0;return!1})(r,["next","error","complete"])}class _o extends nm{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new q0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function v4(r,e){const i=typeof r=="object"?r:uT(),a=typeof r=="string"?r:mc,o=sT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const f=F2("firestore");f&&_4(o,...f)}return o}function im(r){if(r._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||E4(r),r._firestoreClient}function E4(r){const e=r._freezeSettings(),i=(function(o,f,d,y){return new GT(o,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Vv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new m4(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const f=o?._online.build();return{_offline:o?._offline.build(f),_online:f}})(r._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(We.fromBase64String(e))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new qn(We.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eo(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Le("string",qn._jsonSchemaVersion),bytes:Le("string")};class sm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ov{constructor(e){this._methodName=e}}class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Eo(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Le("string",Ci._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eo(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ni(e.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Le("string",Ni._jsonSchemaVersion),vectorValues:Le("object")};const T4=/^__.*__$/;class b4{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new To(e,this.data,i,this.fieldTransforms)}}function Lv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class am{constructor(e,i,a,o,f,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new am({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lv(this.Ac)&&T4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A4{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||jc(e)}Cc(e,i,a,o=!1){return new am({Ac:e,methodName:i,Dc:a,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S4(r){const e=r._freezeSettings(),i=jc(r._databaseId);return new A4(r._databaseId,!!e.ignoreUndefinedProperties,i)}function x4(r,e,i,a,o,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,o);Bv("Data must be an object, but it was:",d,a);const y=zv(a,d);let v,_;if(f.merge)v=new si(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const S=[];for(const w of f.mergeFields){const O=w4(e,w,i);if(!d.contains(O))throw new ft(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);C4(S,O)||S.push(O)}v=new si(S),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new b4(new Hn(y),v,_)}function jv(r,e){if(Uv(r=lo(r)))return Bv("Unsupported field value:",e,r),zv(r,e);if(r instanceof Ov)return(function(a,o){if(!Lv(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const f=[];let d=0;for(const y of a){let v=jv(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(a,o){if((a=lo(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return mb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const f=ce.fromDate(a);return{timestampValue:Ec(o.serializer,f)}}if(a instanceof ce){const f=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ec(o.serializer,f)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:tv(o.serializer,a._byteString)};if(a instanceof Ue){const f=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Hd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ni)return(function(d,y){return{mapValue:{fields:{[N_]:{stringValue:D_},[gc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Bd(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Id(a)}`)})(r,e)}function zv(r,e){const i={};return A_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(r,((a,o)=>{const f=jv(o,e.mc(a));f!=null&&(i[a]=f)})),{mapValue:{fields:i}}}function Uv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Ci||r instanceof qn||r instanceof Ue||r instanceof Ov||r instanceof Ni)}function Bv(r,e,i){if(!Uv(i)||!T_(i)){const a=Id(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function w4(r,e,i){if((e=lo(e))instanceof sm)return e._internalPath;if(typeof e=="string")return kv(r,e);throw Sc("Field path arguments must be of type string or ",r,!1,void 0,i)}const R4=new RegExp("[~\\*/\\[\\]]");function kv(r,e,i){if(e.search(R4)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sm(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Sc(r,e,i,a,o){const f=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ft(J.INVALID_ARGUMENT,y+r+v)}function C4(r,e){return r.some((i=>i.isEqual(e)))}class Pv{constructor(e,i,a,o,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Hv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class N4 extends Pv{data(){return super.data()}}function Hv(r,e){return typeof e=="string"?kv(r,e):e instanceof sm?e._internalPath:e._delegate._internalPath}function D4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M4{convertValue(e,i="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Oa(e,((o,f)=>{a[o]=this.convertValue(f,i)})),a}convertVectorValue(e){const i=e.fields?.[gc].arrayValue?.values?.map((a=>xe(a.doubleValue)));return new Ni(i)}convertGeoPoint(e){return new Ci(xe(e.latitude),xe(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Cc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Js(e);return new ce(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=de.fromString(e);Yt(rv(a),9688,{name:e});const o=new fo(a.get(1),a.get(3)),f=new pt(a.popFirst(5));return o.isEqual(i)||ss(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function V4(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends Pv{constructor(e,i,a,o,f,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Hv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ma._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:Le("string",Ma._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class lc extends Ma{data(e={}){return super.data(e)}}class Or{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new lc(this._firestore,this._userDataWriter,a.key,a,new to(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new lc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new to(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new lc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new to(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:I4(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Or._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),a.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}function Z0(r){r=Ys(r,Ue);const e=Ys(r.firestore,_o);return y4(im(e),r._key).then((i=>Gv(e,r,i)))}Or._jsonSchemaVersion="firestore/querySnapshot/1.0",Or._jsonSchema={type:Le("string",Or._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class qv extends M4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function Rr(r,e,i){r=Ys(r,Ue);const a=Ys(r.firestore,_o),o=V4(r.converter,e,i);return O4(a,[x4(S4(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ns.none())])}function F0(r,...e){r=lo(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Q0(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Q0(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let f,d,y;if(r instanceof Ue)d=Ys(r.firestore,_o),y=Dc(r._key.path),f={next:v=>{e[a]&&e[a](Gv(d,r,v))},error:e[a+1],complete:e[a+2]};else{const v=Ys(r,Bc);d=Ys(v.firestore,_o),y=v._query;const _=new qv(d);f={next:S=>{e[a]&&e[a](new Or(d,_,v,S))},error:e[a+1],complete:e[a+2]},D4(r._query)}return(function(_,S,w,O){const G=new Dv(O),$=new Tv(S,G,w);return _.asyncQueue.enqueueAndForget((async()=>vv(await Ad(_),$))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>Ev(await Ad(_),$)))}})(im(d),y,o,f)}function O4(r,e){return(function(a,o){const f=new Fs;return a.asyncQueue.enqueueAndForget((async()=>a4(await p4(a),o,f))),f.promise})(im(r),e)}function Gv(r,e,i){const a=i.docs.get(e._key),o=new qv(r);return new Ma(r,o,e._key,a,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){qr=o})(oT),fc(new oo("firestore",((a,{instanceIdentifier:o,options:f})=>{const d=a.getProvider("app").getImmediate(),y=new _o(new ST(a.getProvider("auth-internal")),new RT(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(_.options.projectId,S)})(d,o),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),Vr(Jy,$y,e),Vr(Jy,$y,"esm2020")})();const L4={apiKey:"AIzaSyCOVszL-lrgbqR8qQFTwYL6lTRH2RcDO4Y",authDomain:"zabudova-sokil.firebaseapp.com",projectId:"zabudova-sokil",storageBucket:"zabudova-sokil.firebasestorage.app",messagingSenderId:"938144772496",appId:"1:938144772496:web:70acbbf28ccdf779708315",measurementId:"G-TGZTM8K6SZ"},j4=c_(L4),Hs=v4(j4);const z4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Y0=r=>{const e=U4(r);return e.charAt(0).toUpperCase()+e.slice(1)},Qv=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),B4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var k4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const P4=mt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:f,iconNode:d,...y},v)=>mt.createElement("svg",{ref:v,...k4,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:Qv("lucide",o),...!f&&!B4(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>mt.createElement(_,S)),...Array.isArray(f)?f:[f]]));const ge=(r,e)=>{const i=mt.forwardRef(({className:a,...o},f)=>mt.createElement(P4,{ref:f,iconNode:e,className:Qv(`lucide-${z4(Y0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Y0(r),i};const H4=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q4=ge("ban",H4);const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vo=ge("circle-check",G4);const Q4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z4=ge("clock",Q4);const F4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zv=ge("copy",F4);const Y4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],X4=ge("file-braces",Y4);const K4=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],J4=ge("hammer",K4);const $4=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],W4=ge("hard-hat",$4);const tA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sd=ge("info",tA);const eA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oc=ge("layers",eA);const nA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],iA=ge("log-in",nA);const sA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aA=ge("log-out",sA);const rA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],X0=ge("map-pin",rA);const lA=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],oA=ge("move",lA);const uA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eo=ge("plus",uA);const cA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hA=ge("search",cA);const fA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K0=ge("settings",fA);const dA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mA=ge("shield",dA);const gA=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],J0=ge("table-2",gA);const pA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xd=ge("trash-2",pA);const yA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_A=ge("triangle-alert",yA);const vA=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],xc=ge("undo-2",vA);const EA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],TA=ge("upload",EA);const bA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wd=ge("x",bA),$0="/Sokil/assets/base-l3KZ_pfi.png",W0="/Sokil/assets/project-CT_Wzm9O.png",$f="bap_project_settings_v4_fixed",Wf="bap_admin_session_v4_fixed",t_="bap_eng_v1",Fv=(r,e,i)=>Math.max(e,Math.min(i,r));function td(r,e){try{return JSON.parse(r)??e}catch{return e}}function AA(r,e){const i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download=r,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(a)}function Yv(r){const e=(r||"").toLowerCase();return["active",""," ","construction"," "].includes(e)?{label:r,icon:vo,cls:"bg-emerald-50 text-emerald-800 ring-emerald-200"}:["planned","",""].includes(e)?{label:r,icon:Z4,cls:"bg-amber-50 text-amber-900 ring-amber-200"}:["blocked","","","hold",""].includes(e)?{label:r,icon:q4,cls:"bg-rose-50 text-rose-900 ring-rose-200"}:{label:r||"",icon:Sd,cls:"bg-slate-50 text-slate-800 ring-slate-200"}}const Lr={overviewTitle:"",overviewDesc:"   ",navigation:"",navDesc:"  ;   ",selectedZone:" ",selectZonePrompt:"      .",zones:"",inProject:"",active:"",searchPlaceholder:" ",filterOnlyProject:":  ",interactiveMapTitle:"",interactiveMapDesc:"",showContours:"",onlyProjectContours:" ",detailsButton:"",addZone:" ",tableEditor:"",paramTitle:" ",paramEmpty:" .",projectInfoTitle:"  ",noProject:"     .",adminLoginTitle:" ",adminLoginDesc:" .     .",adminPasswordLabel:"",cancel:"",login:"",export:"",import:"",logout:"",navigationHintPan:"  ",navigationHintZoom:"  "},Kl={projectName:"-",projectSubtitle:"  ",adminPassword:"admin999",strings:Lr},ed={base:{x:-10,y:-15,s:1},project:{x:0,y:0,s:1},eng:{x:0,y:0,s:1}},e_=Array.isArray(jy)?jy.map((r,e)=>({id:r.id,name:r.name??`Zone ${String(e+1).padStart(2,"0")}`,status:"",area:"",type:"",hasProject:!0,shape:"path",d:r.d,params:{},project:{title:"",description:"",metrics:{}}})):[],SA=Array.isArray(Uy)?Uy.map((r,e)=>({id:r.id,name:r.name??(r.kind==="line"?`Line ${r.id}`:`Zone ${r.id}`),status:"",area:"",type:"",hasProject:!0,shape:r.kind==="polygon"?"path":"line",d:r.d,dash:r.dash??null,params:{},project:{title:"",description:"",metrics:{}}})):[];function Wu({children:r,className:e=""}){return T.jsx("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm "+e,children:r})}function Ke({children:r,onClick:e,className:i="",disabled:a,title:o}){return T.jsx("button",{title:o,onClick:e,disabled:a,className:"px-3 py-2 rounded-xl border text-sm transition flex items-center gap-2 active:scale-[0.99] "+(a?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-white hover:bg-slate-50 border-slate-200 text-slate-800 hover:shadow-sm")+" "+i,children:r})}function Xs({children:r,onClick:e,className:i="",disabled:a,title:o}){return T.jsx("button",{title:o,onClick:e,disabled:a,className:"px-3 py-2 rounded-xl text-sm transition flex items-center gap-2 border active:scale-[0.99] "+(a?"bg-amber-100/40 text-amber-300 border-amber-200 cursor-not-allowed":"bg-amber-500 text-white border-amber-500 hover:bg-amber-600 hover:shadow-sm")+" "+i,children:r})}function tc({icon:r,text:e,className:i=""}){return T.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs "+i,children:[r?T.jsx(r,{className:"w-4 h-4"}):null,T.jsx("span",{children:e})]})}function n_({title:r,children:e,onClose:i,small:a=!1}){return T.jsxs("div",{className:"fixed inset-0 z-50 grid place-items-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:i}),T.jsxs("div",{className:"relative w-full rounded-2xl border border-slate-200 bg-white shadow-lg p-5 "+(a?"max-w-md":"max-w-4xl"),children:[T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsx("div",{className:"text-lg font-semibold",children:r}),T.jsx("button",{onClick:i,className:"p-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition",children:T.jsx(wd,{className:"w-4 h-4"})})]}),T.jsx("div",{className:"mt-4",children:e})]})]})}function es({label:r,children:e,className:i=""}){return T.jsxs("div",{className:i,children:[T.jsx("div",{className:"text-xs text-slate-600 mb-1",children:r}),e]})}function ec({value:r,onChange:e}){return T.jsx("input",{type:"number",value:Number.isFinite(r)?r:0,onChange:i=>e(Fv(parseFloat(i.target.value||"0"),0,100)),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200 text-xs",title:"0..100 (%)"})}function xA({selected:r,onSaveSelected:e,createZone:i,duplicateZone:a,deleteZone:o}){const[f,d]=mt.useState(""),[y,v]=mt.useState(""),[_,S]=mt.useState(""),[w,O]=mt.useState(""),[G,$]=mt.useState(null),st=A=>JSON.parse(JSON.stringify(A));if(mt.useEffect(()=>{$(r?st(r):null)},[r?.id]),!r)return T.jsxs("div",{className:"text-sm text-slate-600",children:[" ,    .",T.jsx("div",{className:"mt-3 flex gap-2",children:T.jsxs(Xs,{onClick:()=>i?.(),title:" ",children:[T.jsx(eo,{className:"w-4 h-4"})," "]})})]});const tt=G&&JSON.stringify(G)!==JSON.stringify(r),vt=()=>{$(A=>A&&(A.project?{...A,project:null}:{...A,project:{title:"",description:"",metrics:{}}}))},Tt=(A,x)=>{$(M=>({...M,params:{...M?.params||{},[A]:x}}))},gt=A=>{$(x=>{const M={...x?.params||{}};return delete M[A],{...x,params:M}})},Bt=(A,x)=>{$(M=>({...M,project:{...M?.project||{title:"",description:"",metrics:{}},metrics:{...M?.project?.metrics||{},[A]:x}}}))},Ft=A=>{$(x=>{const M={...x?.project?.metrics||{}};return delete M[A],{...x,project:{...x?.project||{title:"",description:"",metrics:{}},metrics:M}}})},At=Yv(G?.status),N=At.icon;return T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsxs("div",{className:"col-span-12 md:col-span-5",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"font-semibold",children:[": ",r.id]}),T.jsxs("div",{className:`inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full ring-1 ${At.cls}`,children:[T.jsx(N,{className:"w-4 h-4"})," ",At.label]})]}),T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx(es,{label:"",className:"col-span-12",children:T.jsx("input",{value:G?.name||"",onChange:A=>$(x=>({...x,name:A.target.value})),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(es,{label:"",className:"col-span-6",children:T.jsx("input",{value:G?.status||"",onChange:A=>$(x=>({...x,status:A.target.value})),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(es,{label:"",className:"col-span-6",children:T.jsx("input",{value:G?.area||"",onChange:A=>$(x=>({...x,area:A.target.value})),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(es,{label:"",className:"col-span-12",children:T.jsx("input",{value:G?.type||"",onChange:A=>$(x=>({...x,type:A.target.value})),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsxs("div",{className:"col-span-12 flex flex-wrap gap-2",children:[T.jsxs("button",{onClick:()=>$(A=>({...A,hasProject:!A?.hasProject})),className:"px-3 py-2 rounded-xl border text-sm transition flex items-center gap-2 "+(G?.hasProject?"bg-amber-500 text-white border-amber-500 hover:bg-amber-600":"bg-white border-slate-200 text-slate-800 hover:bg-slate-50"),title:"   ?",children:[T.jsx(oc,{className:"w-4 h-4"}),"  ?: ",G?.hasProject?"":""]}),T.jsxs(Xs,{onClick:()=>G&&e(G),disabled:!tt,title:" ",children:[T.jsx(vo,{className:"w-4 h-4"}),""]}),T.jsxs(Ke,{onClick:()=>$(st(r)),disabled:!tt,title:" (  )",children:[T.jsx(xc,{className:"w-4 h-4"}),""]}),T.jsxs(Ke,{onClick:()=>a?.(r.id),title:"",children:[T.jsx(Zv,{className:"w-4 h-4"}),""]}),T.jsxs("button",{onClick:()=>o?.(r.id),className:"px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-sm text-rose-700 flex items-center gap-2",children:[T.jsx(xd,{className:"w-4 h-4"}),""]})]})]})]}),T.jsxs("div",{className:"col-span-12 md:col-span-7",children:[T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[T.jsx("div",{className:"flex items-center justify-between",children:T.jsx("div",{className:"font-semibold text-sm",children:" ( )"})}),T.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(G?.params||{}).map(([A,x])=>T.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[T.jsx("div",{className:"col-span-5 text-xs text-slate-600 border border-slate-200 bg-slate-50 rounded-xl px-3 py-2 break-all",children:A}),T.jsx("input",{value:String(x),onChange:M=>Tt(A,M.target.value),className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200 break-all"}),T.jsx("button",{onClick:()=>gt(A),className:"col-span-1 px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-rose-700",title:"",children:T.jsx(wd,{className:"w-4 h-4"})})]},A))}),T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx("input",{value:f,onChange:A=>d(A.target.value),placeholder:"",className:"col-span-5 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("input",{value:y,onChange:A=>v(A.target.value),placeholder:"",className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("button",{onClick:()=>{const A=f.trim();A&&(Tt(A,y),d(""),v(""))},className:"col-span-1 px-3 py-2 rounded-xl bg-amber-500 text-white border border-amber-500 hover:bg-amber-600 transition",title:" ",children:T.jsx(eo,{className:"w-4 h-4"})})]})]}),T.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-white p-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"font-semibold text-sm",children:" "}),T.jsx("div",{className:"flex gap-2",children:T.jsx(Ke,{onClick:vt,title:"/ ",children:G?.project?T.jsxs(T.Fragment,{children:[T.jsx(xd,{className:"w-4 h-4"}),"  "]}):T.jsxs(T.Fragment,{children:[T.jsx(eo,{className:"w-4 h-4"}),"  "]})})})]}),G?.project?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx(es,{label:" ",className:"col-span-12 md:col-span-6",children:T.jsx("input",{value:G.project.title||"",onChange:A=>$(x=>({...x,project:{...x.project||{},title:A.target.value}})),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(es,{label:" ",className:"col-span-12 md:col-span-6",children:T.jsx("input",{value:G.project.description||"",onChange:A=>$(x=>({...x,project:{...x.project||{},description:A.target.value}})),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})})]}),T.jsx("div",{className:"mt-3 text-sm font-semibold",children:""}),T.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(G.project.metrics||{}).map(([A,x])=>T.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[T.jsx("div",{className:"col-span-5 text-xs text-slate-600 border border-slate-200 bg-slate-50 rounded-xl px-3 py-2 break-all",children:A}),T.jsx("input",{value:String(x),onChange:M=>Bt(A,M.target.value),className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200 break-all"}),T.jsx("button",{onClick:()=>Ft(A),className:"col-span-1 px-3 py-2 rounded-xl border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-rose-700",title:"",children:T.jsx(wd,{className:"w-4 h-4"})})]},A))}),T.jsxs("div",{className:"mt-3 grid grid-cols-12 gap-2",children:[T.jsx("input",{value:_,onChange:A=>S(A.target.value),placeholder:"",className:"col-span-5 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("input",{value:w,onChange:A=>O(A.target.value),placeholder:"",className:"col-span-6 px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"}),T.jsx("button",{onClick:()=>{const A=_.trim();A&&(Bt(A,w),S(""),O(""))},className:"col-span-1 px-3 py-2 rounded-xl bg-amber-500 text-white border border-amber-500 hover:bg-amber-600 transition",title:" ",children:T.jsx(eo,{className:"w-4 h-4"})})]})]}):T.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["  .        ",T.jsx("b",{children:""}),"."]})]})]})]})}function wA({zones:r,onSelect:e,onSaveAll:i,deleteZone:a,duplicateZone:o}){const[f,d]=mt.useState(()=>JSON.parse(JSON.stringify(r||[]))),[y,v]=mt.useState(!1);mt.useEffect(()=>{d(JSON.parse(JSON.stringify(r||[]))),v(!1)},[r]);const _=(w,O)=>{d(G=>G.map($=>$.id===w?{...$,...O}:$)),v(!0)},S=(w,O)=>{d(G=>G.map($=>{if($.id!==w)return $;const st={...$.rect||{x:0,y:0,w:0,h:0},...O};return{...$,rect:st,shape:"rect"}})),v(!0)};return T.jsxs("div",{className:"overflow-auto",children:[T.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[T.jsxs("div",{className:"text-sm text-slate-600",children:["  ( ):    ",T.jsx("b",{children:" "}),"."]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs(Xs,{onClick:()=>i?.(f),disabled:!y,title:"  ",children:[T.jsx(vo,{className:"w-4 h-4"})," "]}),T.jsxs(Ke,{onClick:()=>{d(JSON.parse(JSON.stringify(r||[]))),v(!1)},disabled:!y,title:"  ",children:[T.jsx(xc,{className:"w-4 h-4"}),""]})]})]}),T.jsxs("div",{className:"min-w-[1000px] rounded-xl border border-slate-200 bg-white overflow-hidden",children:[T.jsxs("div",{className:"grid grid-cols-12 bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-700",children:[T.jsx("div",{className:"col-span-1 px-3 py-2",children:"ID"}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-1 px-3 py-2",children:""}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:"rect (x y w h) %"}),T.jsx("div",{className:"col-span-1 px-3 py-2 text-right",children:""})]}),f.map(w=>T.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-100 text-sm",children:[T.jsx("button",{className:"col-span-1 px-3 py-2 text-left font-semibold text-slate-900 hover:underline",onClick:()=>e?.(w.id),title:" ",children:w.id}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:T.jsx("input",{value:w.name||"",onChange:O=>_(w.id,{name:O.target.value}),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:T.jsx("input",{value:w.status||"",onChange:O=>_(w.id,{status:O.target.value}),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx("div",{className:"col-span-2 px-3 py-2",children:T.jsx("input",{value:w.type||"",onChange:O=>_(w.id,{type:O.target.value}),className:"w-full px-2 py-1 rounded-lg border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx("div",{className:"col-span-1 px-3 py-2 flex items-center",children:T.jsx("input",{type:"checkbox",checked:!!w.hasProject,onChange:O=>_(w.id,{hasProject:O.target.checked}),className:"w-4 h-4 accent-amber-500"})}),T.jsx("div",{className:"col-span-3 px-3 py-2",children:w.shape==="rect"&&w.rect?T.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[T.jsx(ec,{value:w.rect.x??0,onChange:O=>S(w.id,{x:O})}),T.jsx(ec,{value:w.rect.y??0,onChange:O=>S(w.id,{y:O})}),T.jsx(ec,{value:w.rect.w??0,onChange:O=>S(w.id,{w:O})}),T.jsx(ec,{value:w.rect.h??0,onChange:O=>S(w.id,{h:O})})]}):T.jsx("div",{className:"text-xs text-slate-400",children:""})}),T.jsxs("div",{className:"col-span-1 px-3 py-2 flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>o?.(w.id),className:"p-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 transition",title:"",children:T.jsx(Zv,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>a?.(w.id),className:"p-2 rounded-lg border border-rose-200 bg-rose-50 hover:bg-rose-100 transition text-rose-700",title:"",children:T.jsx(xd,{className:"w-4 h-4"})})]})]},w.id))]})]})}function RA({settings:r,saveSettingsNow:e,resetAllToDefaults:i}){const[a,o]=mt.useState(()=>r);mt.useEffect(()=>{o(r)},[r]);const f=JSON.stringify(a)!==JSON.stringify(r),d=(v,_)=>{o(S=>({...S,[v]:_}))},y=(v,_)=>{o(S=>({...S,strings:{...Lr,...S.strings||{},[v]:_}}))};return T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsx("div",{className:"col-span-12 md:col-span-7",children:T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[T.jsx("div",{className:"font-semibold",children:" "}),T.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"    ."}),T.jsxs("div",{className:"mt-4 grid grid-cols-12 gap-2",children:[T.jsx(es,{label:" ",className:"col-span-12",children:T.jsx("input",{value:a.projectName||"",onChange:v=>d("projectName",v.target.value),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(es,{label:"",className:"col-span-12",children:T.jsx("input",{value:a.projectSubtitle||"",onChange:v=>d("projectSubtitle",v.target.value),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})}),T.jsx(es,{label:" ",className:"col-span-12 md:col-span-6",children:T.jsx("input",{value:a.adminPassword||"",onChange:v=>d("adminPassword",v.target.value),className:"w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200"})})]}),T.jsxs("div",{className:"mt-4 flex gap-2",children:[T.jsxs(Xs,{onClick:()=>e?.(a),disabled:!f,title:" ",children:[T.jsx(vo,{className:"w-4 h-4"}),""]}),T.jsxs(Ke,{onClick:()=>o(r),disabled:!f,title:" ",children:[T.jsx(xc,{className:"w-4 h-4"}),""]})]})]})}),T.jsx("div",{className:"col-span-12 md:col-span-5",children:T.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-4",children:[T.jsx("div",{className:"font-semibold text-rose-800",children:" "}),T.jsx("div",{className:"text-xs text-rose-700 mt-1",children:"    ,   ."}),T.jsxs("button",{onClick:i,className:"mt-4 px-3 py-2 rounded-xl border border-rose-200 bg-white hover:bg-rose-100 transition text-rose-800 flex items-center gap-2",children:[T.jsx(_A,{className:"w-4 h-4"})," "]})]})}),T.jsx("div",{className:"col-span-12",children:T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 mt-4",children:[T.jsx("div",{className:"font-semibold",children:" "}),T.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"   .      ."}),T.jsx("div",{className:"mt-3 grid grid-cols-12 gap-2",children:Object.keys(Lr).map(v=>T.jsxs(N2.Fragment,{children:[T.jsx("div",{className:"col-span-3 text-xs text-slate-600 flex items-center",children:v}),T.jsx("input",{className:"col-span-9 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200",value:(a.strings||{})[v]??"",onChange:_=>y(v,_.target.value)})]},v))}),T.jsxs("div",{className:"mt-4 flex gap-2",children:[T.jsxs(Xs,{onClick:()=>e?.(a),disabled:!f,title:" ",children:[T.jsx(vo,{className:"w-4 h-4"}),""]}),T.jsxs(Ke,{onClick:()=>o(r),disabled:!f,title:" ",children:[T.jsx(xc,{className:"w-4 h-4"}),""]})]})]})})]})}function CA(){const[r,e]=mt.useState([]),[i,a]=mt.useState(()=>{const P=td(localStorage.getItem($f),null);return P?{...Kl,...P,strings:{...Lr,...P.strings||{}}}:Kl}),[o,f]=mt.useState(!1);mt.useEffect(()=>{(async()=>{const P=Ps(Hs,"zones","main");(await Z0(P)).exists()||await Rr(P,{items:e_})})()},[]);async function d(){if(!confirm("    ?"))return;const P=e_,it=Kl;e(P),a(it);try{await Rr(Ps(Hs,"zones","main"),{items:P},{merge:!0}),await Rr(Ps(Hs,"settings","main"),it,{merge:!0})}catch(ht){console.error(ht),alert("  .")}localStorage.setItem($f,JSON.stringify(Kl)),D(null),W(!1)}mt.useEffect(()=>{(async()=>{const P=Ps(Hs,"settings","main");(await Z0(P)).exists()||await Rr(P,Kl)})()},[]);async function y(P){a(P);try{await Rr(Ps(Hs,"settings","main"),P,{merge:!0}),localStorage.setItem($f,JSON.stringify(P))}catch(it){console.error(it),alert("   .")}}const v=mt.useRef(!1),_=mt.useRef(!1),S=mt.useRef(!1),w=mt.useRef(!1);mt.useEffect(()=>{const P=Ps(Hs,"settings","main"),it=F0(P,ht=>{ht.exists()&&(v.current=!0,a(ut=>({...ut,...ht.data(),strings:{...Lr,...ht.data().strings||{}}})),_.current=!0,queueMicrotask(()=>{v.current=!1}))});return()=>it()},[]);async function O(P,it=!1){if(!it&&!o)return;const ht=Ps(Hs,"zones","main");await Rr(ht,{items:P},{merge:!0})}async function G(P){e(P),o&&await O(P,!0)}function $(P){const it=r.map(ht=>ht.id===P.id?P:ht);G(it).catch(console.error)}function st(P){G(P).catch(console.error)}mt.useEffect(()=>{const P=Ps(Hs,"zones","main"),it=F0(P,ht=>{if(!ht.exists())return;const ut=ht.data();Array.isArray(ut.items)&&(S.current=!0,e(ut.items),w.current=!0,queueMicrotask(()=>{S.current=!1}))});return()=>it()},[]);const[tt,vt]=mt.useState(!1);mt.useEffect(()=>{let P=0;const it=new Image,ht=new Image,ut=new Image,le=()=>{P++,P===3&&vt(!0)};it.onload=le,ht.onload=le,ut.onload=le,it.onerror=le,ht.onerror=le,ut.onerror=le,it.src=$0,ht.src=W0,ut.src=zy},[]);const[Tt,gt]=mt.useState(!1),[Bt,Ft]=mt.useState(""),[At,N]=mt.useState("details");mt.useEffect(()=>{td(localStorage.getItem(Wf),null)?.isAdmin&&f(!0)},[]);const[A,x]=mt.useState(()=>{const P=td(localStorage.getItem(t_),null);return Array.isArray(P)?P:SA});mt.useEffect(()=>{localStorage.setItem(t_,JSON.stringify(A))},[A]);const[M,D]=mt.useState(null),[j,R]=mt.useState(""),[re,we]=mt.useState(!1),[Q,W]=mt.useState(!1),[at,It]=mt.useState("base"),kt=at==="eng"?{w:1151,h:766}:{w:1280,h:844},[I,Y]=mt.useState(!0),[nt,rt]=mt.useState(!0),_t=mt.useRef(null),wt=mt.useRef(null),[Dt,Ee]=mt.useState(1),[Xt,Vi]=mt.useState({x:0,y:0}),te=mt.useRef({dragging:!1,pid:null,sx:0,sy:0,px:0,py:0,moved:!1}),[Rn,Gn]=mt.useState({id:null,x:0,y:0}),yn=mt.useRef(null),Cn=at==="eng"?A:r,Kt=mt.useMemo(()=>Cn.find(P=>P.id===M)||null,[Cn,M]),rs=mt.useMemo(()=>{const P=j.trim().toLowerCase();let it=Cn;return P?it.filter(ht=>`${ht.id} ${ht.name} ${ht.status} ${ht.type} ${ht.area}`.toLowerCase().includes(P)):it},[Cn,j,re,o,at]),Ii=mt.useMemo(()=>{const P=r.length,it=r.filter(ut=>ut.hasProject).length,ht=r.filter(ut=>["active",""," ","construction"," "].includes((ut.status||"").toLowerCase())).length;return{total:P,withProject:it,active:ht}},[r]);function pe(P){P.preventDefault(),P.stopPropagation();const ht=-P.deltaY>0?1.08:.92;Ee(ut=>Fv(ut*ht,.6,3.5))}function Te(P){if(P.button!==0)return;if(P.target?.closest?.("[data-zoneid]")){te.current.moved=!1;return}const ht=_t.current;if(ht){te.current.dragging=!0,te.current.pid=P.pointerId,te.current.sx=P.clientX,te.current.sy=P.clientY,te.current.px=Xt.x,te.current.py=Xt.y,te.current.moved=!1;try{ht.setPointerCapture(P.pointerId)}catch{}}}function ai(P){const it=_t.current?.getBoundingClientRect();if(!it||(Gn(le=>({...le,x:P.clientX-it.left,y:P.clientY-it.top})),!te.current.dragging)||te.current.pid!==P.pointerId)return;const ht=P.clientX-te.current.sx,ut=P.clientY-te.current.sy;(Math.abs(ht)>2||Math.abs(ut)>2)&&(te.current.moved=!0),Vi({x:te.current.px+ht,y:te.current.py+ut})}function Fr(P){te.current.pid===P.pointerId&&(te.current.dragging=!1,te.current.pid=null)}function Ua(){te.current.dragging=!1,te.current.pid=null,Gn({id:null,x:0,y:0})}function ke(){Bt===i.adminPassword?(f(!0),localStorage.setItem(Wf,JSON.stringify({isAdmin:!0,at:Date.now()})),gt(!1),Ft("")):alert("  .")}function Oi(){f(!1),localStorage.removeItem(Wf),N("details")}function ls(){let P=1,it=`ZNEW${P}`;const ht=new Set(r.map(Nn=>Nn.id));for(;ht.has(it);)P+=1,it=`ZNEW${P}`;const ut={id:it,name:`  ${it}`,status:"planned",area:"",type:"",hasProject:!0,shape:"path",d:"",params:{},project:{title:"",description:"",metrics:{}}},le=[...r,ut];return G(le).catch(console.error),D(it),W(!0),it}function os(P){const it=r.find(tn=>tn.id===P);if(!it)return;let ht=1,ut=`${it.id}_copy${ht}`;const le=new Set(r.map(tn=>tn.id));for(;le.has(ut);)ht+=1,ut=`${it.id}_copy${ht}`;const Nn={...it,id:ut,name:`${it.name} (copy)`},us=[...r,Nn];G(us).catch(console.error),D(ut),W(!0)}function Qn(P){if(!confirm(`  ${P}?`))return;const it=r.filter(ht=>ht.id!==P);G(it).catch(console.error),M===P&&(D(null),W(!1))}function Yr(){AA("build-area.export.json",{settings:i,zones:r})}function Ba(){yn.current?.click()}async function ka(P){const it=P.target.files?.[0];if(P.target.value="",!!it)try{const ht=await it.text(),ut=JSON.parse(ht);if(Array.isArray(ut)){e(ut),alert("  .");return}if(ut&&Array.isArray(ut.zones)){ut.settings&&a(le=>({...le,...ut.settings,strings:{...Lr,...ut.settings.strings||{}}})),e(ut.zones),alert(" (settings+zones) .");return}throw new Error("  JSON")}catch(ht){alert(" : "+(ht?.message||""))}}const Li=mt.useMemo(()=>at==="base"?ed.base:at==="project"?ed.project:ed.eng,[at]);return T.jsxs(T.Fragment,{children:[T.jsx("style",{children:`
        @keyframes orangeGradient {
          0%   { background-position: 0% 50%; }
          50%  { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
      `}),T.jsxs("div",{className:"min-h-screen text-slate-900",style:{background:"linear-gradient(-45deg, #7a3b1c, #9a4a1f, #c1652a, #e38a3f)",backgroundSize:"400% 400%",animation:"orangeGradient 18s ease infinite",fontFamily:"'Montserrat', sans-serif"},children:[T.jsx("div",{className:"sticky top-0 z-40 border-b bg-white/90 backdrop-blur",children:T.jsxs("div",{className:"px-5 py-4 flex items-center justify-between gap-3",children:[T.jsxs("div",{className:"flex items-center gap-3 min-w-[260px]",children:[T.jsx("div",{className:"w-11 h-11 rounded-2xl bg-slate-900 text-white grid place-items-center shadow-sm",children:T.jsx(W4,{className:"w-5 h-5"})}),T.jsxs("div",{className:"leading-tight",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"font-semibold tracking-tight",style:{fontFamily:"'Oswald', sans-serif"},children:i.projectName}),T.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-slate-100 border border-slate-200 text-slate-700",children:"SOKIL"})]}),T.jsx("div",{className:"text-xs text-slate-600",children:i.projectSubtitle})]})]}),T.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[T.jsxs("div",{className:"flex items-center rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm",children:[T.jsx(hA,{className:"w-4 h-4 text-slate-500 ml-3"}),T.jsx("input",{value:j,onChange:P=>R(P.target.value),placeholder:i.strings.searchPlaceholder,className:"bg-transparent outline-none text-sm placeholder:text-slate-400 w-[220px] px-3 py-2"})]}),T.jsxs(Ke,{onClick:()=>It(P=>P==="base"?"project":P==="project"?"eng":"base"),title:" ",className:at!=="base"?"bg-amber-50 border-amber-200":"",children:[T.jsx(oc,{className:"w-4 h-4"}),at==="base"?"  ":at==="project"?"  ":" . "]}),o?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(Ke,{onClick:Yr,title:"  (settings + zones)",children:[T.jsx(X4,{className:"w-4 h-4"}),i.strings.export]}),T.jsxs(Ke,{onClick:Ba,title:" JSON",children:[T.jsx(TA,{className:"w-4 h-4"}),i.strings.import]}),T.jsxs(Ke,{onClick:Oi,title:"",className:"text-rose-700 border-rose-200 bg-rose-50 hover:bg-rose-100",children:[T.jsx(aA,{className:"w-4 h-4"}),i.strings.logout]})]}):T.jsxs(Xs,{onClick:()=>gt(!0),title:"  ",children:[T.jsx(mA,{className:"w-4 h-4"}),""]}),T.jsx("input",{ref:yn,type:"file",accept:"application/json",onChange:ka,className:"hidden"})]})]})}),T.jsx("div",{className:"md:hidden px-5 pt-3",children:T.jsxs(Ke,{onClick:()=>It(P=>P==="base"?"project":P==="project"?"eng":"base"),className:"w-full justify-center bg-amber-50 border-amber-200",children:[T.jsx(oc,{className:"w-4 h-4"}),at==="base"?"  ":at==="project"?"  ":" "]})}),T.jsx("div",{className:"px-5 py-5",children:T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsxs("div",{className:"col-span-12 lg:col-span-3 order-2 lg:order-1",children:[T.jsxs(Wu,{className:"p-4",children:[T.jsxs("div",{className:"flex items-start justify-between gap-3",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.overviewTitle}),T.jsx("div",{className:"text-xs text-slate-600 mt-1 whitespace-pre-line",children:i.strings.overviewDesc})]}),T.jsx(tc,{icon:X0,text:`: ${Dt.toFixed(2)}x`,className:"bg-slate-50 border-slate-200 text-slate-700"})]}),T.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.zones}),T.jsx("div",{className:"text-xl font-semibold",children:Ii.total})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.inProject}),T.jsx("div",{className:"text-xl font-semibold",children:Ii.withProject})]}),T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.active}),T.jsx("div",{className:"text-xl font-semibold",children:Ii.active})]})]}),T.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-white p-3",children:[T.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[T.jsx(oA,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-medium",children:i.strings.navigation})]}),T.jsx("div",{className:"mt-2 text-xs text-slate-600 leading-relaxed whitespace-pre-line",children:i.strings.navDesc})]}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.selectedZone}),T.jsxs(Ke,{onClick:()=>Kt&&W(!0),disabled:!Kt||!1,title:" ",children:[T.jsx(Sd,{className:"w-4 h-4"}),i.strings.detailsButton]})]}),Kt?T.jsxs("div",{className:"mt-2 rounded-xl border border-slate-200 bg-white p-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"font-semibold",children:Kt.name}),T.jsx("span",{className:"text-xs px-2 py-1 rounded-full border border-slate-200 bg-slate-50 text-slate-700",children:Kt.id})]}),T.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[(()=>{const P=Yv(Kt.status),it=P.icon;return T.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs px-2 py-1 rounded-full ring-1 ${P.cls}`,children:[T.jsx(it,{className:"w-4 h-4"})," ",P.label]})})(),T.jsx(tc,{icon:X0,text:Kt.area||"",className:"bg-slate-50 border-slate-200 text-slate-700"}),T.jsx(tc,{icon:J4,text:Kt.type||"",className:"bg-slate-50 border-slate-200 text-slate-700"}),T.jsx(tc,{icon:oc,text:Kt.hasProject?"":"",className:Kt.hasProject?"bg-amber-50 border-amber-200 text-amber-900":"bg-slate-50 border-slate-200 text-slate-700"})]})]}):T.jsx("div",{className:"mt-2 text-sm text-slate-600",children:i.strings.selectZonePrompt})]})]}),T.jsx("div",{className:"mt-4",children:T.jsxs(Wu,{className:"p-3",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.zones}),T.jsx("span",{className:"text-xs text-slate-600",children:rs.length})]}),T.jsx("div",{className:"mt-2 max-h-[360px] overflow-auto pr-1",children:rs.map(P=>{const it=M===P.id;return T.jsxs("button",{onClick:()=>{D(P.id),W(!0)},className:"w-full text-left px-3 py-2 rounded-xl transition mb-1 border "+(it?"bg-slate-900 text-white border-slate-900":"bg-white border-slate-200 hover:bg-slate-50"),children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"font-medium",children:[P.id,"  ",P.name]}),T.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full border "+(P.hasProject?"bg-amber-50 border-amber-200 text-amber-900":"bg-slate-50 border-slate-200 text-slate-600"),children:P.hasProject?"":""})]}),T.jsxs("div",{className:"mt-1 text-xs "+(it?"text-white/70":"text-slate-600"),children:[P.type||""," ",T.jsx("span",{className:"opacity-50",children:""})," ",P.status||""]})]},P.id)})}),o?T.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[T.jsxs(Xs,{onClick:()=>ls(),title:"  ",children:[T.jsx(eo,{className:"w-4 h-4"}),i.strings.addZone]}),T.jsxs(Ke,{onClick:()=>N("table"),title:" ",children:[T.jsx(J0,{className:"w-4 h-4"}),i.strings.tableEditor]})]}):null]})})]}),T.jsxs("div",{className:"col-span-12 lg:col-span-9 order-1 lg:order-2",children:[T.jsxs(Wu,{className:"p-3",children:[T.jsx("div",{className:"flex items-center justify-between px-2 pb-3",children:T.jsxs("div",{children:[T.jsx("div",{className:"font-semibold",children:i.strings.interactiveMapTitle}),T.jsx("div",{className:"text-xs text-slate-600",children:i.strings.interactiveMapDesc})]})}),T.jsxs("div",{ref:_t,onWheel:pe,onPointerDown:Te,onPointerMove:ai,onPointerUp:Fr,onPointerLeave:Ua,className:"relative w-full overflow-hidden rounded-2xl border border-slate-200 bg-white select-none cursor-grab",style:{touchAction:"none",aspectRatio:at==="eng"?"1151/766":"1280/844"},children:[T.jsxs("div",{className:"absolute inset-0",style:{transform:`translate(${Xt.x}px, ${Xt.y}px) scale(${Dt})`,transformOrigin:"50% 50%",willChange:"transform"},children:[!tt&&T.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center",children:T.jsx("div",{className:"rounded-2xl bg-white/90 border border-slate-200 px-4 py-2 text-sm text-slate-700 shadow-sm",children:" "})}),T.jsxs("svg",{ref:wt,className:"absolute inset-0",viewBox:`0 0 ${kt.w} ${kt.h}`,preserveAspectRatio:"none",style:{width:"100%",height:"100%"},children:[T.jsx("image",{href:at==="base"?$0:at==="project"?W0:zy,x:Li.x,y:Li.y,width:kt.w*Li.s,height:kt.h*Li.s,preserveAspectRatio:"none",style:{pointerEvents:"none"}}),Cn.map(P=>{if(nt&&!P.hasProject&&!o)return null;const it=P.shape==="line";if(!(P.shape==="path")&&!it||!P.d)return null;const ut=M===P.id,le=Rn.id===P.id,Nn=ut?2.4:le?1.8:1.15,us=ut?"rgba(255,255,255,0.95)":le?"rgba(255,255,255,0.85)":"rgba(255,255,255,0.55)",tn=ut?"rgba(255,255,255,0.14)":le?"rgba(255,255,255,0.20)":"rgba(255,255,255,0.06)";return T.jsxs("g",{children:[(()=>{const Zn=P.shape==="line",ye=Zn?18:1;return T.jsx("path",{"data-zoneid":P.id,d:P.d,fill:Zn?"none":"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",strokeWidth:ye,pointerEvents:I?Zn?"stroke":"all":"none",onMouseEnter:()=>Gn(en=>({...en,id:P.id})),onMouseLeave:()=>Gn(en=>en.id===P.id?{...en,id:null}:en),onClick:()=>{te.current.moved||(D(P.id),W(!0))}})})(),T.jsx("path",{d:P.d,fill:P.shape==="line"?"none":tn,stroke:us,strokeWidth:P.shape==="line"?ut?3.2:le?2.6:2:Nn,strokeDasharray:P.dash?P.dash:void 0,vectorEffect:"non-scaling-stroke",style:{pointerEvents:"none",strokeOpacity:I?1:0,fillOpacity:I?1:0,transition:"fill 0.15s ease, stroke 0.15s ease, stroke-width 0.15s ease",filter:le||ut?"drop-shadow(0 0 10px rgba(255,255,255,0.22))":"none"}})]},P.id)})]})]}),Rn.id?T.jsx("div",{className:"absolute z-30 pointer-events-none",style:{left:Rn.x+12,top:Rn.y+12},children:(()=>{const P=Cn.find(it=>it.id===Rn.id);return P?T.jsxs("div",{className:"rounded-2xl bg-white border border-slate-200 px-3 py-2 shadow-md",children:[T.jsx("div",{className:"text-sm font-semibold text-slate-900",children:P.name}),T.jsxs("div",{className:"mt-1 text-xs text-slate-600 flex items-center gap-2",children:[T.jsx("span",{children:P.type||""}),T.jsx("span",{className:"opacity-50",children:""}),T.jsx("span",{children:P.status||""}),T.jsx("span",{className:"opacity-50",children:""}),T.jsx("span",{children:P.hasProject?"":""})]})]}):null})()}):null,T.jsxs("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-2 pointer-events-none",children:[T.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-white border border-slate-200 text-slate-700 shadow-sm",children:i.strings.navigationHintPan}),T.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-white border border-slate-200 text-slate-700 shadow-sm",children:i.strings.navigationHintZoom}),at==="base"?T.jsx("span",{className:"text-xs px-3 py-1.5 rounded-full bg-amber-50 border border-amber-200 text-amber-900 shadow-sm",children:""}):null]})]})]}),o?T.jsx("div",{className:"mt-4",children:T.jsxs(Wu,{className:"p-4",children:[T.jsxs("div",{className:"flex items-center justify-between gap-3",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(K0,{className:"w-5 h-5 text-slate-700"}),T.jsxs("div",{children:[T.jsx("div",{className:"font-semibold",children:"-"}),T.jsx("div",{className:"text-xs text-slate-600",children:"   ."})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs(Ke,{onClick:()=>N("details"),className:At==="details"?"bg-slate-50":"",children:[T.jsx(Sd,{className:"w-4 h-4"}),""]}),T.jsxs(Ke,{onClick:()=>N("table"),className:At==="table"?"bg-slate-50":"",children:[T.jsx(J0,{className:"w-4 h-4"}),""]}),T.jsxs(Ke,{onClick:()=>N("settings"),className:At==="settings"?"bg-slate-50":"",children:[T.jsx(K0,{className:"w-4 h-4"}),""]})]})]}),T.jsxs("div",{className:"mt-4",children:[At==="details"?T.jsx(xA,{selected:Kt,onSaveSelected:$,createZone:ls,duplicateZone:os,deleteZone:Qn}):null,At==="table"?T.jsx(wA,{zones:r,onSelect:D,onSaveAll:st,deleteZone:Qn,duplicateZone:os}):null,At==="settings"?T.jsx(RA,{settings:i,saveSettingsNow:y,resetAllToDefaults:d}):null]})]})}):null]})]})}),Q&&Kt?T.jsx(n_,{onClose:()=>W(!1),title:`${Kt.id}  ${Kt.name}`,children:T.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[T.jsxs("div",{className:"col-span-12 md:col-span-5",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.paramTitle}),T.jsx("div",{className:"mt-2 rounded-xl border border-slate-200 bg-slate-50 p-3",children:Kt.params&&Object.keys(Kt.params).length?T.jsx("div",{className:"space-y-2",children:Object.entries(Kt.params).map(([P,it])=>T.jsxs("div",{className:"flex items-center justify-between gap-3",children:[T.jsx("div",{className:"text-xs text-slate-600 break-all",children:P}),T.jsx("div",{className:"text-sm text-slate-900 text-right break-all",children:String(it)})]},P))}):T.jsx("div",{className:"text-sm text-slate-600",children:i.strings.paramEmpty})})]}),T.jsxs("div",{className:"col-span-12 md:col-span-7",children:[T.jsx("div",{className:"text-sm font-semibold",children:i.strings.projectInfoTitle}),T.jsx("div",{className:"mt-2 rounded-xl border border-slate-200 bg-white p-3",children:Kt.project?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-base font-semibold",children:Kt.project.title||""}),T.jsx("div",{className:"mt-1 text-sm text-slate-600 leading-relaxed",children:Kt.project.description||""}),T.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:Object.entries(Kt.project.metrics||{}).map(([P,it])=>T.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[T.jsx("div",{className:"text-xs text-slate-600 break-all",children:P}),T.jsx("div",{className:"text-sm font-semibold mt-1",children:String(it)})]},P))})]}):T.jsx("div",{className:"text-sm text-slate-600",children:i.strings.noProject})})]})]})}):null,Tt?T.jsxs(n_,{onClose:()=>gt(!1),title:i.strings.adminLoginTitle,small:!0,children:[T.jsx("div",{className:"text-sm text-slate-600",children:i.strings.adminLoginDesc}),T.jsxs("div",{className:"mt-4",children:[T.jsx("label",{className:"text-xs text-slate-600",children:i.strings.adminPasswordLabel}),T.jsx("input",{type:"password",value:Bt,onChange:P=>Ft(P.target.value),onKeyDown:P=>P.key==="Enter"&&ke(),className:"mt-1 w-full px-3 py-2 rounded-xl border border-slate-200 bg-white outline-none focus:ring-2 focus:ring-amber-200",placeholder:""})]}),T.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[T.jsx(Ke,{onClick:()=>gt(!1),children:i.strings.cancel}),T.jsxs(Xs,{onClick:ke,title:"",children:[T.jsx(iA,{className:"w-4 h-4"}),i.strings.login]})]})]}):null]})]})}j2.createRoot(document.getElementById("root")).render(T.jsx(mt.StrictMode,{children:T.jsx(CA,{})}));
